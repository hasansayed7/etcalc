{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hasan\\\\Desktop\\\\vscode\\\\etcalc\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect, useMemo } from \"react\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport QRCode from 'qrcode';\nimport { PRODUCTS } from './data/products';\nimport { getPricingData, getPackageName, getRecommendations, generateEmailSubject, calculateProductRow } from './utils/pricing';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport Login from './components/Login';\nimport bgCloud from './assets/bg_cloud.png';\nimport Notification from './components/Notification';\nimport { sendEmail } from './utils/emailService';\nimport emailjs from '@emailjs/browser';\nimport logoPng from './assets/et_dark.png';\nimport ProductTable from './components/ProductTable';\n\n// Replace EXCELYTECH_LOGO with base64 string\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EXCELYTECH_LOGO = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtbC4uLg=='; // <-- Replace with your actual base64 string\n\n// Helper to fetch image as Data URL\nasync function getImageDataUrl(url) {\n  const response = await fetch(url);\n  const blob = await response.blob();\n  return new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.readAsDataURL(blob);\n  });\n}\nexport default function App() {\n  _s();\n  // Theme state\n  const [darkMode, setDarkMode] = useState(false);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [products, setProducts] = useState([]);\n  const [selectedProduct, setSelectedProduct] = useState(PRODUCTS[0].name);\n  const [qty, setQty] = useState(1);\n  const [serviceCharge, setServiceCharge] = useState(0);\n  const [billingCycle, setBillingCycle] = useState(\"monthly\");\n  const [waiveStripe, setWaiveStripe] = useState(false);\n  const [customerName, setCustomerName] = useState(\"\");\n  const [salutation, setSalutation] = useState(\"Mr.\");\n  const [customerEmail, setCustomerEmail] = useState(\"\");\n  const [customerAddress, setCustomerAddress] = useState(\"\");\n  const [customerCompany, setCustomerCompany] = useState(\"\");\n  const [customerPhone, setCustomerPhone] = useState(\"\");\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const [notification, setNotification] = useState(\"\");\n  const [notificationKey, setNotificationKey] = useState(0);\n  const [customProducts, setCustomProducts] = useState([]);\n  const [showAddProductForm, setShowAddProductForm] = useState(false);\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    description: '',\n    license: '',\n    unitCost: 0,\n    margin: 35\n  });\n  const [validationError, setValidationError] = useState(\"\");\n  const [canTime, setCanTime] = useState(new Date());\n  const [indTime, setIndTime] = useState(new Date());\n  const [usTime, setUsTime] = useState(new Date());\n  // 1. Add card type selector state\n  const [cardType, setCardType] = useState('domestic'); // 'domestic' or 'international'\n\n  // 1. Make margin thresholds configurable\n  const [productMarginThreshold, setProductMarginThreshold] = useState(20); // default 20%\n  const [packageMarginThreshold, setPackageMarginThreshold] = useState(15); // default 15%\n\n  // Add state for Tax 2 percentage\n  const [tax2Percent, setTax2Percent] = useState(13);\n\n  // Memoize allProducts\n  const allProducts = useMemo(() => {\n    return [...PRODUCTS, ...customProducts];\n  }, [PRODUCTS, customProducts]);\n\n  // Calculate billing multiplier\n  const billingMultiplier = billingCycle === \"annual\" ? 12 : 1;\n\n  // Calculate pro fee\n  const proFeeMonthly = serviceCharge / 12;\n  const proFeeForCalc = billingCycle === \"monthly\" ? proFeeMonthly : serviceCharge;\n\n  // Memoize calculations\n  const calculations = useMemo(() => {\n    const validProducts = products.filter(p => {\n      const slab = (p.pricingSlabs || [])[0];\n      const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n      return margin !== null && !isNaN(margin) && margin >= 0.2;\n    });\n    const subtotal = validProducts.reduce((sum, p) => {\n      const pricingData = getPricingData(p, p.qty);\n      return sum + pricingData.recommendedPrice * p.qty;\n    }, 0) * billingMultiplier;\n    const tax = (subtotal + proFeeForCalc) * 0.13;\n    const stripeBase = subtotal + proFeeForCalc + tax;\n    const stripeFee = waiveStripe ? 0 : stripeBase * 0.029 + 0.30;\n    const total = stripeBase + stripeFee;\n    return {\n      subtotal,\n      tax,\n      stripeFee,\n      total,\n      stripeBase\n    };\n  }, [products, billingMultiplier, proFeeForCalc, waiveStripe]);\n  useEffect(() => {\n    document.body.style.backgroundColor = darkMode ? \"#181c24\" : \"#f7f9fc\";\n  }, [darkMode]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCanTime(new Date());\n      setIndTime(new Date());\n      setUsTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Remove unused canTimeString since we're using usCanTime\n  const indTimeString = indTime.toLocaleTimeString('en-IN', {\n    timeZone: 'Asia/Kolkata',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    hour12: true\n  }).toUpperCase();\n  const usTimeString = usTime.toLocaleTimeString('en-US', {\n    timeZone: 'America/New_York',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n  });\n\n  // Always display only one time for US EST / CAN, using US EST time\n  const usCanLabel = 'US EST / CAN';\n  const usCanTime = usTimeString;\n  const handleQtyWheel = e => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n  const validateInput = useCallback((value, type) => {\n    switch (type) {\n      case 'quantity':\n        return Number.isInteger(Number(value)) && value > 0;\n      case 'serviceCharge':\n        return !isNaN(value) && value >= 0;\n      case 'customerName':\n        return value.trim().length > 0;\n      default:\n        return true;\n    }\n  }, []);\n\n  // Use handleCustomerNameChange in the input field\n  const handleCustomerNameChange = e => {\n    const value = e.target.value;\n    if (validateInput(value, 'customerName')) {\n      setCustomerName(value);\n      setValidationError(\"\");\n    } else {\n      setValidationError(\"Please enter a valid name\");\n    }\n  };\n  const handleEmailChange = e => {\n    const value = e.target.value;\n    setCustomerEmail(value);\n    if (value && !validateEmail(value)) {\n      setValidationError(\"Please enter a valid email address\");\n    } else {\n      setValidationError(\"\");\n    }\n  };\n  const handlePhoneChange = e => {\n    const value = e.target.value;\n    setCustomerPhone(value);\n    if (value && !validatePhone(value)) {\n      setValidationError(\"Please enter a valid phone number\");\n    } else {\n      setValidationError(\"\");\n    }\n  };\n  const addProduct = useCallback(() => {\n    try {\n      if (!validateInput(qty, 'quantity')) {\n        throw new Error(\"Quantity must be a positive integer\");\n      }\n      const product = allProducts.find(p => p.name === selectedProduct);\n      if (!product) {\n        throw new Error(\"Selected product not found\");\n      }\n      setProducts(prev => {\n        const existingProduct = prev.find(p => p.name === selectedProduct);\n        if (existingProduct) {\n          return prev.map(p => p.name === selectedProduct ? {\n            ...p,\n            qty: p.qty + qty\n          } : p);\n        }\n        return [...prev, {\n          ...product,\n          qty\n        }];\n      });\n    } catch (error) {\n      console.error('Error adding product:', error);\n      showNotification(error.message);\n    }\n  }, [selectedProduct, qty, validateInput, allProducts]);\n  const removeProduct = useCallback(name => {\n    setProducts(prev => prev.filter(p => p.name !== name));\n  }, []);\n  const updateQty = useCallback((name, newQty) => {\n    try {\n      if (!validateInput(newQty, 'quantity')) {\n        throw new Error(\"Quantity must be a positive integer\");\n      }\n      setProducts(prev => prev.map(p => p.name === name ? {\n        ...p,\n        qty: Number(newQty)\n      } : p));\n    } catch (error) {\n      console.error('Error updating quantity:', error);\n      showNotification(error.message);\n    }\n  }, [validateInput]);\n  const updateMargin = (name, newMargin) => {\n    setProducts(prev => prev.map(p => {\n      if (p.name === name) {\n        // If blank or invalid, set margin to null\n        const marginValue = newMargin === null || newMargin === undefined || isNaN(newMargin) ? null : newMargin;\n        const updatedSlabs = p.pricingSlabs.map(slab => ({\n          ...slab,\n          margin: marginValue,\n          recommendedPrice: slab.unitCost * (1 + (marginValue || 0))\n        }));\n        return {\n          ...p,\n          pricingSlabs: updatedSlabs\n        };\n      }\n      return p;\n    }));\n  };\n  const styles = darkMode ? {\n    backgroundColor: \"#181c24\",\n    textColor: \"#f5f6fa\",\n    primaryColor: \"#6cb8ff\",\n    secondaryColor: \"#7fd7c4\",\n    cardBackground: \"#232a36\",\n    borderColor: \"#2a3140\",\n    tableHeaderBackground: \"#1976d2\",\n    tableHeaderText: \"#f5f6fa\",\n    buttonBackground: \"#1976d2\",\n    buttonText: \"#f5f6fa\",\n    removeButtonBackground: \"#e57373\",\n    inputBorder: \"#3a4256\",\n    hoverBackground: \"#232a36\",\n    overlay: \"linear-gradient(120deg, rgba(24,28,36,0.92) 60%, rgba(30,40,60,0.85) 100%)\"\n  } : {\n    backgroundColor: \"#f7f9fc\",\n    textColor: \"#333333\",\n    primaryColor: \"#1e88e5\",\n    secondaryColor: \"#ff6d00\",\n    cardBackground: \"#ffffff\",\n    borderColor: \"#e0e0e0\",\n    tableHeaderBackground: \"#1e88e5\",\n    tableHeaderText: \"#ffffff\",\n    buttonBackground: \"#1e88e5\",\n    buttonText: \"#ffffff\",\n    removeButtonBackground: \"#f44336\",\n    inputBorder: \"#bdbdbd\",\n    hoverBackground: \"#f5f5f5\",\n    overlay: \"none\"\n  };\n  useEffect(() => {\n    document.body.style.background = darkMode ? `${styles.overlay}, url(${bgCloud}) center center/cover no-repeat fixed` : styles.backgroundColor;\n  }, [darkMode, styles.overlay, styles.backgroundColor]);\n\n  // Move this block above any early returns (such as if (!authenticated) ...)\n  const productsWithCalc = useMemo(() => products.map(p => {\n    const pricingData = getPricingData(p, p.qty);\n    const isDR = p.isHomeGrown;\n    let drPrice = pricingData.recommendedPrice; // Already includes tax for DR products\n    if (isDR && billingCycle === 'monthly') {\n      drPrice = drPrice / 12; // Monthly billing for DR products\n    }\n    return {\n      ...p,\n      unitCost: pricingData.unitCost,\n      recommendedPrice: isDR ? drPrice : pricingData.recommendedPrice,\n      margin: pricingData.margin,\n      lineTotal: isDR ? drPrice // Display same value as Price for DR products\n      : pricingData.recommendedPrice * p.qty * billingMultiplier\n    };\n  }), [products, billingCycle, billingMultiplier]);\n\n  // Cost to Pax8 (manually input or calculated)\n  const pax8Total = productsWithCalc.filter(p => !p.isHomeGrown).reduce((sum, p) => sum + p.unitCost * p.qty, 0);\n\n  // Customer Amount (Before Tax)\n  const customerSubtotal = products.reduce((sum, p) => {\n    const row = calculateProductRow(p, p.qty, billingCycle);\n    return sum + row.total;\n  }, 0);\n\n  // Tax (13% HST)\n  const taxOnCustomer = isNaN(customerSubtotal) ? 0 : customerSubtotal * 0.13;\n\n  // Payment Processing Fee (only if Customer Total > 0)\n  const customerTotalBeforeFee = customerSubtotal + taxOnCustomer;\n  const stripeFee = customerTotalBeforeFee > 0 ? 0.30 : 0;\n\n  // Final Customer Total\n  const finalCustomerTotal = customerTotalBeforeFee - stripeFee;\n\n  // Profit Calculations\n  const profitBeforeTax = customerTotalBeforeFee - (pax8Total + proFeeForCalc + stripeFee);\n  const profitTaxRate = 0.13; // 13% profit tax if applicable\n  const profitAfterTax = profitBeforeTax * (1 - profitTaxRate);\n  const recommendations = getRecommendations(products.filter(p => {\n    const slab = (p.pricingSlabs || [])[0];\n    const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n    return margin !== null && !isNaN(margin) && margin >= 0.2;\n  }), serviceCharge, billingCycle, profitBeforeTax);\n  const showNotification = message => {\n    setNotification(message);\n    setNotificationKey(prev => prev + 1);\n    setTimeout(() => {\n      setNotification(\"\");\n    }, 3000);\n  };\n  const validateQuoteGeneration = () => {\n    if (!customerName.trim()) {\n      showNotification(\"Please enter customer name\");\n      return false;\n    }\n    if (products.length === 0) {\n      showNotification(\"Please add at least one product\");\n      return false;\n    }\n    return true;\n  };\n  const generatePDF = async () => {\n    try {\n      if (!validateQuoteGeneration()) {\n        return;\n      }\n      setIsGeneratingPDF(true);\n      setValidationError(\"\");\n      const doc = new jsPDF({\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      });\n\n      // Add PNG logo at the top left\n      const logoDataUrl = await getImageDataUrl(logoPng);\n      doc.addImage(logoDataUrl, 'PNG', 10, 10, 60, 20); // Adjust size as needed\n\n      // Add company details\n      let headerY = 10 + 20 + 12; // logo Y + logo height + extra space\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      const companyDetails = [\"Ontario, Canada\", \"289-291-6377\", \"info@excelytech.com\"];\n      companyDetails.forEach(line => {\n        doc.text(line, 14, headerY);\n        headerY += 5;\n      });\n      doc.setDrawColor(200, 200, 200);\n      doc.line(14, headerY, 196, headerY);\n      headerY += 5;\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      doc.text(`Quote Date: ${new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })}`, 14, headerY);\n      doc.text(`Quote #: ${Math.floor(1000 + Math.random() * 9000)}`, 14, headerY + 6);\n      const preparedFor = `Prepared for: ${customerName || \"Customer\"}`;\n      doc.text(preparedFor, 14, headerY + 12);\n      doc.setFontSize(10);\n      doc.setTextColor(255, 0, 0);\n      doc.text(\"**Quote Valid for 30 Days**\", 140, headerY + 12);\n      doc.setFontSize(12);\n      doc.setTextColor(0);\n      const greeting = `${salutation} ${customerName || \"Customer\"},`;\n      doc.text(greeting, 14, headerY + 24);\n      doc.setFontSize(11);\n      const introText = [\"Thank you for choosing ExcelyTech for your backup and security needs. We are pleased to present this detailed quote for our services, tailored to meet your requirements. Below, you will find a comprehensive breakdown of your proposed solution:\"];\n      let currentY = headerY + 34;\n      introText.forEach(line => {\n        const splitText = doc.splitTextToSize(line, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n      doc.setFontSize(14);\n      doc.setTextColor(33, 150, 243);\n      const quoteSummary = `Quote Summary: ${getPackageName(products)}`;\n      doc.text(quoteSummary, 14, currentY + 6);\n      currentY += 12;\n      doc.setTextColor(0);\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      const billingText = `Billing Cycle: ${billingCycle === 'monthly' ? 'Monthly subscription - You will be charged this amount every month' : 'Annual subscription - You will be charged this amount once per year'}`;\n      const splitBilling = doc.splitTextToSize(billingText, 180);\n      doc.text(splitBilling, 14, currentY);\n      currentY += splitBilling.length * 4.5;\n      const tableColumn = [\"Product Name\", \"Description\", \"Qty\", \"Price\", \"Total\"];\n      const validProducts = products.filter(p => {\n        const slab = (p.pricingSlabs || [])[0];\n        const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n        return margin !== null && !isNaN(margin) && margin >= 0.2;\n      });\n      const productRows = validProducts.map(p => [p.name, p.description, p.qty.toString(), `$${getPricingData(p, p.qty).recommendedPrice.toFixed(2)}`, `$${(getPricingData(p, p.qty).recommendedPrice * p.qty * billingMultiplier).toFixed(2)}`]);\n      const additionalRows = [[{\n        content: \"Implementation & Support\",\n        colSpan: 2\n      }, \"1\", `$${proFeeForCalc.toFixed(2)}`, `$${proFeeForCalc.toFixed(2)}`], [{\n        content: \"Tax (13% HST)\",\n        colSpan: 2\n      }, \"\", \"\", `$${taxOnCustomer.toFixed(2)}`], [{\n        content: `Payment Processing${waiveStripe ? \" waived\" : \"\"}`,\n        colSpan: 2\n      }, \"\", \"\", `$${stripeFee.toFixed(2)}`]];\n      const totalRow = [{\n        content: `TOTAL (${billingCycle === 'monthly' ? 'Monthly' : 'Annual'} Charge)`,\n        colSpan: 3,\n        styles: {\n          fontStyle: 'bold'\n        }\n      }, \"\", `$${finalCustomerTotal.toFixed(2)}`];\n      autoTable(doc, {\n        startY: currentY + 2,\n        head: [tableColumn],\n        body: [...productRows, ...additionalRows, totalRow],\n        styles: {\n          font: \"helvetica\",\n          fontSize: 10,\n          cellPadding: 4,\n          overflow: 'linebreak',\n          valign: 'middle'\n        },\n        headStyles: {\n          fillColor: [25, 118, 210],\n          textColor: [255, 255, 255],\n          fontStyle: 'bold',\n          halign: 'center',\n          valign: 'middle'\n        },\n        columnStyles: {\n          0: {\n            cellWidth: 48,\n            halign: 'left'\n          },\n          // Product Name\n          1: {\n            cellWidth: 48,\n            halign: 'left'\n          },\n          // Description\n          2: {\n            cellWidth: 18,\n            halign: 'center'\n          },\n          // Qty\n          3: {\n            cellWidth: 28,\n            halign: 'center'\n          },\n          // Price\n          4: {\n            cellWidth: 28,\n            halign: 'center'\n          } // Total\n        },\n        didParseCell: data => {\n          if (data.row.index === productRows.length + additionalRows.length) {\n            data.cell.styles.fontStyle = 'bold';\n            data.cell.styles.fillColor = [245, 245, 245];\n          }\n        }\n      });\n      currentY = doc.lastAutoTable.finalY + 15;\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      const pageHeight = doc.internal.pageSize.height;\n      const bottomMargin = 20;\n      const minSpaceNeeded = 60; // adjust as needed for your terms section\n\n      if (currentY > pageHeight - minSpaceNeeded - bottomMargin) {\n        doc.addPage();\n        currentY = 20; // or whatever your top margin is\n      }\n\n      // Now add Terms & Conditions at currentY\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      doc.text(\"Terms & Conditions:\", 14, currentY);\n      const terms = [\"1. Validity: This quote is valid for 30 days from the date of issue. Prices are subject to change thereafter.\", `2. Payment Terms: Invoices are due within 15 days of receipt. ${billingCycle === 'monthly' ? 'Monthly subscriptions will be automatically charged on the 1st of each month.' : 'Annual subscriptions require full payment upfront within 15 days of invoice receipt.'}`, \"3. Service Commencement: Services will commence upon receipt of signed agreement and initial payment.\", \"4. Cancellation Policy: Subscriptions may be canceled with 30 days' written notice. No refunds will be issued for partial terms.\", \"5. Limitation of Liability: ExcelyTech shall not be liable for any indirect, incidental, or consequential damages arising from the use of our services.\", \"6. Governing Law: This agreement shall be governed by the laws of Ontario, Canada.\"];\n      currentY += 6;\n      terms.forEach(term => {\n        const splitText = doc.splitTextToSize(term, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n      let footerY = pageHeight - 15;\n      doc.setFontSize(8);\n      doc.setTextColor(150);\n      const footerText = \"Confidential - This document contains proprietary information and is intended solely for the recipient.\";\n      const splitFooter = doc.splitTextToSize(footerText, 180);\n      doc.text(splitFooter, doc.internal.pageSize.getWidth() / 2, footerY, {\n        align: 'center'\n      });\n      doc.addPage();\n      currentY = 20;\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      doc.text(\"Key Terms and Conditions:\", 14, currentY);\n      const msaTerms = [\"1. Quote Definition: This Product Quotation outlines the costs and terms for Products/Services, forming part of the Master Agreement.\", \"2. Payment: Fees are due monthly on the 1st via direct debit; late fees apply. Hardware/software must be paid before deployment. Fees may increase after 12 months (up to 10% annually with 60 days' notice).\", \"3. Term: The agreement lasts 36 months, auto-renewing yearly unless terminated with 60 days' notice.\", \"4. Termination/Cancellation: Early termination incurs remaining fees; Product cancellation incurs a 15% restocking fee (no returns for delivered/custom items).\", \"5. Confidentiality: Quote details are confidential and must not be disclosed.\", \"6. Warranties: Product warranties are passed on; out-of-warranty support requires a separate quote.\", \"7. Additional Costs: Costs (hourly, after-hours, agreement rates) and additional services are defined in the Product Quotation.\"];\n      currentY += 6;\n      msaTerms.forEach(term => {\n        const splitText = doc.splitTextToSize(term, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n      currentY += 10;\n      doc.setTextColor(0);\n      doc.setFontSize(10);\n      doc.text(\"Acceptance:\", 14, currentY);\n      currentY += 6;\n      doc.text(\"Customer Signature:\", 14, currentY);\n      currentY += 10;\n      doc.text(\"Date:\", 14, currentY);\n      currentY += 10;\n      doc.text(\"ExcelyTech Representative:\", 14, currentY);\n      currentY += 10;\n      doc.text(\"Date:\", 14, currentY);\n      currentY += 15;\n      doc.setTextColor(25, 118, 210);\n      const appreciationText = \"We appreciate your business!\";\n      doc.text(appreciationText, 14, currentY);\n      doc.setTextColor(100);\n      const contactText = [\"Ontario, Canada\", \"289-291-6377\", \"info@excelytech.com\"];\n      currentY += 6;\n      contactText.forEach(line => {\n        const splitText = doc.splitTextToSize(line, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n      footerY = pageHeight - 15;\n      doc.setFontSize(8);\n      doc.setTextColor(150);\n      doc.text(splitFooter, doc.internal.pageSize.getWidth() / 2, footerY, {\n        align: 'center'\n      });\n\n      // Generate QR code with summary info\n      const qrText = `Customer: ${customerName || 'N/A'}\\nCompany: ${customerCompany || 'N/A'}\\nTotal: $${finalCustomerTotal.toFixed(2)} CAD\\nDate: ${new Date().toLocaleDateString('en-CA')}`;\n      const qrDataUrl = await QRCode.toDataURL(qrText, {\n        width: 80,\n        margin: 1\n      });\n      // Place QR code just above the footer, smaller size\n      const qrSize = 36;\n      const pageWidth = doc.internal.pageSize.getWidth();\n      const firstPageHeight = doc.internal.pageSize.getHeight();\n      doc.addImage(qrDataUrl, 'PNG', pageWidth - qrSize - 30, firstPageHeight - qrSize - 70, qrSize, qrSize);\n\n      // Add footer to every page\n      const pageCount = doc.getNumberOfPages();\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        let footerY = doc.internal.pageSize.getHeight() - 15;\n        doc.setFontSize(8);\n        doc.setTextColor(150);\n        doc.text(splitFooter, doc.internal.pageSize.getWidth() / 2, footerY, {\n          align: 'center'\n        });\n      }\n      doc.save(`ExcelyTech_Quote_${customerName || \"Customer\"}_${new Date().toISOString().slice(0, 10)}.pdf`);\n      setIsGeneratingPDF(false);\n      showNotification(\"PDF Downloaded Successfully!\");\n      return true;\n    } catch (error) {\n      console.error(\"PDF Generation Failed:\", error);\n      setValidationError(`Error generating PDF: ${error.message || \"Please try again\"}`);\n      showNotification(`Error generating PDF: ${error.message || \"Please try again\"}`);\n      setIsGeneratingPDF(false);\n      return false;\n    }\n  };\n  const handleSendEmail = async () => {\n    try {\n      if (!validateQuoteGeneration()) {\n        throw new Error(\"Please validate quote details first\");\n      }\n      if (!customerEmail) {\n        throw new Error(\"Please enter customer email first\");\n      }\n      if (!validateEmail(customerEmail)) {\n        throw new Error(\"Please enter a valid email address\");\n      }\n      setIsGeneratingPDF(true);\n      setValidationError(\"\");\n\n      // Add this block to define validProducts for email content\n      const validProducts = products.filter(p => {\n        const slab = (p.pricingSlabs || [])[0];\n        const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n        return margin !== null && !isNaN(margin) && margin >= 0.2;\n      });\n\n      // Generate QR code with summary info\n      const qrText = `Customer: ${customerName || 'N/A'}\\nCompany: ${customerCompany || 'N/A'}\\nTotal: $${finalCustomerTotal.toFixed(2)} CAD\\nDate: ${new Date().toLocaleDateString('en-CA')}`;\n      const qrDataUrl = await QRCode.toDataURL(qrText, {\n        width: 80,\n        margin: 1\n      });\n\n      // Generate the email content to match the PDF structure\n      const emailContent = `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; color: #333; line-height: 1.6;\">\n          <!-- Company Details -->\n          <div style=\"margin-bottom: 10px; text-align: left; font-size: 12px; color: #666;\">\n            <p style=\"margin: 5px 0;\">Ontario, Canada</p>\n            <p style=\"margin: 5px 0;\">289-291-6377</p>\n            <p style=\"margin: 5px 0;\">info@excelytech.com</p>\n          </div>\n  \n          <!-- Horizontal Line -->\n          <div style=\"border-bottom: 1px solid #e0e0e0; margin-bottom: 10px;\"></div>\n  \n          <!-- Quote Details -->\n          <div style=\"margin-bottom: 20px; text-align: left; font-size: 12px; color: #666;\">\n            <p style=\"margin: 5px 0;\">Quote Date: ${new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })}</p>\n            <p style=\"margin: 5px 0;\">Quote #: ${Math.floor(1000 + Math.random() * 9000)}</p>\n            <p style=\"margin: 5px 0;\">Prepared for: ${customerName || \"Customer\"} <span style=\"color: #d32f2f;\">**Quote Valid for 30 Days**</span></p>\n          </div>\n  \n          <!-- Greeting -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <p style=\"margin: 5px 0; font-size: 14px; font-weight: bold;\">${salutation} ${customerName || \"Customer\"},</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Thank you for choosing ExcelyTech for your backup and security needs. We are pleased to present this detailed quote for our services, tailored to meet your requirements. Below, you will find a comprehensive breakdown of your proposed solution:</p>\n          </div>\n  \n          <!-- Quote Summary -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0 0 10px; font-size: 16px;\">Quote Summary: ${getPackageName(products)}</h2>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">Billing Cycle: ${billingCycle === 'monthly' ? 'Monthly subscription - You will be charged this amount every month' : 'Annual subscription - You will be charged this amount once per year'}</p>\n          </div>\n  \n          <!-- Products Table -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px; font-size: 12px;\">\n              <thead>\n                <tr style=\"background-color: #1e88e5; color: white;\">\n                  <th style=\"padding: 8px; text-align: left; border-bottom: 2px solid #1565c0;\">Product Name</th>\n                  <th style=\"padding: 8px; text-align: left; border-bottom: 2px solid #1565c0;\">Description</th>\n                  <th style=\"padding: 8px; text-align: right; border-bottom: 2px solid #1565c0;\">Qty</th>\n                  <th style={{ padding: \"15px\", fontWeight: \"500\", width: \"10%\", textAlign: \"right\" }}>\n                    Price\n                    <span title=\"For non-DR: Unit Cost + (Unit Cost × Margin %). For DR: Unit Cost + 13% tax.\" style={{ marginLeft: 4, color: '#888', cursor: 'help', fontSize: 16 }}>ⓘ</span>\n                  </th>\n                  <th style=\"padding: 8px; text-align: right; border-bottom: 2px solid #1565c0;\">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${validProducts.map(p => `\n                  <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                    <td style=\"padding: 8px; text-align: left;\">${p.name}</td>\n                    <td style=\"padding: 8px; text-align: left;\">${p.description}</td>\n                    <td style=\"padding: 8px; text-align: right;\">${p.qty}</td>\n                    <td style=\"padding: 8px; text-align: right;\">$${getPricingData(p, p.qty).recommendedPrice.toFixed(2)}</td>\n                    <td style=\"padding: 8px; text-align: right;\">$${(getPricingData(p, p.qty).recommendedPrice * p.qty * billingMultiplier).toFixed(2)}</td>\n                  </tr>\n                `).join('')}\n                <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"2\">Implementation & Support</td>\n                  <td style=\"padding: 8px; text-align: right;\">1</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${proFeeForCalc.toFixed(2)}</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${proFeeForCalc.toFixed(2)}</td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"4\">Tax (13% HST)</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${taxOnCustomer.toFixed(2)}</td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"4\">Payment Processing${waiveStripe ? \" waived\" : \"\"}</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${stripeFee.toFixed(2)}</td>\n                </tr>\n                <tr style=\"font-weight: bold; background-color: #f5f5f5;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"3\">TOTAL (${billingCycle === 'monthly' ? 'Monthly' : 'Annual'} Charge)</td>\n                  <td style=\"padding: 8px; text-align: right;\"></td>\n                  <td style=\"padding: 8px; text-align: right;\">$${finalCustomerTotal.toFixed(2)}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n  \n          <!-- Terms & Conditions -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0 0 10px; font-size: 16px;\">Terms & Conditions:</h2>\n            <ol style=\"padding-left: 20px; margin: 0; font-size: 12px; color: #666;\">\n              <li style=\"margin-bottom: 8px;\">Validity: This quote is valid for 30 days from the date of issue. Prices are subject to change thereafter.</li>\n              <li style=\"margin-bottom: 8px;\">Payment Terms: Invoices are due within 15 days of receipt. ${billingCycle === 'monthly' ? 'Monthly subscriptions will be automatically charged on the 1st of each month.' : 'Annual subscriptions require full payment upfront within 15 days of invoice receipt.'}</li>\n              <li style=\"margin-bottom: 8px;\">Service Commencement: Services will commence upon receipt of signed agreement and initial payment.</li>\n              <li style=\"margin-bottom: 8px;\">Cancellation Policy: Subscriptions may be canceled with 30 days' written notice. No refunds will be issued for partial terms.</li>\n              <li style=\"margin-bottom: 8px;\">Limitation of Liability: ExcelyTech shall not be liable for any indirect, incidental, or consequential damages arising from the use of our services.</li>\n              <li style=\"margin-bottom: 8px;\">Governing Law: This agreement shall be governed by the laws of Ontario, Canada.</li>\n            </ol>\n          </div>\n  \n          <!-- Key Terms and Conditions (MSA) -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0till 0 10px; font-size: 16px;\">Key Terms and Conditions:</h2>\n            <ol style=\"padding-left: 20px; margin: 0; font-size: 12px; color: #666;\">\n              <li style=\"margin-bottom: 8px;\">Quote Definition: This Product Quotation outlines the costs and terms for Products/Services, forming part of the Master Agreement.</li>\n              <li style=\"margin-bottom: 8px;\">Payment: Fees are due monthly on the 1st via direct debit; late fees apply. Hardware/software must be paid before deployment. Fees may increase after 12 months (up to 10% annually with 60 days' notice).</li>\n              <li style=\"margin-bottom: 8px;\">Term: The agreement lasts 36 months, auto-renewing yearly unless terminated with 60 days' notice.</li>\n              <li style=\"margin-bottom: 8px;\">Termination/Cancellation: Early termination incurs remaining fees; Product cancellation incurs a 15% restocking fee (no returns for delivered/custom items).</li>\n              <li style=\"margin-bottom: 8px;\">Confidentiality: Quote details are confidential and must not be disclosed.</li>\n              <li style=\"margin-bottom: 8px;\">Warranties: Product warranties are passed on; out-of-warranty support requires a separate quote.</li>\n              <li style=\"margin-bottom: 8px;\">Additional Costs: Costs (hourly, after-hours, agreement rates) and additional services are defined in the Product Quotation.</li>\n            </ol>\n          </div>\n  \n          <!-- Acceptance -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0 0 10px; font-size: 16px;\">Acceptance:</h2>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Customer Signature:</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Date:</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">ExcelyTech Representative:</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Date:</p>\n          </div>\n  \n          <!-- Appreciation and Contact -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <p style=\"color: #1e88e5; margin: 5px 0; font-size: 12px;\">We appreciate your business!</p>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">Ontario, Canada</p>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">289-291-6377</p>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">info@excelytech.com</p>\n          </div>\n  \n          <!-- QR Code -->\n          <div style=\"margin-bottom: 20px; text-align: right;\">\n            <img src=\"${qrDataUrl}\" alt=\"Quote QR Code\" style=\"width: 80px; height: 80px;\">\n          </div>\n  \n          <!-- Confidential Notice -->\n          <div style=\"font-size: 10px; color: #666; text-align: center; border-top: 1px solid #e0e0e0; padding-top: 10px;\">\n            <p style=\"margin: 5px 0;\">Confidential - This document contains proprietary information and is intended solely for the recipient.</p>\n          </div>\n\n          <div style=\"text-align:center; margin-top:40px;\">\n            <table width=\"200\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\">\n              <tr>\n                <td align=\"center\">\n                  <img src=\"https://excelytech.com/wp-content/uploads/2025/01/excelytech-logo.png\" width=\"200\" style=\"display:block; max-width:200px; height:auto;\" alt=\"ExcelyTech Logo\">\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      `;\n      const quoteNumber = `QT${new Date().getFullYear()}${String(Math.floor(1000 + Math.random() * 9000)).padStart(4, '0')}`;\n      const emailParams = {\n        to_email: customerEmail,\n        from_name: \"ExcelyTech Sales Team\",\n        subject: generateEmailSubject(customerName, billingCycle === 'annual' ? 'ANNUAL' : 'MONTHLY'),\n        message: emailContent\n      };\n      await sendEmail(emailParams);\n      showNotification(\"Email sent successfully!\");\n      setIsGeneratingPDF(false);\n    } catch (error) {\n      console.error(\"Email Sending Failed:\", error);\n      setValidationError(error.message);\n      showNotification(`Failed to send email: ${error.message}`);\n      setIsGeneratingPDF(false);\n    }\n  };\n\n  // Check if any product margin is below 20%\n  const hasLowMargin = products.some(p => {\n    const slab = (p.pricingSlabs || [])[0];\n    const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n    if (margin === null || isNaN(margin)) return false;\n    // margin is stored as a decimal (e.g., 0.35 for 35%), so compare margin * 100\n    return !p.isHomeGrown && margin * 100 < productMarginThreshold;\n  });\n\n  // Add a handler for resetting all fields\n  const handleResetAll = () => {\n    setCustomerName(\"\");\n    setSalutation(\"Mr.\");\n    setCustomerEmail(\"\");\n    setCustomerAddress(\"\");\n    setCustomerCompany(\"\");\n    setCustomerPhone(\"\");\n    setSelectedProduct(PRODUCTS[0].name);\n    setQty(1);\n    setServiceCharge(0);\n    setBillingCycle(\"monthly\");\n    setWaiveStripe(false);\n    setProducts([]); // clears cart\n    setCustomProducts([]); // clears custom products\n    setShowAddProductForm(false);\n    setNewProduct({\n      name: '',\n      description: '',\n      license: '',\n      unitCost: 0,\n      margin: 35\n    });\n    setValidationError(\"\");\n    setCardType('domestic');\n    setProductMarginThreshold(20);\n    setPackageMarginThreshold(15);\n    showNotification(\"All fields have been reset\");\n  };\n  const handleAddProductClick = () => {\n    setShowAddProductForm(true);\n    setNewProduct({\n      name: '',\n      description: '',\n      license: '',\n      unitCost: 0,\n      margin: 35\n    });\n  };\n  const handleNewProductChange = (field, value) => {\n    setNewProduct(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleAddProductSubmit = e => {\n    e.preventDefault();\n    if (!newProduct.name.trim()) {\n      showNotification('Product name is required');\n      return;\n    }\n    if (allProducts.some(p => p.name === newProduct.name.trim())) {\n      showNotification('Product name must be unique');\n      return;\n    }\n    // Add a default pricingSlabs array for compatibility\n    const isDR = newProduct.name === 'Disaster Recovery' || newProduct.name === 'DR';\n    const productToAdd = {\n      ...newProduct,\n      qty: 1,\n      pricingSlabs: [isDR ? {\n        minQty: 1,\n        maxQty: 9999,\n        unitCost: Number(newProduct.unitCost),\n        recommendedPrice: Number(newProduct.unitCost)\n      } : {\n        minQty: 1,\n        maxQty: 9999,\n        unitCost: Number(newProduct.unitCost),\n        margin: Number(newProduct.margin),\n        recommendedPrice: Number(newProduct.unitCost) * (1 + Number(newProduct.margin) / 100)\n      }]\n    };\n    setCustomProducts(prev => [...prev, productToAdd]);\n    setShowAddProductForm(false);\n    setSelectedProduct(newProduct.name);\n    showNotification('Product added');\n  };\n\n  // Handler to remove a custom product\n  const handleRemoveCustomProduct = name => {\n    setCustomProducts(prev => prev.filter(p => p.name !== name));\n    // If the removed product is currently selected, reset selection\n    if (selectedProduct === name) {\n      setSelectedProduct(PRODUCTS[0].name);\n    }\n  };\n  const validateEmail = email => {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(email);\n  };\n  const validatePhone = phone => {\n    const re = /^\\+?[\\d\\s-]{10,}$/;\n    return re.test(phone);\n  };\n  const updateUnitCost = (name, newUnitCost) => {\n    setProducts(prev => prev.map(p => {\n      if (p.name === name) {\n        const isDR = p.isHomeGrown;\n        const updatedSlabs = p.pricingSlabs.map(slab => ({\n          ...slab,\n          unitCost: newUnitCost,\n          recommendedPrice: isDR ? newUnitCost * 1.13 : newUnitCost * (1 + (slab.margin || 0) / 100)\n        }));\n        return {\n          ...p,\n          unitCost: newUnitCost,\n          pricingSlabs: updatedSlabs\n        };\n      }\n      return p;\n    }));\n  };\n\n  // Example: get background color for cards/tables based on darkMode\n  const getCardBackground = () => darkMode ? styles.cardBackground : styles.cardBackground;\n  const getTableBackground = () => darkMode ? styles.cardBackground : '#fff';\n\n  // Add this conditional rendering at the top of the return statement\n  if (!authenticated) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: () => setAuthenticated(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 969,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Calculate the sum of the 'Price' column (before tax) for all products\n  const productPriceTotal = products.filter(p => {\n    const slab = (p.pricingSlabs || [])[0];\n    const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n    return margin !== null && !isNaN(margin) && margin >= 0.2;\n  }).map(p => {\n    const slab = (p.pricingSlabs || []).find(slab => p.qty >= slab.minQty && p.qty <= slab.maxQty) || (p.pricingSlabs ? p.pricingSlabs[p.pricingSlabs.length - 1] : {\n      unitCost: 0,\n      margin: 0\n    });\n    const baseUnitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n    const margin = typeof p.margin === 'number' ? p.margin : slab.margin || 0;\n    const unitPrice = baseUnitCost * 1.13;\n    const price = unitPrice * (1 + margin);\n    return price * p.qty;\n  }).reduce((sum, val) => sum + val, 0);\n  return /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'flex-start',\n        maxWidth: '1200px',\n        margin: '30px auto',\n        fontFamily: \"'Roboto', sans-serif\",\n        padding: '0 20px',\n        backgroundColor: styles.backgroundColor,\n        color: styles.textColor,\n        minHeight: '100vh',\n        transition: 'background 0.3s, color 0.3s',\n        marginTop: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          @media (max-width: 900px) {\n            .summary-sidebar {\n              flex-direction: row !important;\n              position: static !important;\n              min-width: 0 !important;\n              max-width: 100vw !important;\n              width: 100vw !important;\n              margin: 0 0 18px 0 !important;\n              gap: 12px !important;\n              justify-content: center;\n            }\n            .summary-card {\n              min-width: 0 !important;\n              flex: 1 1 0;\n              max-width: 100%;\n              margin: 0 !important;\n              padding: 16px 8px !important;\n              font-size: 15px !important;\n            }\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1009,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-sidebar\",\n        style: {\n          position: 'sticky',\n          top: 40,\n          alignSelf: 'flex-start',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '24px',\n          minWidth: '220px',\n          maxWidth: '240px',\n          zIndex: 10,\n          marginRight: '36px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          style: {\n            background: styles.cardBackground,\n            borderRadius: '10px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.10)',\n            padding: '22px 18px',\n            border: `1.5px solid ${styles.borderColor}`,\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 8px',\n              color: styles.textColor,\n              fontSize: '17px',\n              fontWeight: 700\n            },\n            children: \"Final Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: '22px',\n              fontWeight: 'bold',\n              color: styles.primaryColor\n            },\n            children: (() => {\n              // Calculate TOTAL WITH MARGIN as in the Financial Summary\n              let unitPriceTotal = 0,\n                marginAmountTotal = 0;\n              products.forEach(p => {\n                const slab = (p.pricingSlabs || [])[0];\n                const qty = p.qty || 1;\n                const unitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n                const margin = typeof p.margin === 'number' ? p.margin : slab.margin || 0;\n                const tax1 = unitCost * 0.13;\n                const unitPrice = unitCost + tax1;\n                const marginAmount = unitPrice * margin * qty;\n                unitPriceTotal += unitPrice * qty;\n                marginAmountTotal += marginAmount;\n              });\n              unitPriceTotal *= billingCycle === 'annual' ? 12 : 1;\n              marginAmountTotal *= billingCycle === 'annual' ? 12 : 1;\n              const totalWithMargin = unitPriceTotal + marginAmountTotal;\n              return `${products.length > 0 ? totalWithMargin.toFixed(2) : '0.00'} CAD`;\n            })()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1053,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '4px 0 0',\n              fontSize: '12px',\n              color: '#888'\n            },\n            children: \"Before tax and processing fees\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '5px 0 0',\n              fontSize: '13px',\n              color: '#666'\n            },\n            children: billingCycle === 'annual' ? 'per year' : 'per month'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1044,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          style: {\n            background: styles.cardBackground,\n            borderRadius: '10px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.10)',\n            padding: '22px 18px',\n            border: `1.5px solid ${styles.borderColor}`,\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 8px',\n              color: styles.textColor,\n              fontSize: '17px',\n              fontWeight: 700\n            },\n            children: \"Estimated Profit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: '22px',\n              fontWeight: 'bold',\n              color: styles.secondaryColor\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: darkMode ? '#7fd7c4' : '#43a047'\n              },\n              children: (() => {\n                // Calculate marginAmountTotal as in the Financial Summary\n                let marginAmountTotal = 0;\n                products.forEach(p => {\n                  const slab = (p.pricingSlabs || [])[0];\n                  const qty = p.qty || 1;\n                  const unitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n                  const margin = typeof p.margin === 'number' ? p.margin : slab.margin || 0;\n                  const tax1 = unitCost * 0.13;\n                  const unitPrice = unitCost + tax1;\n                  const marginAmount = unitPrice * margin * qty;\n                  marginAmountTotal += marginAmount;\n                });\n                marginAmountTotal *= billingCycle === 'annual' ? 12 : 1;\n                return `$${products.length > 0 ? marginAmountTotal.toFixed(2) : '0.00'} CAD`;\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1091,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '5px 0 0',\n              fontSize: '13px',\n              color: '#666'\n            },\n            children: [\"Actual Margin Amount (\", billingCycle === 'annual' ? 'per year' : 'per month', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          style: {\n            background: styles.cardBackground,\n            borderRadius: '10px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.10)',\n            padding: '22px 18px',\n            border: `1.5px solid ${styles.borderColor}`,\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 8px',\n              color: styles.textColor,\n              fontSize: '17px',\n              fontWeight: 700\n            },\n            children: \"Package\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontSize: '22px',\n              fontWeight: 'bold',\n              color: styles.textColor\n            },\n            children: products.length > 0 ? getPackageName(products) : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 0,\n          paddingRight: 80\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'fixed',\n            top: 16,\n            right: 16,\n            zIndex: 200,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'flex-end',\n            gap: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Notification, {\n            message: notification,\n            onClose: () => setNotification(\"\")\n          }, notificationKey, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '12px',\n              alignItems: 'flex-end'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => showNotification(\"Notifications are enabled\"),\n              className: \"action-button notification-bell\",\n              style: {\n                background: '#e3f2fd',\n                color: '#1976d2',\n                border: 'none',\n                borderRadius: '50%',\n                width: '44px',\n                height: '44px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '20px',\n                boxShadow: '0 2px 8px rgba(25,118,210,0.15)',\n                cursor: 'pointer'\n              },\n              title: \"Notifications\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22ZM18 16V11C18 7.93 16.36 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.63 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z\",\n                  fill: \"#1976d2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setAuthenticated(false);\n                localStorage.removeItem('authenticated');\n              },\n              className: \"action-button logout-button\",\n              style: {\n                background: '#ffebee',\n                color: '#d32f2f',\n                border: 'none',\n                borderRadius: '50%',\n                width: '44px',\n                height: '44px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '20px',\n                boxShadow: '0 2px 8px rgba(211,47,47,0.15)',\n                cursor: 'pointer'\n              },\n              title: \"Logout\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z\",\n                  fill: \"#d32f2f\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1195,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1194,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setDarkMode(prev => !prev),\n              className: \"action-button dark-mode-toggle\",\n              style: {\n                background: darkMode ? '#424242' : '#e3f2fd',\n                color: darkMode ? '#fff' : '#1976d2',\n                border: 'none',\n                borderRadius: '50%',\n                width: '44px',\n                height: '44px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '20px',\n                boxShadow: darkMode ? '0 2px 8px rgba(0,0,0,0.2)' : '0 2px 8px rgba(25,118,210,0.15)',\n                cursor: 'pointer'\n              },\n              title: darkMode ? 'Switch to light mode' : 'Switch to dark mode',\n              children: darkMode ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7ZM2 13H4C4.55 13 5 12.55 5 12C5 11.45 4.55 11 4 11H2C1.45 11 1 11.45 1 12C1 12.55 1.45 13 2 13ZM20 13H22C22.55 13 23 12.55 23 12C23 11.45 22.55 11 22 11H20C19.45 11 19 11.45 19 12C19 12.55 19.45 13 20 13ZM11 2V4C11 4.55 11.45 5 12 5C12.55 5 13 4.55 13 4V2C13 1.45 12.55 1 12 1C11.45 1 11 1.45 11 2ZM11 20V22C11 22.55 11.45 23 12 23C12.55 23 13 22.55 13 22V20C13 19.45 12.55 19 12 19C11.45 19 11 19.45 11 20ZM5.99 4.58C5.6 4.19 4.96 4.19 4.58 4.58C4.19 4.97 4.19 5.61 4.58 5.99L5.64 7.05C6.03 7.44 6.67 7.44 7.05 7.05C7.44 6.66 7.44 6.02 7.05 5.64L5.99 4.58ZM18.36 16.95C17.97 16.56 17.33 16.56 16.95 16.95C16.56 17.34 16.56 17.98 16.95 18.36L18.01 19.42C18.4 19.81 19.04 19.81 19.42 19.42C19.81 19.03 19.81 18.39 19.42 18.01L18.36 16.95ZM19.42 5.99C19.81 5.6 19.81 4.96 19.42 4.58C19.03 4.19 18.39 4.19 18.01 4.58L16.95 5.64C16.56 6.03 16.56 6.67 16.95 7.05C17.34 7.44 17.98 7.44 18.36 7.05L19.42 5.99ZM7.05 18.36C7.44 17.97 7.44 17.33 7.05 16.95C6.66 16.56 6.02 16.56 5.64 16.95L4.58 18.01C4.19 18.4 4.19 19.04 4.58 19.42C4.97 19.81 5.61 19.81 5.99 19.42L7.05 18.36Z\",\n                  fill: darkMode ? \"#fff\" : \"#1976d2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1220,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1219,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 3C7.03 3 3 7.03 3 12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12C21 7.03 16.97 3 12 3ZM12 19C8.14 19 5 15.86 5 12C5 8.14 8.14 5 12 5C15.86 5 19 8.14 19 12C19 15.86 15.86 19 12 19Z\",\n                  fill: \"#1976d2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z\",\n                  fill: \"#1976d2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1199,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generatePDF,\n              disabled: isGeneratingPDF,\n              className: \"action-button pdf-button\",\n              style: {\n                background: '#fff5f5',\n                color: '#d32f2f',\n                border: 'none',\n                borderRadius: '50%',\n                width: '44px',\n                height: '44px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '20px',\n                boxShadow: '0 2px 8px rgba(211,47,47,0.15)',\n                cursor: isGeneratingPDF ? 'not-allowed' : 'pointer',\n                opacity: isGeneratingPDF ? 0.6 : 1\n              },\n              title: \"Generate PDF\",\n              \"aria-label\": \"Generate PDF\",\n              children: isGeneratingPDF ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: \"inline-block\",\n                  animation: \"spin 1s linear infinite\"\n                },\n                children: \"\\u27F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1253,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z\",\n                  fill: \"#d32f2f\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1256,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1255,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSendEmail,\n              disabled: isGeneratingPDF || !customerEmail,\n              className: \"action-button email-button\",\n              style: {\n                background: '#e3f2fd',\n                color: '#1976d2',\n                border: 'none',\n                borderRadius: '50%',\n                width: '44px',\n                height: '44px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '20px',\n                boxShadow: '0 2px 8px rgba(25,118,210,0.15)',\n                cursor: isGeneratingPDF || !customerEmail ? 'not-allowed' : 'pointer',\n                transition: 'all 0.2s',\n                opacity: isGeneratingPDF || !customerEmail ? 0.6 : 1\n              },\n              title: \"Send Email\",\n              \"aria-label\": \"Send Email\",\n              children: isGeneratingPDF ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: \"inline-block\",\n                  animation: \"spin 1s linear infinite\"\n                },\n                children: \"\\u27F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1285,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM19.6 8.25L12.53 12.67C12.21 12.87 11.79 12.87 11.47 12.67L4.4 8.25C4.15 8.09 4 7.82 4 7.53C4 6.86 4.73 6.46 5.3 6.81L12 11L18.7 6.81C19.27 6.46 20 6.86 20 7.53C20 7.82 19.85 8.09 19.6 8.25Z\",\n                  fill: \"#1976d2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1287,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1131,\n          columnNumber: 9\n        }, this), darkMode && /*#__PURE__*/_jsxDEV(\"style\", {\n          children: `\n            input, select, textarea {\n              background: #232a36 !important;\n              color: #f5f6fa !important;\n              border: 1.5px solid #3a4256 !important;\n            }\n            input::placeholder, textarea::placeholder {\n                color: #b0b8c9 !important;\n              opacity: 1 !important;\n            }\n            select:disabled, input:disabled, textarea:disabled {\n              background: #232a36 !important;\n              color: #888 !important;\n            }\n            .card, .panel, .table, .summary {\n              background: #232a36 !important;\n              color: #f5f6fa !important;\n              border: 1.5px solid #2a3140 !important;\n            }\n            th, td {\n              color: #f5f6fa !important;\n                background: #232a36 !important;\n              }\n              tr {\n                background: #232a36 !important;\n            }\n            button {\n              font-family: 'Inter', 'Roboto', 'Segoe UI', Arial, sans-serif !important;\n            }\n              /* Soft button tweaks for dark mode */\n              .soft-btn-dark {\n                background: #2d2d3a !important;\n                color: #ff6d6d !important;\n                box-shadow: 0 2px 8px rgba(211,47,47,0.13) !important;\n              }\n              /* Customer Info Card improvements */\n              .customer-info-card {\n                background: #232a36 !important;\n                border-radius: 18px !important;\n                border: 1.5px solid #2a3140 !important;\n                box-shadow: 0 4px 24px rgba(30,136,229,0.10) !important;\n                padding: 36px 32px 32px 32px !important;\n                margin-bottom: 32px !important;\n              }\n              .customer-info-grid {\n                gap: 36px 32px !important;\n                margin-bottom: 18px !important;\n              }\n              .customer-info-field {\n                background: #262b36 !important;\n                border-radius: 16px !important;\n                box-shadow: 0 2px 8px rgba(30,136,229,0.04) !important;\n                padding: 22px 18px 16px 18px !important;\n                min-width: 0;\n              }\n              .customer-info-label {\n                font-weight: 800 !important;\n                color: #64b5f6 !important;\n                font-size: 1.13rem !important;\n                margin-bottom: 10px !important;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n              }\n              .customer-info-tooltip {\n                color: #b0b8c9 !important;\n                font-size: 15px !important;\n                cursor: pointer;\n                margin-left: 4px;\n              }\n              .customer-info-input {\n                background: #232a36 !important;\n                color: #f5f6fa !important;\n                border: 1.5px solid #3a4256 !important;\n                font-size: 1.13rem !important;\n                border-radius: 8px !important;\n                padding: 14px 12px !important;\n                margin-top: 4px !important;\n              }\n              .customer-info-input:focus {\n                border: 1.5px solid #64b5f6 !important;\n                outline: none !important;\n              }\n              .customer-info-reset {\n                background: #e3f2fd !important;\n                color: #1976d2 !important;\n                border: 1.5px solid #90caf9 !important;\n                border-radius: 10px !important;\n                font-weight: 700 !important;\n                font-size: 15px !important;\n                padding: 8px 22px !important;\n                box-shadow: 0 2px 8px rgba(30,136,229,0.07) !important;\n                transition: background 0.2s !important;\n              }\n              .customer-info-reset:hover {\n                background: #bbdefb !important;\n              }\n              /* Top bar/time zone improvements */\n              .topbar-timezone {\n                background: #232a36 !important;\n                border-radius: 16px !important;\n                box-shadow: 0 2px 16px rgba(30,136,229,0.10) !important;\n                padding: 18px 36px 18px 36px !important;\n                display: flex;\n                align-items: center;\n                gap: 32px;\n                margin-bottom: 18px !important;\n              }\n              .timezone-label {\n                color: #64b5f6 !important;\n                font-weight: 700 !important;\n                font-size: 1.08rem !important;\n                letter-spacing: 1px;\n              }\n              .timezone-time {\n                color: #e3f2fd !important;\n                font-size: 1.13rem !important;\n                font-family: monospace !important;\n                margin-top: 2px;\n                text-shadow: 0 0 4px #1976d2;\n            }\n          `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginBottom: '30px',\n              padding: '15px',\n              backgroundColor: styles.cardBackground,\n              borderRadius: '8px',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://excelytech.com/wp-content/uploads/2025/01/excelytech-logo.png\",\n                alt: \"ExcelyTech Logo\",\n                style: {\n                  height: '44px',\n                  width: 'auto',\n                  borderRadius: '4px',\n                  background: 'transparent'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1432,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '18px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'flex-end',\n                  minWidth: '80px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: 600,\n                    fontSize: '13px',\n                    color: styles.primaryColor,\n                    letterSpacing: '1px'\n                  },\n                  children: usCanLabel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1441,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '15px',\n                    fontFamily: 'monospace',\n                    marginTop: '2px',\n                    color: styles.textColor\n                  },\n                  children: usCanTime\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1442,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1440,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '1px',\n                  height: '28px',\n                  background: '#e0e0e0',\n                  borderRadius: '1px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1444,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'flex-end',\n                  minWidth: '80px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: 600,\n                    fontSize: '13px',\n                    color: styles.primaryColor,\n                    letterSpacing: '1px'\n                  },\n                  children: \"IND\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1446,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '15px',\n                    fontFamily: 'monospace',\n                    marginTop: '2px',\n                    color: styles.textColor\n                  },\n                  children: indTimeString\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1445,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1439,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1422,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: styles.cardBackground,\n              padding: '20px',\n              borderRadius: '8px',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n              marginBottom: '30px',\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: \"0 0 20px\",\n                fontSize: \"20px\",\n                color: styles.primaryColor\n              },\n              children: \"Customer Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1462,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleResetAll,\n              style: {\n                position: 'absolute',\n                top: 18,\n                right: 18,\n                padding: '6px 16px',\n                background: '#e3f2fd',\n                color: '#1976d2',\n                border: '1.5px solid #90caf9',\n                borderRadius: '6px',\n                fontWeight: 600,\n                cursor: 'pointer',\n                fontSize: '14px',\n                zIndex: 2\n              },\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1465,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"customer-info-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-info-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"customer-info-label\",\n                  children: [\"Salutation\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-info-tooltip\",\n                    title: \"Select the appropriate salutation for the customer\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1488,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1486,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: salutation,\n                  onChange: e => setSalutation(e.target.value),\n                  className: \"customer-info-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Mr.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1497,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Ms.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1498,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Mrs.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1499,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Miss\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1500,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Dr.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1501,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: \"Dear\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1502,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1492,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1485,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-info-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"customer-info-label\",\n                  children: [\"Customer Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-info-tooltip\",\n                    title: \"Enter the full name of the customer\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1508,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1506,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerName,\n                  onChange: handleCustomerNameChange,\n                  className: \"customer-info-input\",\n                  placeholder: \"Enter customer name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1512,\n                  columnNumber: 17\n                }, this), validationError && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'red',\n                    fontSize: '12px',\n                    marginTop: '4px'\n                  },\n                  children: validationError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1519,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1505,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-info-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"customer-info-label\",\n                  children: [\"Company\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-info-tooltip\",\n                    title: \"Enter the customer's company name\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1524,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1522,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerCompany,\n                  onChange: e => setCustomerCompany(e.target.value),\n                  className: \"customer-info-input\",\n                  placeholder: \"Enter company name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1528,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1521,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-info-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"customer-info-label\",\n                  children: [\"Email\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-info-tooltip\",\n                    title: \"Enter the customer's email address\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1539,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1537,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: customerEmail,\n                  onChange: e => handleEmailChange(e),\n                  className: \"customer-info-input\",\n                  placeholder: \"Enter customer email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1543,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1536,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-info-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"customer-info-label\",\n                  children: [\"Phone\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-info-tooltip\",\n                    title: \"Enter the customer's phone number\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1554,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1552,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: customerPhone,\n                  onChange: e => handlePhoneChange(e),\n                  className: \"customer-info-input\",\n                  placeholder: \"Enter customer phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1558,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-info-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"customer-info-label\",\n                  children: [\"Address\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-info-tooltip\",\n                    title: \"Enter the customer's address\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1569,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1567,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerAddress,\n                  onChange: e => setCustomerAddress(e.target.value),\n                  className: \"customer-info-input\",\n                  placeholder: \"Enter customer address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1573,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1566,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1484,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1454,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: styles.cardBackground,\n              padding: \"20px\",\n              borderRadius: \"8px\",\n              boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n              marginBottom: \"30px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: \"0 0 20px\",\n                fontSize: \"20px\",\n                color: styles.primaryColor\n              },\n              children: \"Add Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1590,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                flexWrap: \"wrap\",\n                gap: \"16px\",\n                alignItems: \"flex-end\",\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'flex-end',\n                  flex: '2 1 400px',\n                  minWidth: 0,\n                  gap: 10\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: \"block\",\n                    marginBottom: \"8px\",\n                    fontWeight: \"500\",\n                    color: styles.textColor\n                  },\n                  children: [\"Product\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: \"5px\",\n                      color: \"#666\",\n                      fontSize: \"14px\",\n                      cursor: \"pointer\"\n                    },\n                    title: \"Select a product to add to the quote\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1608,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1601,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    flex: 1,\n                    gap: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                    value: selectedProduct,\n                    onChange: e => setSelectedProduct(e.target.value),\n                    style: {\n                      padding: \"10px\",\n                      minWidth: \"220px\",\n                      borderRadius: \"6px\",\n                      border: `1px solid ${styles.inputBorder}`,\n                      backgroundColor: \"#fff\",\n                      color: styles.textColor,\n                      fontSize: \"16px\",\n                      flex: '1 1 220px',\n                      marginRight: 8\n                    },\n                    children: allProducts.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: p.name,\n                      children: p.name\n                    }, p.name, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1629,\n                      columnNumber: 23\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1613,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: handleAddProductClick,\n                    style: {\n                      background: '#e3f2fd',\n                      color: '#1976d2',\n                      border: 'none',\n                      borderRadius: '50%',\n                      width: '40px',\n                      height: '40px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '26px',\n                      boxShadow: '0 2px 8px rgba(30,136,229,0.07)',\n                      cursor: 'pointer',\n                      transition: 'background 0.2s'\n                    },\n                    title: \"Add New Product\",\n                    \"aria-label\": \"Add New Product\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontWeight: 700,\n                        fontSize: '28px',\n                        lineHeight: 1\n                      },\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1655,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1634,\n                    columnNumber: 19\n                  }, this), customProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 4\n                    },\n                    children: customProducts.map(p => /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      title: `Remove ${p.name}`,\n                      onClick: () => handleRemoveCustomProduct(p.name),\n                      style: {\n                        background: 'none',\n                        border: 'none',\n                        color: '#d32f2f',\n                        fontSize: 18,\n                        cursor: 'pointer',\n                        padding: '0 4px'\n                      },\n                      children: \"\\uD83D\\uDDD1\\uFE0F\"\n                    }, p.name, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1661,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1659,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1612,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1600,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'flex-end',\n                  gap: 10,\n                  flex: '0 0 auto'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: \"block\",\n                    marginBottom: \"8px\",\n                    fontWeight: \"500\",\n                    color: styles.textColor,\n                    whiteSpace: 'nowrap'\n                  },\n                  children: [\"Quantity\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: \"5px\",\n                      color: \"#666\",\n                      fontSize: \"14px\",\n                      cursor: \"pointer\"\n                    },\n                    title: \"Enter the number of units for this product\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1678,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1676,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: 1,\n                  value: qty,\n                  onChange: e => setQty(Number(e.target.value)),\n                  onWheel: handleQtyWheel,\n                  style: {\n                    padding: \"10px\",\n                    width: \"80px\",\n                    borderRadius: \"6px\",\n                    border: `1px solid ${styles.inputBorder}`,\n                    backgroundColor: \"#fff\",\n                    color: styles.textColor,\n                    fontSize: \"16px\",\n                    boxSizing: \"border-box\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1682,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: addProduct,\n                  style: {\n                    padding: \"10px 18px\",\n                    backgroundColor: styles.buttonBackground,\n                    color: styles.buttonText,\n                    border: \"none\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\",\n                    fontSize: \"16px\",\n                    fontWeight: 600,\n                    marginLeft: 4\n                  },\n                  onMouseOver: e => e.currentTarget.style.backgroundColor = \"#1565c0\",\n                  onMouseOut: e => e.currentTarget.style.backgroundColor = styles.buttonBackground,\n                  children: \"+ Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1699,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1675,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1593,\n              columnNumber: 13\n            }, this), showAddProductForm && /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleAddProductSubmit,\n              style: {\n                background: 'rgba(255,255,255,0.98)',\n                borderRadius: 20,\n                boxShadow: '0 8px 32px rgba(30,136,229,0.10)',\n                padding: 36,\n                maxWidth: 640,\n                margin: '0 auto',\n                marginTop: 32,\n                marginBottom: 32,\n                border: '1.5px solid #e3e8ee',\n                transition: 'box-shadow 0.2s'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  marginBottom: 28\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 32,\n                    color: '#1976d2',\n                    marginRight: 14\n                  },\n                  children: \"\\uD83D\\uDED2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1733,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  style: {\n                    margin: 0,\n                    fontWeight: 800,\n                    fontSize: 26,\n                    color: '#1976d2',\n                    letterSpacing: 1\n                  },\n                  children: \"Add New Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1734,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1732,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: 24,\n                  marginBottom: 28\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontWeight: 700,\n                      marginBottom: 8,\n                      display: 'block',\n                      color: '#333'\n                    },\n                    children: \"Product Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1743,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"Name\",\n                    value: newProduct.name,\n                    onChange: e => handleNewProductChange('name', e.target.value),\n                    style: {\n                      width: '100%',\n                      padding: 14,\n                      borderRadius: 10,\n                      border: '1.5px solid #bdbdbd',\n                      marginBottom: 4,\n                      fontSize: 16,\n                      transition: 'border 0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1744,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#888'\n                    },\n                    children: \"Enter a unique product name.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1746,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1742,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontWeight: 700,\n                      marginBottom: 8,\n                      display: 'block',\n                      color: '#333'\n                    },\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1749,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"Description\",\n                    value: newProduct.description,\n                    onChange: e => handleNewProductChange('description', e.target.value),\n                    style: {\n                      width: '100%',\n                      padding: 14,\n                      borderRadius: 10,\n                      border: '1.5px solid #bdbdbd',\n                      marginBottom: 4,\n                      fontSize: 16,\n                      transition: 'border 0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1750,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#888'\n                    },\n                    children: \"Briefly describe the product.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1752,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1748,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontWeight: 700,\n                      marginBottom: 8,\n                      display: 'block',\n                      color: '#333'\n                    },\n                    children: \"License\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1755,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"License\",\n                    value: newProduct.license,\n                    onChange: e => handleNewProductChange('license', e.target.value),\n                    style: {\n                      width: '100%',\n                      padding: 14,\n                      borderRadius: 10,\n                      border: '1.5px solid #bdbdbd',\n                      marginBottom: 4,\n                      fontSize: 16,\n                      transition: 'border 0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1756,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#888'\n                    },\n                    children: \"E.g., Annual, Perpetual, etc.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1758,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1754,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontWeight: 700,\n                      marginBottom: 8,\n                      display: 'block',\n                      color: '#333'\n                    },\n                    children: \"Unit Cost\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1761,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    placeholder: \"Unit Cost\",\n                    value: newProduct.unitCost,\n                    min: 0,\n                    onChange: e => handleNewProductChange('unitCost', e.target.value),\n                    style: {\n                      width: '100%',\n                      padding: 14,\n                      borderRadius: 10,\n                      border: '1.5px solid #bdbdbd',\n                      marginBottom: 4,\n                      fontSize: 16,\n                      transition: 'border 0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1762,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#888'\n                    },\n                    children: \"Enter the cost per unit.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1764,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1760,\n                  columnNumber: 19\n                }, this), newProduct.name !== 'Disaster Recovery' && newProduct.name !== 'DR' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontWeight: 700,\n                      marginBottom: 8,\n                      display: 'block',\n                      color: '#333'\n                    },\n                    children: \"Margin (%)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1768,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    placeholder: \"Margin (%)\",\n                    value: newProduct.margin,\n                    min: 0,\n                    max: 100,\n                    onChange: e => handleNewProductChange('margin', e.target.value),\n                    style: {\n                      width: '100%',\n                      padding: 14,\n                      borderRadius: 10,\n                      border: '1.5px solid #bdbdbd',\n                      marginBottom: 4,\n                      fontSize: 16,\n                      transition: 'border 0.2s'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1769,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#888'\n                    },\n                    children: \"Recommended: 35% or higher.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1771,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1767,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1736,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 18,\n                  justifyContent: 'flex-end',\n                  marginTop: 12\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  style: {\n                    background: 'linear-gradient(90deg, #1976d2 60%, #64b5f6 100%)',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 10,\n                    padding: '12px 36px',\n                    fontWeight: 800,\n                    fontSize: 18,\n                    cursor: 'pointer',\n                    boxShadow: '0 2px 8px rgba(25,118,210,0.10)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 8,\n                    transition: 'background 0.2s'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: 20\n                    },\n                    children: \"\\u2795\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1791,\n                    columnNumber: 21\n                  }, this), \" Add\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1776,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowAddProductForm(false),\n                  style: {\n                    background: '#fff',\n                    color: '#1976d2',\n                    border: '1.5px solid #90caf9',\n                    borderRadius: 10,\n                    padding: '12px 36px',\n                    fontWeight: 800,\n                    fontSize: 18,\n                    cursor: 'pointer'\n                  },\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1793,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1775,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1720,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1583,\n            columnNumber: 11\n          }, this), products.length > 0 && /*#__PURE__*/_jsxDEV(ProductTable, {\n            products: products,\n            billingCycle: billingCycle,\n            styles: styles,\n            updateQty: updateQty,\n            updateUnitCost: updateUnitCost,\n            updateMargin: updateMargin,\n            removeProduct: removeProduct\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1811,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: \"1fr 1fr\",\n              gap: \"30px\",\n              marginBottom: 0,\n              alignItems: \"stretch\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: styles.cardBackground,\n                padding: \"32px\",\n                borderRadius: \"8px\",\n                boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                gap: \"22px\",\n                minHeight: '480px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  margin: \"0 0 10px\",\n                  fontSize: \"20px\",\n                  color: styles.primaryColor\n                },\n                children: \"Price Configuration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1839,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: \"10px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: \"500\",\n                    color: styles.textColor,\n                    marginBottom: \"4px\"\n                  },\n                  children: [\"Professional Services & Support\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: \"5px\",\n                      color: \"#666\",\n                      fontSize: \"14px\",\n                      cursor: \"pointer\"\n                    },\n                    title: \"Enter the one-time fee for implementation and support\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1849,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1843,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    maxWidth: '100%',\n                    flexWrap: 'wrap'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: 0,\n                    value: serviceCharge,\n                    onChange: e => setServiceCharge(Number(e.target.value)),\n                    style: {\n                      padding: \"12px 14px\",\n                      width: \"120px\",\n                      borderRadius: \"8px\",\n                      border: `1.5px solid ${styles.inputBorder}`,\n                      backgroundColor: darkMode ? \"#232a36\" : \"#f8fafc\",\n                      color: styles.textColor,\n                      fontSize: \"16px\",\n                      boxSizing: \"border-box\",\n                      marginBottom: \"2px\",\n                      boxShadow: \"0 1px 3px rgba(0,0,0,0.04)\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1854,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#555',\n                      fontWeight: 500,\n                      fontSize: '15px'\n                    },\n                    children: \"CAD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1872,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      background: '#e3f2fd',\n                      color: '#1976d2',\n                      borderRadius: '6px',\n                      padding: '10px 14px',\n                      fontSize: '13px',\n                      fontWeight: 500,\n                      marginLeft: '10px',\n                      border: '1px solid #bbdefb',\n                      maxWidth: '320px',\n                      wordBreak: 'break-word',\n                      whiteSpace: 'normal',\n                      flex: '1 1 220px',\n                      minWidth: '120px',\n                      boxSizing: 'border-box',\n                      display: 'inline-block',\n                      textAlign: 'center',\n                      marginTop: '6px'\n                    },\n                    children: \"Enter the total amount for implementation and support for the entire year.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1873,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1853,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1842,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  gap: \"10px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: \"500\",\n                    color: styles.textColor,\n                    marginBottom: \"4px\"\n                  },\n                  children: [\"Billing Cycle\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      marginLeft: \"5px\",\n                      color: \"#666\",\n                      fontSize: \"14px\",\n                      cursor: \"pointer\"\n                    },\n                    title: \"Choose between monthly or annual billing\",\n                    children: \"\\u24D8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1903,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1897,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: billingCycle,\n                  onChange: e => setBillingCycle(e.target.value),\n                  style: {\n                    padding: \"12px 14px\",\n                    width: \"100%\",\n                    borderRadius: \"8px\",\n                    border: `1.5px solid ${styles.inputBorder}`,\n                    backgroundColor: darkMode ? \"#232a36\" : \"#f8fafc\",\n                    color: styles.textColor,\n                    fontSize: \"16px\",\n                    boxSizing: \"border-box\",\n                    marginBottom: \"2px\",\n                    boxShadow: \"0 1px 3px rgba(0,0,0,0.04)\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"monthly\",\n                    children: \"Monthly\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1923,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"annual\",\n                    children: \"Annual\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1924,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1907,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1896,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: \"18px 0 0 0\",\n                  fontSize: \"18px\",\n                  color: styles.primaryColor\n                },\n                children: \"Business Growth Suggestions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1927,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                style: {\n                  paddingLeft: \"20px\",\n                  margin: 0,\n                  color: styles.textColor,\n                  listStyleType: \"none\"\n                },\n                children: recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    marginBottom: \"12px\",\n                    fontSize: \"15px\",\n                    position: \"relative\",\n                    paddingLeft: \"25px\",\n                    color: styles.textColor\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      position: \"absolute\",\n                      left: 0,\n                      top: \"3px\",\n                      color: styles.textColor,\n                      fontSize: \"18px\"\n                    },\n                    children: \"\\u2022\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1939,\n                    columnNumber: 21\n                  }, this), rec]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1932,\n                  columnNumber: 19\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1930,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1829,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: hasLowMargin ? '#d32f2f' : styles.cardBackground,\n                color: hasLowMargin ? '#fff' : styles.textColor,\n                border: hasLowMargin ? '2px solid #b71c1c' : `1.5px solid ${styles.borderColor}`,\n                padding: \"20px\",\n                borderRadius: \"8px\",\n                boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n                minHeight: '480px',\n                transition: 'background 0.3s, color 0.3s, border 0.3s'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  margin: \"0 0 20px\",\n                  fontSize: \"20px\",\n                  color: styles.primaryColor\n                },\n                children: \"Financial Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1964,\n                columnNumber: 15\n              }, this), (() => {\n                // Helper calculations for all products\n                let unitCostTotal = 0,\n                  tax1Total = 0,\n                  unitPriceTotal = 0,\n                  marginAmountTotal = 0;\n                let marginPercentDisplay = [];\n                products.forEach(p => {\n                  const slab = (p.pricingSlabs || [])[0];\n                  const qty = p.qty || 1;\n                  const unitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n                  const margin = typeof p.margin === 'number' ? p.margin : slab.margin || 0;\n                  const tax1 = unitCost * 0.13;\n                  const unitPrice = unitCost + tax1;\n                  const marginAmount = unitPrice * margin * qty;\n                  unitCostTotal += unitCost * qty;\n                  tax1Total += tax1 * qty;\n                  unitPriceTotal += unitPrice * qty;\n                  marginAmountTotal += marginAmount;\n                  marginPercentDisplay.push(`${(margin * 100).toFixed(2)}%`);\n                });\n                unitCostTotal *= billingCycle === 'annual' ? 12 : 1;\n                tax1Total *= billingCycle === 'annual' ? 12 : 1;\n                unitPriceTotal *= billingCycle === 'annual' ? 12 : 1;\n                marginAmountTotal *= billingCycle === 'annual' ? 12 : 1;\n                const totalWithMargin = unitPriceTotal + marginAmountTotal;\n                const tax2 = totalWithMargin * (tax2Percent / 100);\n                const totalWithTax = totalWithMargin + tax2;\n                const stripeFees = totalWithTax * 0.029;\n                const totalStripeFees = stripeFees + 0.30;\n                const netTotal = totalWithTax + totalStripeFees;\n                return /*#__PURE__*/_jsxDEV(\"table\", {\n                  style: {\n                    width: \"100%\",\n                    borderCollapse: \"separate\",\n                    borderSpacing: 0,\n                    marginBottom: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: 2,\n                        style: {\n                          fontWeight: 700,\n                          fontSize: 16,\n                          padding: '16px 0 6px',\n                          color: styles.primaryColor\n                        },\n                        children: \"COST\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1999,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1999,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"UNIT COST\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2001,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: [unitCostTotal.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2002,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2000,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"TAX 1 (13% on Unit Cost)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2005,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: [tax1Total.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2006,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2004,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"UNIT PRICE (Cost to Pax8)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2009,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: [unitPriceTotal.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2010,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2008,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"MARGIN AMOUNT\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2013,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            display: 'inline-block',\n                            background: darkMode ? '#232a36' : '#e3f2fd',\n                            color: styles.primaryColor,\n                            border: `2px solid ${styles.primaryColor}`,\n                            borderRadius: '8px',\n                            padding: '6px 18px',\n                            fontWeight: 700,\n                            fontSize: '1.08em',\n                            boxShadow: '0 2px 8px rgba(30,136,229,0.07)'\n                          },\n                          children: [marginAmountTotal.toFixed(2), \" CAD\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2015,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2014,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2012,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor,\n                          fontWeight: 600\n                        },\n                        children: \"TOTAL WITH MARGIN\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2031,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor,\n                          fontWeight: 600\n                        },\n                        children: [totalWithMargin.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2032,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2030,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: 2,\n                        style: {\n                          fontWeight: 700,\n                          fontSize: 16,\n                          padding: '16px 0 6px',\n                          color: styles.primaryColor\n                        },\n                        children: \"TAXATION\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2034,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2034,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2035,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"TAX 2 (%)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2038,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'flex-end',\n                            gap: 6\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            inputMode: \"decimal\",\n                            pattern: \"^\\\\\\\\d*(\\\\\\\\.\\\\\\\\d{0,2})?$\",\n                            value: tax2Percent,\n                            onChange: e => {\n                              const val = e.target.value.replace(/[^\\d.]/g, '');\n                              setTax2Percent(val === '' ? '' : Number(val));\n                            },\n                            style: {\n                              width: 80,\n                              padding: '14px 12px',\n                              borderRadius: '8px',\n                              border: `1.5px solid ${styles.inputBorder}`,\n                              background: darkMode ? '#232a36' : '#fff',\n                              color: styles.textColor,\n                              fontSize: '1.13rem',\n                              textAlign: 'right',\n                              fontFamily: 'inherit',\n                              marginRight: 2\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2041,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            style: {\n                              fontWeight: 500,\n                              color: styles.textColor,\n                              fontSize: 15\n                            },\n                            children: \"%\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2063,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            title: \"Edit the secondary tax percentage (e.g., HST/GST for your province)\",\n                            style: {\n                              marginLeft: 4,\n                              color: '#888',\n                              cursor: 'help',\n                              fontSize: 16\n                            },\n                            children: \"\\u24D8\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2064,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2040,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2039,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2037,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"TAX 2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2069,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: [tax2.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2070,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2068,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: 2,\n                        style: {\n                          fontWeight: 700,\n                          fontSize: 16,\n                          padding: '16px 0 6px',\n                          color: styles.primaryColor\n                        },\n                        children: \"PROCESSING FEES\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2072,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2072,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"STRIPE FEES (2.9% + $0.30)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2074,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: [stripeFees.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2075,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2073,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor\n                        },\n                        children: \"TOTAL STRIPE FEES\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2078,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor\n                        },\n                        children: [totalStripeFees.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2079,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2077,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: 2,\n                        style: {\n                          fontWeight: 700,\n                          fontSize: 16,\n                          padding: '16px 0 6px',\n                          color: styles.primaryColor\n                        },\n                        children: \"NET TOTAL\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2081,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2081,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor,\n                          fontWeight: 700\n                        },\n                        children: \"NET TOTAL\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2083,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor,\n                          fontWeight: 700\n                        },\n                        children: [netTotal.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2084,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2082,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: 2,\n                        style: {\n                          fontWeight: 700,\n                          fontSize: 16,\n                          padding: '16px 0 6px',\n                          color: styles.primaryColor\n                        },\n                        children: \"TAXATION\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2086,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2086,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          color: styles.textColor,\n                          fontWeight: 600\n                        },\n                        children: \"TOTAL WITH TAX\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2088,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          padding: \"8px 0\",\n                          textAlign: \"right\",\n                          color: styles.textColor,\n                          fontWeight: 600\n                        },\n                        children: [totalWithTax.toFixed(2), \" CAD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2089,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2087,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1998,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1997,\n                  columnNumber: 19\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1954,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1822,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1419,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n          children: `\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n            .customer-info-grid {\n              display: grid;\n              grid-template-columns: repeat(3, 1fr);\n              gap: 28px 24px;\n              margin-bottom: 10px;\n            }\n            .customer-info-field {\n              background: #f7f9fc;\n              border-radius: 10px;\n              box-shadow: 0 2px 8px rgba(30,136,229,0.07);\n              padding: 18px 16px 12px 16px;\n              display: flex;\n              flex-direction: column;\n              min-width: 0;\n            }\n            .customer-info-label {\n              font-weight: 700;\n              color: #1e88e5;\n              margin-bottom: 8px;\n                font-size: 0.78rem;\n              display: flex;\n              align-items: center;\n              gap: 6px;\n            }\n            .customer-info-tooltip {\n              color: #666;\n                font-size: 11px;\n              cursor: pointer;\n              margin-left: 4px;\n            }\n            .customer-info-input {\n              padding: 12px 10px;\n              border-radius: 6px;\n              border: 1.5px solid #bdbdbd;\n              background: #fff;\n              color: #222;\n                font-size: 0.83rem;\n              font-family: inherit;\n              margin-top: 2px;\n              transition: border 0.2s;\n            }\n            .customer-info-input:focus {\n              border: 1.5px solid #1e88e5;\n              outline: none;\n            }\n            @media (max-width: 1200px) {\n              .customer-info-grid {\n                grid-template-columns: repeat(2, 1fr);\n              }\n            }\n            @media (max-width: 700px) {\n              .customer-info-grid {\n                grid-template-columns: 1fr;\n              }\n            }\n          `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2099,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 992,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 991,\n    columnNumber: 5\n  }, this);\n}\n\n// Add a global style block for font enhancement\n_s(App, \"DgUI3iV0K5IKuweHzc9fqTRpiOA=\");\n_c = App;\n/*#__PURE__*/_jsxDEV(\"style\", {\n  children: `\n  body, input, select, textarea, button, label, h1, h2, h3, h4, h5, h6, p, span, th, td, div {\n    font-family: 'Inter', 'Roboto', 'Segoe UI', Arial, sans-serif !important;\n    font-smooth: always;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n`\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 2169,\n  columnNumber: 1\n}, this);\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","useMemo","jsPDF","autoTable","QRCode","PRODUCTS","getPricingData","getPackageName","getRecommendations","generateEmailSubject","calculateProductRow","ErrorBoundary","Login","bgCloud","Notification","sendEmail","emailjs","logoPng","ProductTable","jsxDEV","_jsxDEV","EXCELYTECH_LOGO","getImageDataUrl","url","response","fetch","blob","Promise","resolve","reader","FileReader","onloadend","result","readAsDataURL","App","_s","darkMode","setDarkMode","authenticated","setAuthenticated","products","setProducts","selectedProduct","setSelectedProduct","name","qty","setQty","serviceCharge","setServiceCharge","billingCycle","setBillingCycle","waiveStripe","setWaiveStripe","customerName","setCustomerName","salutation","setSalutation","customerEmail","setCustomerEmail","customerAddress","setCustomerAddress","customerCompany","setCustomerCompany","customerPhone","setCustomerPhone","isGeneratingPDF","setIsGeneratingPDF","notification","setNotification","notificationKey","setNotificationKey","customProducts","setCustomProducts","showAddProductForm","setShowAddProductForm","newProduct","setNewProduct","description","license","unitCost","margin","validationError","setValidationError","canTime","setCanTime","Date","indTime","setIndTime","usTime","setUsTime","cardType","setCardType","productMarginThreshold","setProductMarginThreshold","packageMarginThreshold","setPackageMarginThreshold","tax2Percent","setTax2Percent","allProducts","billingMultiplier","proFeeMonthly","proFeeForCalc","calculations","validProducts","filter","p","slab","pricingSlabs","isNaN","subtotal","reduce","sum","pricingData","recommendedPrice","tax","stripeBase","stripeFee","total","document","body","style","backgroundColor","interval","setInterval","clearInterval","indTimeString","toLocaleTimeString","timeZone","hour","minute","second","hour12","toUpperCase","usTimeString","usCanLabel","usCanTime","handleQtyWheel","e","stopPropagation","preventDefault","validateInput","value","type","Number","isInteger","trim","length","handleCustomerNameChange","target","handleEmailChange","validateEmail","handlePhoneChange","validatePhone","addProduct","Error","product","find","prev","existingProduct","map","error","console","showNotification","message","removeProduct","updateQty","newQty","updateMargin","newMargin","marginValue","undefined","updatedSlabs","styles","textColor","primaryColor","secondaryColor","cardBackground","borderColor","tableHeaderBackground","tableHeaderText","buttonBackground","buttonText","removeButtonBackground","inputBorder","hoverBackground","overlay","background","productsWithCalc","isDR","isHomeGrown","drPrice","lineTotal","pax8Total","customerSubtotal","row","taxOnCustomer","customerTotalBeforeFee","finalCustomerTotal","profitBeforeTax","profitTaxRate","profitAfterTax","recommendations","setTimeout","validateQuoteGeneration","generatePDF","doc","orientation","unit","format","logoDataUrl","addImage","headerY","setFontSize","setTextColor","companyDetails","forEach","line","text","setDrawColor","toLocaleDateString","year","month","day","Math","floor","random","preparedFor","greeting","introText","currentY","splitText","splitTextToSize","quoteSummary","billingText","splitBilling","tableColumn","productRows","toString","toFixed","additionalRows","content","colSpan","totalRow","fontStyle","startY","head","font","fontSize","cellPadding","overflow","valign","headStyles","fillColor","halign","columnStyles","cellWidth","didParseCell","data","index","cell","lastAutoTable","finalY","pageHeight","internal","pageSize","height","bottomMargin","minSpaceNeeded","addPage","terms","term","footerY","footerText","splitFooter","getWidth","align","msaTerms","appreciationText","contactText","qrText","qrDataUrl","toDataURL","width","qrSize","pageWidth","firstPageHeight","getHeight","pageCount","getNumberOfPages","i","setPage","save","toISOString","slice","handleSendEmail","emailContent","join","quoteNumber","getFullYear","String","padStart","emailParams","to_email","from_name","subject","hasLowMargin","some","handleResetAll","handleAddProductClick","handleNewProductChange","field","handleAddProductSubmit","productToAdd","minQty","maxQty","handleRemoveCustomProduct","email","re","test","phone","updateUnitCost","newUnitCost","getCardBackground","getTableBackground","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","productPriceTotal","baseUnitCost","unitPrice","price","val","children","display","flexDirection","alignItems","maxWidth","fontFamily","padding","color","minHeight","transition","marginTop","className","position","top","alignSelf","gap","minWidth","zIndex","marginRight","borderRadius","boxShadow","border","textAlign","fontWeight","unitPriceTotal","marginAmountTotal","tax1","marginAmount","totalWithMargin","flex","paddingRight","right","onClose","onClick","justifyContent","cursor","title","viewBox","fill","xmlns","d","localStorage","removeItem","disabled","opacity","animation","marginBottom","src","alt","letterSpacing","onChange","placeholder","flexWrap","marginLeft","lineHeight","whiteSpace","min","onWheel","boxSizing","onMouseOver","currentTarget","onMouseOut","onSubmit","gridTemplateColumns","max","wordBreak","paddingLeft","listStyleType","rec","left","unitCostTotal","tax1Total","marginPercentDisplay","push","tax2","totalWithTax","stripeFees","totalStripeFees","netTotal","borderCollapse","borderSpacing","inputMode","pattern","replace","_c","$RefreshReg$"],"sources":["C:/Users/Hasan/Desktop/vscode/etcalc/src/App.js"],"sourcesContent":["import React, { useState, useCallback, useEffect, useMemo } from \"react\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport QRCode from 'qrcode';\nimport { PRODUCTS } from './data/products';\nimport { getPricingData, getPackageName, getRecommendations, generateEmailSubject, calculateProductRow } from './utils/pricing';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport Login from './components/Login';\nimport bgCloud from './assets/bg_cloud.png';\nimport Notification from './components/Notification';\nimport { sendEmail } from './utils/emailService';\nimport emailjs from '@emailjs/browser';\nimport logoPng from './assets/et_dark.png';\nimport ProductTable from './components/ProductTable';\n\n// Replace EXCELYTECH_LOGO with base64 string\nconst EXCELYTECH_LOGO = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtbC4uLg=='; // <-- Replace with your actual base64 string\n\n// Helper to fetch image as Data URL\nasync function getImageDataUrl(url) {\n  const response = await fetch(url);\n  const blob = await response.blob();\n  return new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.readAsDataURL(blob);\n  });\n}\n\nexport default function App() {\n  // Theme state\n  const [darkMode, setDarkMode] = useState(false);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [products, setProducts] = useState([]);\n  const [selectedProduct, setSelectedProduct] = useState(PRODUCTS[0].name);\n  const [qty, setQty] = useState(1);\n  const [serviceCharge, setServiceCharge] = useState(0);\n  const [billingCycle, setBillingCycle] = useState(\"monthly\");\n  const [waiveStripe, setWaiveStripe] = useState(false);\n  const [customerName, setCustomerName] = useState(\"\");\n  const [salutation, setSalutation] = useState(\"Mr.\");\n  const [customerEmail, setCustomerEmail] = useState(\"\");\n  const [customerAddress, setCustomerAddress] = useState(\"\");\n  const [customerCompany, setCustomerCompany] = useState(\"\");\n  const [customerPhone, setCustomerPhone] = useState(\"\");\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const [notification, setNotification] = useState(\"\");\n  const [notificationKey, setNotificationKey] = useState(0);\n  const [customProducts, setCustomProducts] = useState([]);\n  const [showAddProductForm, setShowAddProductForm] = useState(false);\n  const [newProduct, setNewProduct] = useState({ name: '', description: '', license: '', unitCost: 0, margin: 35 });\n  const [validationError, setValidationError] = useState(\"\");\n  const [canTime, setCanTime] = useState(new Date());\n  const [indTime, setIndTime] = useState(new Date());\n  const [usTime, setUsTime] = useState(new Date());\n  // 1. Add card type selector state\n  const [cardType, setCardType] = useState('domestic'); // 'domestic' or 'international'\n\n  // 1. Make margin thresholds configurable\n  const [productMarginThreshold, setProductMarginThreshold] = useState(20); // default 20%\n  const [packageMarginThreshold, setPackageMarginThreshold] = useState(15); // default 15%\n\n  // Add state for Tax 2 percentage\n  const [tax2Percent, setTax2Percent] = useState(13);\n\n  // Memoize allProducts\n  const allProducts = useMemo(() => {\n    return [...PRODUCTS, ...customProducts];\n  }, [PRODUCTS, customProducts]);\n\n  // Calculate billing multiplier\n  const billingMultiplier = billingCycle === \"annual\" ? 12 : 1;\n\n  // Calculate pro fee\n  const proFeeMonthly = serviceCharge / 12;\n  const proFeeForCalc = billingCycle === \"monthly\" ? proFeeMonthly : serviceCharge;\n\n  // Memoize calculations\n  const calculations = useMemo(() => {\n    const validProducts = products.filter(p => {\n      const slab = (p.pricingSlabs || [])[0];\n      const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n      return margin !== null && !isNaN(margin) && margin >= 0.2;\n    });\n    const subtotal = validProducts.reduce((sum, p) => {\n      const pricingData = getPricingData(p, p.qty);\n      return sum + pricingData.recommendedPrice * p.qty;\n    }, 0) * billingMultiplier;\n\n    const tax = (subtotal + proFeeForCalc) * 0.13;\n    const stripeBase = subtotal + proFeeForCalc + tax;\n    const stripeFee = waiveStripe ? 0 : (stripeBase * 0.029 + 0.30);\n    const total = stripeBase + stripeFee;\n\n    return {\n      subtotal,\n      tax,\n      stripeFee,\n      total,\n      stripeBase\n    };\n  }, [products, billingMultiplier, proFeeForCalc, waiveStripe]);\n\n  useEffect(() => {\n    document.body.style.backgroundColor = darkMode ? \"#181c24\" : \"#f7f9fc\";\n  }, [darkMode]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCanTime(new Date());\n      setIndTime(new Date());\n      setUsTime(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Remove unused canTimeString since we're using usCanTime\n  const indTimeString = indTime.toLocaleTimeString('en-IN', { timeZone: 'Asia/Kolkata', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true }).toUpperCase();\n  const usTimeString = usTime.toLocaleTimeString('en-US', { timeZone: 'America/New_York', hour: '2-digit', minute: '2-digit', second: '2-digit' });\n\n  // Always display only one time for US EST / CAN, using US EST time\n  const usCanLabel = 'US EST / CAN';\n  const usCanTime = usTimeString;\n\n  const handleQtyWheel = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  const validateInput = useCallback((value, type) => {\n    switch (type) {\n      case 'quantity':\n        return Number.isInteger(Number(value)) && value > 0;\n      case 'serviceCharge':\n        return !isNaN(value) && value >= 0;\n      case 'customerName':\n        return value.trim().length > 0;\n      default:\n        return true;\n    }\n  }, []);\n\n  // Use handleCustomerNameChange in the input field\n  const handleCustomerNameChange = (e) => {\n    const value = e.target.value;\n    if (validateInput(value, 'customerName')) {\n      setCustomerName(value);\n      setValidationError(\"\");\n    } else {\n      setValidationError(\"Please enter a valid name\");\n    }\n  };\n\n  const handleEmailChange = (e) => {\n    const value = e.target.value;\n    setCustomerEmail(value);\n    if (value && !validateEmail(value)) {\n      setValidationError(\"Please enter a valid email address\");\n    } else {\n      setValidationError(\"\");\n    }\n  };\n\n  const handlePhoneChange = (e) => {\n    const value = e.target.value;\n    setCustomerPhone(value);\n    if (value && !validatePhone(value)) {\n      setValidationError(\"Please enter a valid phone number\");\n    } else {\n      setValidationError(\"\");\n    }\n  };\n\n  const addProduct = useCallback(() => {\n    try {\n      if (!validateInput(qty, 'quantity')) {\n        throw new Error(\"Quantity must be a positive integer\");\n      }\n      const product = allProducts.find(p => p.name === selectedProduct);\n      if (!product) {\n        throw new Error(\"Selected product not found\");\n      }\n      setProducts(prev => {\n        const existingProduct = prev.find(p => p.name === selectedProduct);\n        if (existingProduct) {\n          return prev.map(p =>\n            p.name === selectedProduct ? { ...p, qty: p.qty + qty } : p\n          );\n        }\n        return [...prev, { ...product, qty }];\n      });\n    } catch (error) {\n      console.error('Error adding product:', error);\n      showNotification(error.message);\n    }\n  }, [selectedProduct, qty, validateInput, allProducts]);\n\n  const removeProduct = useCallback((name) => {\n    setProducts(prev => prev.filter(p => p.name !== name));\n  }, []);\n\n  const updateQty = useCallback((name, newQty) => {\n    try {\n      if (!validateInput(newQty, 'quantity')) {\n        throw new Error(\"Quantity must be a positive integer\");\n      }\n      setProducts(prev =>\n        prev.map(p => (p.name === name ? { ...p, qty: Number(newQty) } : p))\n      );\n    } catch (error) {\n      console.error('Error updating quantity:', error);\n      showNotification(error.message);\n    }\n  }, [validateInput]);\n\n  const updateMargin = (name, newMargin) => {\n    setProducts(prev =>\n      prev.map(p => {\n        if (p.name === name) {\n          // If blank or invalid, set margin to null\n          const marginValue = (newMargin === null || newMargin === undefined || isNaN(newMargin)) ? null : newMargin;\n          const updatedSlabs = p.pricingSlabs.map(slab => ({\n            ...slab,\n            margin: marginValue,\n            recommendedPrice: slab.unitCost * (1 + (marginValue || 0))\n          }));\n          return { ...p, pricingSlabs: updatedSlabs };\n        }\n        return p;\n      })\n    );\n  };\n\n  const styles = darkMode\n    ? {\n        backgroundColor: \"#181c24\",\n        textColor: \"#f5f6fa\",\n        primaryColor: \"#6cb8ff\",\n        secondaryColor: \"#7fd7c4\",\n        cardBackground: \"#232a36\",\n        borderColor: \"#2a3140\",\n        tableHeaderBackground: \"#1976d2\",\n        tableHeaderText: \"#f5f6fa\",\n        buttonBackground: \"#1976d2\",\n        buttonText: \"#f5f6fa\",\n        removeButtonBackground: \"#e57373\",\n        inputBorder: \"#3a4256\",\n        hoverBackground: \"#232a36\",\n        overlay: \"linear-gradient(120deg, rgba(24,28,36,0.92) 60%, rgba(30,40,60,0.85) 100%)\",\n      }\n    : {\n        backgroundColor: \"#f7f9fc\",\n        textColor: \"#333333\",\n        primaryColor: \"#1e88e5\",\n        secondaryColor: \"#ff6d00\",\n        cardBackground: \"#ffffff\",\n        borderColor: \"#e0e0e0\",\n        tableHeaderBackground: \"#1e88e5\",\n        tableHeaderText: \"#ffffff\",\n        buttonBackground: \"#1e88e5\",\n        buttonText: \"#ffffff\",\n        removeButtonBackground: \"#f44336\",\n        inputBorder: \"#bdbdbd\",\n        hoverBackground: \"#f5f5f5\",\n        overlay: \"none\",\n      };\n\n  useEffect(() => {\n    document.body.style.background = darkMode\n      ? `${styles.overlay}, url(${bgCloud}) center center/cover no-repeat fixed`\n      : styles.backgroundColor;\n  }, [darkMode, styles.overlay, styles.backgroundColor]);\n\n  // Move this block above any early returns (such as if (!authenticated) ...)\n  const productsWithCalc = useMemo(() => products.map(p => {\n    const pricingData = getPricingData(p, p.qty);\n    const isDR = p.isHomeGrown;\n    let drPrice = pricingData.recommendedPrice; // Already includes tax for DR products\n    if (isDR && billingCycle === 'monthly') {\n      drPrice = drPrice / 12; // Monthly billing for DR products\n    }\n\n    return {\n      ...p,\n      unitCost: pricingData.unitCost,\n      recommendedPrice: isDR ? drPrice : pricingData.recommendedPrice,\n      margin: pricingData.margin,\n      lineTotal: isDR \n        ? drPrice // Display same value as Price for DR products\n        : pricingData.recommendedPrice * p.qty * billingMultiplier\n    };\n  }), [products, billingCycle, billingMultiplier]);\n\n  // Cost to Pax8 (manually input or calculated)\n  const pax8Total = productsWithCalc\n    .filter(p => !p.isHomeGrown)\n    .reduce((sum, p) => sum + (p.unitCost * p.qty), 0);\n\n  // Customer Amount (Before Tax)\n  const customerSubtotal = products.reduce((sum, p) => {\n    const row = calculateProductRow(p, p.qty, billingCycle);\n    return sum + row.total;\n  }, 0);\n\n  // Tax (13% HST)\n  const taxOnCustomer = isNaN(customerSubtotal) ? 0 : customerSubtotal * 0.13;\n\n  // Payment Processing Fee (only if Customer Total > 0)\n  const customerTotalBeforeFee = customerSubtotal + taxOnCustomer;\n  const stripeFee = customerTotalBeforeFee > 0 ? 0.30 : 0;\n\n  // Final Customer Total\n  const finalCustomerTotal = customerTotalBeforeFee - stripeFee;\n\n  // Profit Calculations\n  const profitBeforeTax = customerTotalBeforeFee - (pax8Total + proFeeForCalc + stripeFee);\n  const profitTaxRate = 0.13; // 13% profit tax if applicable\n  const profitAfterTax = profitBeforeTax * (1 - profitTaxRate);\n\n  const recommendations = getRecommendations(\n    products.filter(p => {\n      const slab = (p.pricingSlabs || [])[0];\n      const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n      return margin !== null && !isNaN(margin) && margin >= 0.2;\n    }),\n    serviceCharge,\n    billingCycle,\n    profitBeforeTax\n  );\n\n  const showNotification = (message) => {\n    setNotification(message);\n    setNotificationKey(prev => prev + 1);\n    setTimeout(() => {\n      setNotification(\"\");\n    }, 3000);\n  };\n\n  const validateQuoteGeneration = () => {\n    if (!customerName.trim()) {\n      showNotification(\"Please enter customer name\");\n      return false;\n    }\n    if (products.length === 0) {\n      showNotification(\"Please add at least one product\");\n      return false;\n    }\n    return true;\n  };\n\n  const generatePDF = async () => {\n    try {\n      if (!validateQuoteGeneration()) {\n        return;\n      }\n  \n      setIsGeneratingPDF(true);\n      setValidationError(\"\");\n  \n      const doc = new jsPDF({\n        orientation: \"portrait\",\n        unit: \"mm\",\n        format: \"a4\"\n      });\n  \n      // Add PNG logo at the top left\n      const logoDataUrl = await getImageDataUrl(logoPng);\n      doc.addImage(logoDataUrl, 'PNG', 10, 10, 60, 20); // Adjust size as needed\n  \n      // Add company details\n      let headerY = 10 + 20 + 12; // logo Y + logo height + extra space\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      const companyDetails = [\n        \"Ontario, Canada\",\n        \"289-291-6377\",\n        \"info@excelytech.com\"\n      ];\n      companyDetails.forEach(line => {\n        doc.text(line, 14, headerY);\n        headerY += 5;\n      });\n  \n      doc.setDrawColor(200, 200, 200);\n      doc.line(14, headerY, 196, headerY);\n      headerY += 5;\n  \n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      doc.text(`Quote Date: ${new Date().toLocaleDateString('en-US', { \n        year: 'numeric', \n        month: 'long', \n        day: 'numeric' \n      })}`, 14, headerY);\n      doc.text(`Quote #: ${Math.floor(1000 + Math.random() * 9000)}`, 14, headerY + 6);\n      const preparedFor = `Prepared for: ${customerName || \"Customer\"}`;\n      doc.text(preparedFor, 14, headerY + 12);\n      doc.setFontSize(10);\n      doc.setTextColor(255, 0, 0);\n      doc.text(\"**Quote Valid for 30 Days**\", 140, headerY + 12);\n      \n      doc.setFontSize(12);\n      doc.setTextColor(0);\n      const greeting = `${salutation} ${customerName || \"Customer\"},`;\n      doc.text(greeting, 14, headerY + 24);\n      \n      doc.setFontSize(11);\n      const introText = [\n        \"Thank you for choosing ExcelyTech for your backup and security needs. We are pleased to present this detailed quote for our services, tailored to meet your requirements. Below, you will find a comprehensive breakdown of your proposed solution:\"\n      ];\n      let currentY = headerY + 34;\n      introText.forEach(line => {\n        const splitText = doc.splitTextToSize(line, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n  \n      doc.setFontSize(14);\n      doc.setTextColor(33, 150, 243);\n      const quoteSummary = `Quote Summary: ${getPackageName(products)}`;\n      doc.text(quoteSummary, 14, currentY + 6);\n      currentY += 12;\n      doc.setTextColor(0);\n      \n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      const billingText = `Billing Cycle: ${billingCycle === 'monthly' ? \n        'Monthly subscription - You will be charged this amount every month' : \n        'Annual subscription - You will be charged this amount once per year'}`;\n      const splitBilling = doc.splitTextToSize(billingText, 180);\n      doc.text(splitBilling, 14, currentY);\n      currentY += splitBilling.length * 4.5;\n  \n      const tableColumn = [\"Product Name\", \"Description\", \"Qty\", \"Price\", \"Total\"];\n      const validProducts = products.filter(p => {\n        const slab = (p.pricingSlabs || [])[0];\n        const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n        return margin !== null && !isNaN(margin) && margin >= 0.2;\n      });\n      const productRows = validProducts.map(p => [\n        p.name,\n        p.description,\n        p.qty.toString(),\n        `$${getPricingData(p, p.qty).recommendedPrice.toFixed(2)}`,\n        `$${(getPricingData(p, p.qty).recommendedPrice * p.qty * billingMultiplier).toFixed(2)}`\n      ]);\n  \n      const additionalRows = [\n        [\n          {\n            content: \"Implementation & Support\",\n            colSpan: 2\n          },\n          \"1\",\n          `$${proFeeForCalc.toFixed(2)}`,\n          `$${proFeeForCalc.toFixed(2)}`\n        ],\n        [\n          {\n            content: \"Tax (13% HST)\",\n            colSpan: 2\n          },\n          \"\",\n          \"\",\n          `$${taxOnCustomer.toFixed(2)}`\n        ],\n        [\n          {\n            content: `Payment Processing${waiveStripe ? \" waived\" : \"\"}`,\n            colSpan: 2\n          },\n          \"\",\n          \"\",\n          `$${stripeFee.toFixed(2)}`\n        ]\n      ];\n  \n      const totalRow = [\n        {\n          content: `TOTAL (${billingCycle === 'monthly' ? 'Monthly' : 'Annual'} Charge)`,\n          colSpan: 3,\n          styles: { fontStyle: 'bold' }\n        },\n        \"\",\n        `$${finalCustomerTotal.toFixed(2)}`\n      ];\n  \n      autoTable(doc, {\n        startY: currentY + 2,\n        head: [tableColumn],\n        body: [...productRows, ...additionalRows, totalRow],\n        styles: { \n          font: \"helvetica\",\n          fontSize: 10,\n          cellPadding: 4,\n          overflow: 'linebreak',\n          valign: 'middle',\n        },\n        headStyles: { \n          fillColor: [25, 118, 210],\n          textColor: [255, 255, 255],\n          fontStyle: 'bold',\n          halign: 'center',\n          valign: 'middle',\n        },\n        columnStyles: {\n          0: { cellWidth: 48, halign: 'left' }, // Product Name\n          1: { cellWidth: 48, halign: 'left' }, // Description\n          2: { cellWidth: 18, halign: 'center' }, // Qty\n          3: { cellWidth: 28, halign: 'center' }, // Price\n          4: { cellWidth: 28, halign: 'center' }, // Total\n        },\n        didParseCell: (data) => {\n          if (data.row.index === productRows.length + additionalRows.length) {\n            data.cell.styles.fontStyle = 'bold';\n            data.cell.styles.fillColor = [245, 245, 245];\n          }\n        }\n      });\n  \n      currentY = doc.lastAutoTable.finalY + 15;\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      \n      const pageHeight = doc.internal.pageSize.height;\n      const bottomMargin = 20;\n      const minSpaceNeeded = 60; // adjust as needed for your terms section\n\n      if (currentY > pageHeight - minSpaceNeeded - bottomMargin) {\n        doc.addPage();\n        currentY = 20; // or whatever your top margin is\n      }\n\n      // Now add Terms & Conditions at currentY\n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      doc.text(\"Terms & Conditions:\", 14, currentY);\n      const terms = [\n        \"1. Validity: This quote is valid for 30 days from the date of issue. Prices are subject to change thereafter.\",\n        `2. Payment Terms: Invoices are due within 15 days of receipt. ${billingCycle === 'monthly' ? \n          'Monthly subscriptions will be automatically charged on the 1st of each month.' : \n          'Annual subscriptions require full payment upfront within 15 days of invoice receipt.'}`,\n        \"3. Service Commencement: Services will commence upon receipt of signed agreement and initial payment.\",\n        \"4. Cancellation Policy: Subscriptions may be canceled with 30 days' written notice. No refunds will be issued for partial terms.\",\n        \"5. Limitation of Liability: ExcelyTech shall not be liable for any indirect, incidental, or consequential damages arising from the use of our services.\",\n        \"6. Governing Law: This agreement shall be governed by the laws of Ontario, Canada.\"\n      ];\n      currentY += 6;\n      terms.forEach((term) => {\n        const splitText = doc.splitTextToSize(term, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n  \n      let footerY = pageHeight - 15;\n      doc.setFontSize(8);\n      doc.setTextColor(150);\n      const footerText = \"Confidential - This document contains proprietary information and is intended solely for the recipient.\";\n      const splitFooter = doc.splitTextToSize(footerText, 180);\n      doc.text(splitFooter, doc.internal.pageSize.getWidth() / 2, footerY, { align: 'center' });\n  \n      doc.addPage();\n      currentY = 20;\n  \n      doc.setFontSize(10);\n      doc.setTextColor(100);\n      doc.text(\"Key Terms and Conditions:\", 14, currentY);\n      const msaTerms = [\n        \"1. Quote Definition: This Product Quotation outlines the costs and terms for Products/Services, forming part of the Master Agreement.\",\n        \"2. Payment: Fees are due monthly on the 1st via direct debit; late fees apply. Hardware/software must be paid before deployment. Fees may increase after 12 months (up to 10% annually with 60 days' notice).\",\n        \"3. Term: The agreement lasts 36 months, auto-renewing yearly unless terminated with 60 days' notice.\",\n        \"4. Termination/Cancellation: Early termination incurs remaining fees; Product cancellation incurs a 15% restocking fee (no returns for delivered/custom items).\",\n        \"5. Confidentiality: Quote details are confidential and must not be disclosed.\",\n        \"6. Warranties: Product warranties are passed on; out-of-warranty support requires a separate quote.\",\n        \"7. Additional Costs: Costs (hourly, after-hours, agreement rates) and additional services are defined in the Product Quotation.\"\n      ];\n      currentY += 6;\n      msaTerms.forEach((term) => {\n        const splitText = doc.splitTextToSize(term, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n  \n      currentY += 10;\n      doc.setTextColor(0);\n      doc.setFontSize(10);\n      doc.text(\"Acceptance:\", 14, currentY);\n      currentY += 6;\n      doc.text(\"Customer Signature:\", 14, currentY);\n      currentY += 10;\n      doc.text(\"Date:\", 14, currentY);\n      currentY += 10;\n      doc.text(\"ExcelyTech Representative:\", 14, currentY);\n      currentY += 10;\n      doc.text(\"Date:\", 14, currentY);\n  \n      currentY += 15;\n      doc.setTextColor(25, 118, 210);\n      const appreciationText = \"We appreciate your business!\";\n      doc.text(appreciationText, 14, currentY);\n      doc.setTextColor(100);\n      const contactText = [\n        \"Ontario, Canada\",\n        \"289-291-6377\",\n        \"info@excelytech.com\"\n      ];\n      currentY += 6;\n      contactText.forEach((line) => {\n        const splitText = doc.splitTextToSize(line, 180);\n        doc.text(splitText, 14, currentY);\n        currentY += splitText.length * 4.5;\n      });\n  \n      footerY = pageHeight - 15;\n      doc.setFontSize(8);\n      doc.setTextColor(150);\n      doc.text(splitFooter, doc.internal.pageSize.getWidth() / 2, footerY, { align: 'center' });\n  \n      // Generate QR code with summary info\n      const qrText = `Customer: ${customerName || 'N/A'}\\nCompany: ${customerCompany || 'N/A'}\\nTotal: $${finalCustomerTotal.toFixed(2)} CAD\\nDate: ${new Date().toLocaleDateString('en-CA')}`;\n      const qrDataUrl = await QRCode.toDataURL(qrText, { width: 80, margin: 1 });\n      // Place QR code just above the footer, smaller size\n      const qrSize = 36;\n      const pageWidth = doc.internal.pageSize.getWidth();\n      const firstPageHeight = doc.internal.pageSize.getHeight();\n      doc.addImage(qrDataUrl, 'PNG', pageWidth - qrSize - 30, firstPageHeight - qrSize - 70, qrSize, qrSize);\n  \n      // Add footer to every page\n      const pageCount = doc.getNumberOfPages();\n      for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        let footerY = doc.internal.pageSize.getHeight() - 15;\n        doc.setFontSize(8);\n        doc.setTextColor(150);\n        doc.text(splitFooter, doc.internal.pageSize.getWidth() / 2, footerY, { align: 'center' });\n      }\n  \n      doc.save(`ExcelyTech_Quote_${customerName || \"Customer\"}_${new Date().toISOString().slice(0, 10)}.pdf`);\n        \n      setIsGeneratingPDF(false);\n      showNotification(\"PDF Downloaded Successfully!\");\n      return true;\n    } catch (error) {\n      console.error(\"PDF Generation Failed:\", error);\n      setValidationError(`Error generating PDF: ${error.message || \"Please try again\"}`);\n      showNotification(`Error generating PDF: ${error.message || \"Please try again\"}`);\n      setIsGeneratingPDF(false);\n      return false;\n    }\n  };\n\n  const handleSendEmail = async () => {\n    try {\n      if (!validateQuoteGeneration()) {\n        throw new Error(\"Please validate quote details first\");\n      }\n      if (!customerEmail) {\n        throw new Error(\"Please enter customer email first\");\n      }\n      if (!validateEmail(customerEmail)) {\n        throw new Error(\"Please enter a valid email address\");\n      }\n  \n      setIsGeneratingPDF(true);\n      setValidationError(\"\");\n  \n      // Add this block to define validProducts for email content\n      const validProducts = products.filter(p => {\n        const slab = (p.pricingSlabs || [])[0];\n        const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n        return margin !== null && !isNaN(margin) && margin >= 0.2;\n      });\n  \n      // Generate QR code with summary info\n      const qrText = `Customer: ${customerName || 'N/A'}\\nCompany: ${customerCompany || 'N/A'}\\nTotal: $${finalCustomerTotal.toFixed(2)} CAD\\nDate: ${new Date().toLocaleDateString('en-CA')}`;\n      const qrDataUrl = await QRCode.toDataURL(qrText, { width: 80, margin: 1 });\n  \n      // Generate the email content to match the PDF structure\n      const emailContent = `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; color: #333; line-height: 1.6;\">\n          <!-- Company Details -->\n          <div style=\"margin-bottom: 10px; text-align: left; font-size: 12px; color: #666;\">\n            <p style=\"margin: 5px 0;\">Ontario, Canada</p>\n            <p style=\"margin: 5px 0;\">289-291-6377</p>\n            <p style=\"margin: 5px 0;\">info@excelytech.com</p>\n          </div>\n  \n          <!-- Horizontal Line -->\n          <div style=\"border-bottom: 1px solid #e0e0e0; margin-bottom: 10px;\"></div>\n  \n          <!-- Quote Details -->\n          <div style=\"margin-bottom: 20px; text-align: left; font-size: 12px; color: #666;\">\n            <p style=\"margin: 5px 0;\">Quote Date: ${new Date().toLocaleDateString('en-US', { \n              year: 'numeric', \n              month: 'long', \n              day: 'numeric' \n            })}</p>\n            <p style=\"margin: 5px 0;\">Quote #: ${Math.floor(1000 + Math.random() * 9000)}</p>\n            <p style=\"margin: 5px 0;\">Prepared for: ${customerName || \"Customer\"} <span style=\"color: #d32f2f;\">**Quote Valid for 30 Days**</span></p>\n          </div>\n  \n          <!-- Greeting -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <p style=\"margin: 5px 0; font-size: 14px; font-weight: bold;\">${salutation} ${customerName || \"Customer\"},</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Thank you for choosing ExcelyTech for your backup and security needs. We are pleased to present this detailed quote for our services, tailored to meet your requirements. Below, you will find a comprehensive breakdown of your proposed solution:</p>\n          </div>\n  \n          <!-- Quote Summary -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0 0 10px; font-size: 16px;\">Quote Summary: ${getPackageName(products)}</h2>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">Billing Cycle: ${billingCycle === 'monthly' ? \n              'Monthly subscription - You will be charged this amount every month' : \n              'Annual subscription - You will be charged this amount once per year'}</p>\n          </div>\n  \n          <!-- Products Table -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 15px; font-size: 12px;\">\n              <thead>\n                <tr style=\"background-color: #1e88e5; color: white;\">\n                  <th style=\"padding: 8px; text-align: left; border-bottom: 2px solid #1565c0;\">Product Name</th>\n                  <th style=\"padding: 8px; text-align: left; border-bottom: 2px solid #1565c0;\">Description</th>\n                  <th style=\"padding: 8px; text-align: right; border-bottom: 2px solid #1565c0;\">Qty</th>\n                  <th style={{ padding: \"15px\", fontWeight: \"500\", width: \"10%\", textAlign: \"right\" }}>\n                    Price\n                    <span title=\"For non-DR: Unit Cost + (Unit Cost × Margin %). For DR: Unit Cost + 13% tax.\" style={{ marginLeft: 4, color: '#888', cursor: 'help', fontSize: 16 }}>ⓘ</span>\n                  </th>\n                  <th style=\"padding: 8px; text-align: right; border-bottom: 2px solid #1565c0;\">Total</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${validProducts.map(p => `\n                  <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                    <td style=\"padding: 8px; text-align: left;\">${p.name}</td>\n                    <td style=\"padding: 8px; text-align: left;\">${p.description}</td>\n                    <td style=\"padding: 8px; text-align: right;\">${p.qty}</td>\n                    <td style=\"padding: 8px; text-align: right;\">$${getPricingData(p, p.qty).recommendedPrice.toFixed(2)}</td>\n                    <td style=\"padding: 8px; text-align: right;\">$${(getPricingData(p, p.qty).recommendedPrice * p.qty * billingMultiplier).toFixed(2)}</td>\n                  </tr>\n                `).join('')}\n                <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"2\">Implementation & Support</td>\n                  <td style=\"padding: 8px; text-align: right;\">1</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${proFeeForCalc.toFixed(2)}</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${proFeeForCalc.toFixed(2)}</td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"4\">Tax (13% HST)</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${taxOnCustomer.toFixed(2)}</td>\n                </tr>\n                <tr style=\"border-bottom: 1px solid #e0e0e0;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"4\">Payment Processing${waiveStripe ? \" waived\" : \"\"}</td>\n                  <td style=\"padding: 8px; text-align: right;\">$${stripeFee.toFixed(2)}</td>\n                </tr>\n                <tr style=\"font-weight: bold; background-color: #f5f5f5;\">\n                  <td style=\"padding: 8px; text-align: left;\" colspan=\"3\">TOTAL (${billingCycle === 'monthly' ? 'Monthly' : 'Annual'} Charge)</td>\n                  <td style=\"padding: 8px; text-align: right;\"></td>\n                  <td style=\"padding: 8px; text-align: right;\">$${finalCustomerTotal.toFixed(2)}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n  \n          <!-- Terms & Conditions -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0 0 10px; font-size: 16px;\">Terms & Conditions:</h2>\n            <ol style=\"padding-left: 20px; margin: 0; font-size: 12px; color: #666;\">\n              <li style=\"margin-bottom: 8px;\">Validity: This quote is valid for 30 days from the date of issue. Prices are subject to change thereafter.</li>\n              <li style=\"margin-bottom: 8px;\">Payment Terms: Invoices are due within 15 days of receipt. ${billingCycle === 'monthly' ? \n                'Monthly subscriptions will be automatically charged on the 1st of each month.' : \n                'Annual subscriptions require full payment upfront within 15 days of invoice receipt.'}</li>\n              <li style=\"margin-bottom: 8px;\">Service Commencement: Services will commence upon receipt of signed agreement and initial payment.</li>\n              <li style=\"margin-bottom: 8px;\">Cancellation Policy: Subscriptions may be canceled with 30 days' written notice. No refunds will be issued for partial terms.</li>\n              <li style=\"margin-bottom: 8px;\">Limitation of Liability: ExcelyTech shall not be liable for any indirect, incidental, or consequential damages arising from the use of our services.</li>\n              <li style=\"margin-bottom: 8px;\">Governing Law: This agreement shall be governed by the laws of Ontario, Canada.</li>\n            </ol>\n          </div>\n  \n          <!-- Key Terms and Conditions (MSA) -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0till 0 10px; font-size: 16px;\">Key Terms and Conditions:</h2>\n            <ol style=\"padding-left: 20px; margin: 0; font-size: 12px; color: #666;\">\n              <li style=\"margin-bottom: 8px;\">Quote Definition: This Product Quotation outlines the costs and terms for Products/Services, forming part of the Master Agreement.</li>\n              <li style=\"margin-bottom: 8px;\">Payment: Fees are due monthly on the 1st via direct debit; late fees apply. Hardware/software must be paid before deployment. Fees may increase after 12 months (up to 10% annually with 60 days' notice).</li>\n              <li style=\"margin-bottom: 8px;\">Term: The agreement lasts 36 months, auto-renewing yearly unless terminated with 60 days' notice.</li>\n              <li style=\"margin-bottom: 8px;\">Termination/Cancellation: Early termination incurs remaining fees; Product cancellation incurs a 15% restocking fee (no returns for delivered/custom items).</li>\n              <li style=\"margin-bottom: 8px;\">Confidentiality: Quote details are confidential and must not be disclosed.</li>\n              <li style=\"margin-bottom: 8px;\">Warranties: Product warranties are passed on; out-of-warranty support requires a separate quote.</li>\n              <li style=\"margin-bottom: 8px;\">Additional Costs: Costs (hourly, after-hours, agreement rates) and additional services are defined in the Product Quotation.</li>\n            </ol>\n          </div>\n  \n          <!-- Acceptance -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <h2 style=\"color: #1e88e5; margin: 0 0 10px; font-size: 16px;\">Acceptance:</h2>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Customer Signature:</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Date:</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">ExcelyTech Representative:</p>\n            <p style=\"margin: 5px 0; font-size: 12px;\">Date:</p>\n          </div>\n  \n          <!-- Appreciation and Contact -->\n          <div style=\"margin-bottom: 20px; text-align: left;\">\n            <p style=\"color: #1e88e5; margin: 5px 0; font-size: 12px;\">We appreciate your business!</p>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">Ontario, Canada</p>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">289-291-6377</p>\n            <p style=\"margin: 5px 0; font-size: 12px; color: #666;\">info@excelytech.com</p>\n          </div>\n  \n          <!-- QR Code -->\n          <div style=\"margin-bottom: 20px; text-align: right;\">\n            <img src=\"${qrDataUrl}\" alt=\"Quote QR Code\" style=\"width: 80px; height: 80px;\">\n          </div>\n  \n          <!-- Confidential Notice -->\n          <div style=\"font-size: 10px; color: #666; text-align: center; border-top: 1px solid #e0e0e0; padding-top: 10px;\">\n            <p style=\"margin: 5px 0;\">Confidential - This document contains proprietary information and is intended solely for the recipient.</p>\n          </div>\n\n          <div style=\"text-align:center; margin-top:40px;\">\n            <table width=\"200\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\">\n              <tr>\n                <td align=\"center\">\n                  <img src=\"https://excelytech.com/wp-content/uploads/2025/01/excelytech-logo.png\" width=\"200\" style=\"display:block; max-width:200px; height:auto;\" alt=\"ExcelyTech Logo\">\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      `;\n  \n      const quoteNumber = `QT${new Date().getFullYear()}${String(Math.floor(1000 + Math.random() * 9000)).padStart(4, '0')}`;\n      const emailParams = {\n        to_email: customerEmail,\n        from_name: \"ExcelyTech Sales Team\",\n        subject: generateEmailSubject(customerName, billingCycle === 'annual' ? 'ANNUAL' : 'MONTHLY'),\n        message: emailContent,\n      };\n  \n      await sendEmail(emailParams);\n      showNotification(\"Email sent successfully!\");\n      setIsGeneratingPDF(false);\n    } catch (error) {\n      console.error(\"Email Sending Failed:\", error);\n      setValidationError(error.message);\n      showNotification(`Failed to send email: ${error.message}`);\n      setIsGeneratingPDF(false);\n    }\n  };\n\n  // Check if any product margin is below 20%\n  const hasLowMargin = products.some(p => {\n    const slab = (p.pricingSlabs || [])[0];\n    const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n    if (margin === null || isNaN(margin)) return false;\n    // margin is stored as a decimal (e.g., 0.35 for 35%), so compare margin * 100\n    return !p.isHomeGrown && (margin * 100) < productMarginThreshold;\n  });\n\n  // Add a handler for resetting all fields\n  const handleResetAll = () => {\n    setCustomerName(\"\");\n    setSalutation(\"Mr.\");\n    setCustomerEmail(\"\");\n    setCustomerAddress(\"\");\n    setCustomerCompany(\"\");\n    setCustomerPhone(\"\");\n    setSelectedProduct(PRODUCTS[0].name);\n    setQty(1);\n    setServiceCharge(0);\n    setBillingCycle(\"monthly\");\n    setWaiveStripe(false);\n    setProducts([]); // clears cart\n    setCustomProducts([]); // clears custom products\n    setShowAddProductForm(false);\n    setNewProduct({ name: '', description: '', license: '', unitCost: 0, margin: 35 });\n    setValidationError(\"\");\n    setCardType('domestic');\n    setProductMarginThreshold(20);\n    setPackageMarginThreshold(15);\n    showNotification(\"All fields have been reset\");\n  };\n\n  const handleAddProductClick = () => {\n    setShowAddProductForm(true);\n    setNewProduct({ name: '', description: '', license: '', unitCost: 0, margin: 35 });\n  };\n\n  const handleNewProductChange = (field, value) => {\n    setNewProduct(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleAddProductSubmit = (e) => {\n    e.preventDefault();\n    if (!newProduct.name.trim()) {\n      showNotification('Product name is required');\n      return;\n    }\n    if (allProducts.some(p => p.name === newProduct.name.trim())) {\n      showNotification('Product name must be unique');\n      return;\n    }\n    // Add a default pricingSlabs array for compatibility\n    const isDR = newProduct.name === 'Disaster Recovery' || newProduct.name === 'DR';\n    const productToAdd = {\n      ...newProduct,\n      qty: 1,\n      pricingSlabs: [isDR ? {\n        minQty: 1,\n        maxQty: 9999,\n        unitCost: Number(newProduct.unitCost),\n        recommendedPrice: Number(newProduct.unitCost)\n      } : {\n        minQty: 1,\n        maxQty: 9999,\n        unitCost: Number(newProduct.unitCost),\n        margin: Number(newProduct.margin),\n        recommendedPrice: Number(newProduct.unitCost) * (1 + Number(newProduct.margin) / 100)\n      }],\n    };\n    setCustomProducts(prev => [...prev, productToAdd]);\n    setShowAddProductForm(false);\n    setSelectedProduct(newProduct.name);\n    showNotification('Product added');\n  };\n\n  // Handler to remove a custom product\n  const handleRemoveCustomProduct = (name) => {\n    setCustomProducts(prev => prev.filter(p => p.name !== name));\n    // If the removed product is currently selected, reset selection\n    if (selectedProduct === name) {\n      setSelectedProduct(PRODUCTS[0].name);\n    }\n  };\n\n  const validateEmail = (email) => {\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return re.test(email);\n  };\n\n  const validatePhone = (phone) => {\n    const re = /^\\+?[\\d\\s-]{10,}$/;\n    return re.test(phone);\n  };\n\n  const updateUnitCost = (name, newUnitCost) => {\n    setProducts(prev =>\n      prev.map(p => {\n        if (p.name === name) {\n          const isDR = p.isHomeGrown;\n          const updatedSlabs = p.pricingSlabs.map(slab => ({\n            ...slab,\n            unitCost: newUnitCost,\n            recommendedPrice: isDR ? newUnitCost * 1.13 : newUnitCost * (1 + (slab.margin || 0) / 100)\n          }));\n          return { ...p, unitCost: newUnitCost, pricingSlabs: updatedSlabs };\n        }\n        return p;\n      })\n    );\n  };\n\n  // Example: get background color for cards/tables based on darkMode\n  const getCardBackground = () => darkMode ? styles.cardBackground : styles.cardBackground;\n  const getTableBackground = () => darkMode ? styles.cardBackground : '#fff';\n\n  // Add this conditional rendering at the top of the return statement\n  if (!authenticated) {\n    return <Login onLogin={() => setAuthenticated(true)} />;\n  }\n\n  // Calculate the sum of the 'Price' column (before tax) for all products\n  const productPriceTotal = products\n    .filter(p => {\n      const slab = (p.pricingSlabs || [])[0];\n      const margin = slab && typeof slab.margin === 'number' ? slab.margin : null;\n      return margin !== null && !isNaN(margin) && margin >= 0.2;\n    })\n    .map(p => {\n      const slab = (p.pricingSlabs || []).find(\n        slab => p.qty >= slab.minQty && p.qty <= slab.maxQty\n      ) || (p.pricingSlabs ? p.pricingSlabs[p.pricingSlabs.length - 1] : { unitCost: 0, margin: 0 });\n      const baseUnitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n      const margin = typeof p.margin === 'number' ? p.margin : (slab.margin || 0);\n      const unitPrice = baseUnitCost * 1.13;\n      const price = unitPrice * (1 + margin);\n      return price * p.qty;\n    }).reduce((sum, val) => sum + val, 0);\n\n  return (\n    <ErrorBoundary>\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'flex-start',\n          maxWidth: '1200px',\n          margin: '30px auto',\n          fontFamily: \"'Roboto', sans-serif\",\n          padding: '0 20px',\n          backgroundColor: styles.backgroundColor,\n          color: styles.textColor,\n          minHeight: '100vh',\n          transition: 'background 0.3s, color 0.3s',\n          marginTop: '40px',\n        }}\n      >\n        {/* Responsive styles for summary sidebar */}\n        <style>{`\n          @media (max-width: 900px) {\n            .summary-sidebar {\n              flex-direction: row !important;\n              position: static !important;\n              min-width: 0 !important;\n              max-width: 100vw !important;\n              width: 100vw !important;\n              margin: 0 0 18px 0 !important;\n              gap: 12px !important;\n              justify-content: center;\n            }\n            .summary-card {\n              min-width: 0 !important;\n              flex: 1 1 0;\n              max-width: 100%;\n              margin: 0 !important;\n              padding: 16px 8px !important;\n              font-size: 15px !important;\n            }\n          }\n        `}</style>\n        {/* Left: Summary Cards (always visible) */}\n        <div className=\"summary-sidebar\" style={{\n          position: 'sticky',\n          top: 40,\n          alignSelf: 'flex-start',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '24px',\n          minWidth: '220px',\n          maxWidth: '240px',\n          zIndex: 10,\n          marginRight: '36px',\n        }}>\n          <div className=\"summary-card\" style={{\n            background: styles.cardBackground,\n            borderRadius: '10px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.10)',\n            padding: '22px 18px',\n            border: `1.5px solid ${styles.borderColor}`,\n            textAlign: 'left',\n          }}>\n            <h3 style={{ margin: '0 0 8px', color: styles.textColor, fontSize: '17px', fontWeight: 700 }}>Final Total</h3>\n            <p style={{ margin: 0, fontSize: '22px', fontWeight: 'bold', color: styles.primaryColor }}>\n              {(() => {\n                // Calculate TOTAL WITH MARGIN as in the Financial Summary\n                let unitPriceTotal = 0, marginAmountTotal = 0;\n                products.forEach(p => {\n                  const slab = (p.pricingSlabs || [])[0];\n                  const qty = p.qty || 1;\n                  const unitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n                  const margin = typeof p.margin === 'number' ? p.margin : (slab.margin || 0);\n                  const tax1 = unitCost * 0.13;\n                  const unitPrice = unitCost + tax1;\n                  const marginAmount = unitPrice * margin * qty;\n                  unitPriceTotal += unitPrice * qty;\n                  marginAmountTotal += marginAmount;\n                });\n                unitPriceTotal *= billingCycle === 'annual' ? 12 : 1;\n                marginAmountTotal *= billingCycle === 'annual' ? 12 : 1;\n                const totalWithMargin = unitPriceTotal + marginAmountTotal;\n                return `${products.length > 0 ? totalWithMargin.toFixed(2) : '0.00'} CAD`;\n              })()}\n            </p>\n            <p style={{ margin: '4px 0 0', fontSize: '12px', color: '#888' }}>\n              Before tax and processing fees\n            </p>\n            <p style={{ margin: '5px 0 0', fontSize: '13px', color: '#666' }}>\n              {billingCycle === 'annual' ? 'per year' : 'per month'}\n            </p>\n          </div>\n          <div className=\"summary-card\" style={{\n            background: styles.cardBackground,\n            borderRadius: '10px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.10)',\n            padding: '22px 18px',\n            border: `1.5px solid ${styles.borderColor}`,\n            textAlign: 'left',\n          }}>\n            <h3 style={{ margin: '0 0 8px', color: styles.textColor, fontSize: '17px', fontWeight: 700 }}>Estimated Profit</h3>\n            <p style={{ margin: 0, fontSize: '22px', fontWeight: 'bold', color: styles.secondaryColor }}>\n              <span style={{ color: darkMode ? '#7fd7c4' : '#43a047' }}>\n                {(() => {\n                  // Calculate marginAmountTotal as in the Financial Summary\n                  let marginAmountTotal = 0;\n                  products.forEach(p => {\n                    const slab = (p.pricingSlabs || [])[0];\n                    const qty = p.qty || 1;\n                    const unitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n                    const margin = typeof p.margin === 'number' ? p.margin : (slab.margin || 0);\n                    const tax1 = unitCost * 0.13;\n                    const unitPrice = unitCost + tax1;\n                    const marginAmount = unitPrice * margin * qty;\n                    marginAmountTotal += marginAmount;\n                  });\n                  marginAmountTotal *= billingCycle === 'annual' ? 12 : 1;\n                  return `$${products.length > 0 ? marginAmountTotal.toFixed(2) : '0.00'} CAD`;\n                })()}\n              </span>\n            </p>\n            <p style={{ margin: '5px 0 0', fontSize: '13px', color: '#666' }}>\n              Actual Margin Amount ({billingCycle === 'annual' ? 'per year' : 'per month'})\n            </p>\n          </div>\n          <div className=\"summary-card\" style={{\n            background: styles.cardBackground,\n            borderRadius: '10px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.10)',\n            padding: '22px 18px',\n            border: `1.5px solid ${styles.borderColor}`,\n            textAlign: 'left',\n          }}>\n            <h3 style={{ margin: '0 0 8px', color: styles.textColor, fontSize: '17px', fontWeight: 700 }}>Package</h3>\n            <p style={{ margin: 0, fontSize: '22px', fontWeight: 'bold', color: styles.textColor }}>\n              {products.length > 0 ? getPackageName(products) : 'N/A'}\n            </p>\n          </div>\n        </div>\n        {/* Right: Main Content */}\n        <div style={{ flex: 1, minWidth: 0, paddingRight: 80 }}>\n          {/* Top-right notification and vertical button group */}\n        <div\n          style={{\n            position: 'fixed',\n              top: 16,\n              right: 16,\n              zIndex: 200,\n            display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'flex-end',\n              gap: '16px',\n            }}\n          >\n            {/* Notification */}\n            <Notification key={notificationKey} message={notification} onClose={() => setNotification(\"\")} />\n            {/* Vertical button group */}\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '12px', alignItems: 'flex-end' }}>\n              {/* Notification Bell */}\n              <button\n                onClick={() => showNotification(\"Notifications are enabled\")}\n                className=\"action-button notification-bell\"\n                style={{\n                  background: '#e3f2fd',\n                  color: '#1976d2',\n                  border: 'none',\n                  borderRadius: '50%',\n                  width: '44px',\n                  height: '44px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '20px',\n                  boxShadow: '0 2px 8px rgba(25,118,210,0.15)',\n                  cursor: 'pointer',\n                }}\n                title=\"Notifications\"\n              >\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22ZM18 16V11C18 7.93 16.36 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.63 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z\" fill=\"#1976d2\"/>\n                </svg>\n              </button>\n              {/* Logout Button */}\n          <button\n            onClick={() => {\n              setAuthenticated(false);\n              localStorage.removeItem('authenticated');\n            }}\n                className=\"action-button logout-button\"\n            style={{\n                  background: '#ffebee',\n                  color: '#d32f2f',\n              border: 'none',\n              borderRadius: '50%',\n              width: '44px',\n              height: '44px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n                  fontSize: '20px',\n                  boxShadow: '0 2px 8px rgba(211,47,47,0.15)',\n                  cursor: 'pointer',\n            }}\n            title=\"Logout\"\n          >\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.58L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z\" fill=\"#d32f2f\"/>\n                </svg>\n          </button>\n              {/* Dark Mode Toggle */}\n          <button\n                onClick={() => setDarkMode((prev) => !prev)}\n                className=\"action-button dark-mode-toggle\"\n            style={{\n                  background: darkMode ? '#424242' : '#e3f2fd',\n                  color: darkMode ? '#fff' : '#1976d2',\n              border: 'none',\n              borderRadius: '50%',\n              width: '44px',\n              height: '44px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '20px',\n                  boxShadow: darkMode ? '0 2px 8px rgba(0,0,0,0.2)' : '0 2px 8px rgba(25,118,210,0.15)',\n              cursor: 'pointer',\n                }}\n                title={darkMode ? 'Switch to light mode' : 'Switch to dark mode'}\n              >\n                {darkMode ? (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7ZM2 13H4C4.55 13 5 12.55 5 12C5 11.45 4.55 11 4 11H2C1.45 11 1 11.45 1 12C1 12.55 1.45 13 2 13ZM20 13H22C22.55 13 23 12.55 23 12C23 11.45 22.55 11 22 11H20C19.45 11 19 11.45 19 12C19 12.55 19.45 13 20 13ZM11 2V4C11 4.55 11.45 5 12 5C12.55 5 13 4.55 13 4V2C13 1.45 12.55 1 12 1C11.45 1 11 1.45 11 2ZM11 20V22C11 22.55 11.45 23 12 23C12.55 23 13 22.55 13 22V20C13 19.45 12.55 19 12 19C11.45 19 11 19.45 11 20ZM5.99 4.58C5.6 4.19 4.96 4.19 4.58 4.58C4.19 4.97 4.19 5.61 4.58 5.99L5.64 7.05C6.03 7.44 6.67 7.44 7.05 7.05C7.44 6.66 7.44 6.02 7.05 5.64L5.99 4.58ZM18.36 16.95C17.97 16.56 17.33 16.56 16.95 16.95C16.56 17.34 16.56 17.98 16.95 18.36L18.01 19.42C18.4 19.81 19.04 19.81 19.42 19.42C19.81 19.03 19.81 18.39 19.42 18.01L18.36 16.95ZM19.42 5.99C19.81 5.6 19.81 4.96 19.42 4.58C19.03 4.19 18.39 4.19 18.01 4.58L16.95 5.64C16.56 6.03 16.56 6.67 16.95 7.05C17.34 7.44 17.98 7.44 18.36 7.05L19.42 5.99ZM7.05 18.36C7.44 17.97 7.44 17.33 7.05 16.95C6.66 16.56 6.02 16.56 5.64 16.95L4.58 18.01C4.19 18.4 4.19 19.04 4.58 19.42C4.97 19.81 5.61 19.81 5.99 19.42L7.05 18.36Z\" fill={darkMode ? \"#fff\" : \"#1976d2\"}/>\n                  </svg>\n                ) : (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M12 3C7.03 3 3 7.03 3 12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12C21 7.03 16.97 3 12 3ZM12 19C8.14 19 5 15.86 5 12C5 8.14 8.14 5 12 5C15.86 5 19 8.14 19 12C19 15.86 15.86 19 12 19Z\" fill=\"#1976d2\"/>\n                    <path d=\"M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z\" fill=\"#1976d2\"/>\n                  </svg>\n                )}\n              </button>\n              {/* PDF Generation */}\n              <button\n                onClick={generatePDF}\n                disabled={isGeneratingPDF}\n                className=\"action-button pdf-button\"\n                style={{\n                  background: '#fff5f5',\n                  color: '#d32f2f',\n                  border: 'none',\n                  borderRadius: '50%',\n                  width: '44px',\n                  height: '44px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n                  fontSize: '20px',\n                  boxShadow: '0 2px 8px rgba(211,47,47,0.15)',\n                  cursor: isGeneratingPDF ? 'not-allowed' : 'pointer',\n                  opacity: isGeneratingPDF ? 0.6 : 1\n                }}\n                title=\"Generate PDF\"\n                aria-label=\"Generate PDF\"\n              >\n                {isGeneratingPDF ? (\n                  <span style={{ display: \"inline-block\", animation: \"spin 1s linear infinite\" }}>⟳</span>\n                ) : (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z\" fill=\"#d32f2f\"/>\n                  </svg>\n                )}\n          </button>\n              {/* Email Generation */}\n          <button\n                onClick={handleSendEmail}\n                disabled={isGeneratingPDF || !customerEmail}\n                className=\"action-button email-button\"\n            style={{\n                  background: '#e3f2fd',\n                  color: '#1976d2',\n              border: 'none',\n              borderRadius: '50%',\n              width: '44px',\n              height: '44px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n                  fontSize: '20px',\n                  boxShadow: '0 2px 8px rgba(25,118,210,0.15)',\n                  cursor: isGeneratingPDF || !customerEmail ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.2s',\n                  opacity: isGeneratingPDF || !customerEmail ? 0.6 : 1\n                }}\n                title=\"Send Email\"\n                aria-label=\"Send Email\"\n              >\n                {isGeneratingPDF ? (\n                  <span style={{ display: \"inline-block\", animation: \"spin 1s linear infinite\" }}>⟳</span>\n                ) : (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM19.6 8.25L12.53 12.67C12.21 12.87 11.79 12.87 11.47 12.67L4.4 8.25C4.15 8.09 4 7.82 4 7.53C4 6.86 4.73 6.46 5.3 6.81L12 11L18.7 6.81C19.27 6.46 20 6.86 20 7.53C20 7.82 19.85 8.09 19.6 8.25Z\" fill=\"#1976d2\"/>\n                  </svg>\n                )}\n          </button>\n            </div>\n        </div>\n        {/* Global dark mode field styles */}\n        {darkMode && (\n          <style>{`\n            input, select, textarea {\n              background: #232a36 !important;\n              color: #f5f6fa !important;\n              border: 1.5px solid #3a4256 !important;\n            }\n            input::placeholder, textarea::placeholder {\n                color: #b0b8c9 !important;\n              opacity: 1 !important;\n            }\n            select:disabled, input:disabled, textarea:disabled {\n              background: #232a36 !important;\n              color: #888 !important;\n            }\n            .card, .panel, .table, .summary {\n              background: #232a36 !important;\n              color: #f5f6fa !important;\n              border: 1.5px solid #2a3140 !important;\n            }\n            th, td {\n              color: #f5f6fa !important;\n                background: #232a36 !important;\n              }\n              tr {\n                background: #232a36 !important;\n            }\n            button {\n              font-family: 'Inter', 'Roboto', 'Segoe UI', Arial, sans-serif !important;\n            }\n              /* Soft button tweaks for dark mode */\n              .soft-btn-dark {\n                background: #2d2d3a !important;\n                color: #ff6d6d !important;\n                box-shadow: 0 2px 8px rgba(211,47,47,0.13) !important;\n              }\n              /* Customer Info Card improvements */\n              .customer-info-card {\n                background: #232a36 !important;\n                border-radius: 18px !important;\n                border: 1.5px solid #2a3140 !important;\n                box-shadow: 0 4px 24px rgba(30,136,229,0.10) !important;\n                padding: 36px 32px 32px 32px !important;\n                margin-bottom: 32px !important;\n              }\n              .customer-info-grid {\n                gap: 36px 32px !important;\n                margin-bottom: 18px !important;\n              }\n              .customer-info-field {\n                background: #262b36 !important;\n                border-radius: 16px !important;\n                box-shadow: 0 2px 8px rgba(30,136,229,0.04) !important;\n                padding: 22px 18px 16px 18px !important;\n                min-width: 0;\n              }\n              .customer-info-label {\n                font-weight: 800 !important;\n                color: #64b5f6 !important;\n                font-size: 1.13rem !important;\n                margin-bottom: 10px !important;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n              }\n              .customer-info-tooltip {\n                color: #b0b8c9 !important;\n                font-size: 15px !important;\n                cursor: pointer;\n                margin-left: 4px;\n              }\n              .customer-info-input {\n                background: #232a36 !important;\n                color: #f5f6fa !important;\n                border: 1.5px solid #3a4256 !important;\n                font-size: 1.13rem !important;\n                border-radius: 8px !important;\n                padding: 14px 12px !important;\n                margin-top: 4px !important;\n              }\n              .customer-info-input:focus {\n                border: 1.5px solid #64b5f6 !important;\n                outline: none !important;\n              }\n              .customer-info-reset {\n                background: #e3f2fd !important;\n                color: #1976d2 !important;\n                border: 1.5px solid #90caf9 !important;\n                border-radius: 10px !important;\n                font-weight: 700 !important;\n                font-size: 15px !important;\n                padding: 8px 22px !important;\n                box-shadow: 0 2px 8px rgba(30,136,229,0.07) !important;\n                transition: background 0.2s !important;\n              }\n              .customer-info-reset:hover {\n                background: #bbdefb !important;\n              }\n              /* Top bar/time zone improvements */\n              .topbar-timezone {\n                background: #232a36 !important;\n                border-radius: 16px !important;\n                box-shadow: 0 2px 16px rgba(30,136,229,0.10) !important;\n                padding: 18px 36px 18px 36px !important;\n                display: flex;\n                align-items: center;\n                gap: 32px;\n                margin-bottom: 18px !important;\n              }\n              .timezone-label {\n                color: #64b5f6 !important;\n                font-weight: 700 !important;\n                font-size: 1.08rem !important;\n                letter-spacing: 1px;\n              }\n              .timezone-time {\n                color: #e3f2fd !important;\n                font-size: 1.13rem !important;\n                font-family: monospace !important;\n                margin-top: 2px;\n                text-shadow: 0 0 4px #1976d2;\n            }\n          `}</style>\n        )}\n        <div style={{\n          position: 'relative',\n        }}>\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '30px',\n            padding: '15px',\n            backgroundColor: styles.cardBackground,\n            borderRadius: '8px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n              <img \n                src=\"https://excelytech.com/wp-content/uploads/2025/01/excelytech-logo.png\"\n                alt=\"ExcelyTech Logo\" \n                style={{ height: '44px', width: 'auto', borderRadius: '4px', background: 'transparent' }}\n              />\n            </div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '18px' }}>\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', minWidth: '80px' }}>\n                <span style={{ fontWeight: 600, fontSize: '13px', color: styles.primaryColor, letterSpacing: '1px' }}>{usCanLabel}</span>\n                  <span style={{ fontSize: '15px', fontFamily: 'monospace', marginTop: '2px', color: styles.textColor }}>{usCanTime}</span>\n              </div>\n              <div style={{ width: '1px', height: '28px', background: '#e0e0e0', borderRadius: '1px' }} />\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', minWidth: '80px' }}>\n                <span style={{ fontWeight: 600, fontSize: '13px', color: styles.primaryColor, letterSpacing: '1px' }}>IND</span>\n                  <span style={{ fontSize: '15px', fontFamily: 'monospace', marginTop: '2px', color: styles.textColor }}>{indTimeString}</span>\n              </div>\n            </div>\n          </div>\n\n            \n\n          <div style={{\n            backgroundColor: styles.cardBackground,\n            padding: '20px',\n            borderRadius: '8px',\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n            marginBottom: '30px',\n            position: 'relative',\n          }}>\n            <h2 style={{ margin: \"0 0 20px\", fontSize: \"20px\", color: styles.primaryColor }}>\n              Customer Information\n            </h2>\n            <button\n                onClick={handleResetAll}\n              style={{\n                position: 'absolute',\n                top: 18,\n                right: 18,\n                padding: '6px 16px',\n                background: '#e3f2fd',\n                color: '#1976d2',\n                border: '1.5px solid #90caf9',\n                borderRadius: '6px',\n                fontWeight: 600,\n                cursor: 'pointer',\n                fontSize: '14px',\n                zIndex: 2\n              }}\n            >\n              Reset\n            </button>\n            <div className=\"customer-info-grid\">\n              <div className=\"customer-info-field\">\n                <label className=\"customer-info-label\">\n                  Salutation\n                  <span className=\"customer-info-tooltip\" title=\"Select the appropriate salutation for the customer\">\n                    ⓘ\n                  </span>\n                </label>\n                <select\n                  value={salutation}\n                  onChange={(e) => setSalutation(e.target.value)}\n                  className=\"customer-info-input\"\n                >\n                  <option>Mr.</option>\n                  <option>Ms.</option>\n                  <option>Mrs.</option>\n                  <option>Miss</option>\n                  <option>Dr.</option>\n                  <option>Dear</option>\n                </select>\n              </div>\n              <div className=\"customer-info-field\">\n                <label className=\"customer-info-label\">\n                  Customer Name\n                  <span className=\"customer-info-tooltip\" title=\"Enter the full name of the customer\">\n                    ⓘ\n                  </span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={customerName}\n                  onChange={handleCustomerNameChange}\n                  className=\"customer-info-input\"\n                  placeholder=\"Enter customer name\"\n                />\n                {validationError && <span style={{ color: 'red', fontSize: '12px', marginTop: '4px' }}>{validationError}</span>}\n              </div>\n              <div className=\"customer-info-field\">\n                <label className=\"customer-info-label\">\n                  Company\n                  <span className=\"customer-info-tooltip\" title=\"Enter the customer's company name\">\n                    ⓘ\n                  </span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={customerCompany}\n                  onChange={(e) => setCustomerCompany(e.target.value)}\n                  className=\"customer-info-input\"\n                  placeholder=\"Enter company name\"\n                />\n              </div>\n              <div className=\"customer-info-field\">\n                <label className=\"customer-info-label\">\n                  Email\n                  <span className=\"customer-info-tooltip\" title=\"Enter the customer's email address\">\n                    ⓘ\n                  </span>\n                </label>\n                <input\n                  type=\"email\"\n                  value={customerEmail}\n                  onChange={(e) => handleEmailChange(e)}\n                  className=\"customer-info-input\"\n                  placeholder=\"Enter customer email\"\n                />\n              </div>\n              <div className=\"customer-info-field\">\n                <label className=\"customer-info-label\">\n                  Phone\n                  <span className=\"customer-info-tooltip\" title=\"Enter the customer's phone number\">\n                    ⓘ\n                  </span>\n                </label>\n                <input\n                  type=\"tel\"\n                  value={customerPhone}\n                  onChange={(e) => handlePhoneChange(e)}\n                  className=\"customer-info-input\"\n                  placeholder=\"Enter customer phone\"\n                />\n              </div>\n              <div className=\"customer-info-field\">\n                <label className=\"customer-info-label\">\n                  Address\n                  <span className=\"customer-info-tooltip\" title=\"Enter the customer's address\">\n                    ⓘ\n                  </span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={customerAddress}\n                  onChange={(e) => setCustomerAddress(e.target.value)}\n                  className=\"customer-info-input\"\n                  placeholder=\"Enter customer address\"\n                />\n              </div>\n            </div>\n          </div>\n          <div style={{ \n            backgroundColor: styles.cardBackground,\n            padding: \"20px\",\n            borderRadius: \"8px\",\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n            marginBottom: \"30px\",\n          }}>\n            <h2 style={{ margin: \"0 0 20px\", fontSize: \"20px\", color: styles.primaryColor }}>\n              Add Product\n            </h2>\n            <div style={{\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              gap: \"16px\",\n              alignItems: \"flex-end\",\n              width: '100%',\n            }}>\n              <div style={{ display: 'flex', alignItems: 'flex-end', flex: '2 1 400px', minWidth: 0, gap: 10 }}>\n                <label style={{ \n                  display: \"block\", \n                  marginBottom: \"8px\", \n                  fontWeight: \"500\",\n                  color: styles.textColor \n                }}>\n                  Product\n                  <span style={{ marginLeft: \"5px\", color: \"#666\", fontSize: \"14px\", cursor: \"pointer\" }} title=\"Select a product to add to the quote\">\n                    ⓘ\n                  </span>\n                </label>\n                <div style={{ display: 'flex', alignItems: 'center', flex: 1, gap: 6 }}>\n                  <select\n                    value={selectedProduct}\n                    onChange={(e) => setSelectedProduct(e.target.value)}\n                    style={{\n                      padding: \"10px\",\n                      minWidth: \"220px\",\n                      borderRadius: \"6px\",\n                      border: `1px solid ${styles.inputBorder}`,\n                      backgroundColor: \"#fff\",\n                      color: styles.textColor,\n                      fontSize: \"16px\",\n                      flex: '1 1 220px',\n                      marginRight: 8\n                    }}\n                  >\n                    {allProducts.map((p) => (\n                      <option key={p.name} value={p.name}>\n                        {p.name}\n                      </option>\n                    ))}\n                  </select>\n                  <button\n                    type=\"button\"\n                    onClick={handleAddProductClick}\n                      style={{\n                        background: '#e3f2fd',\n                        color: '#1976d2',\n                        border: 'none',\n                        borderRadius: '50%',\n                        width: '40px',\n                        height: '40px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        fontSize: '26px',\n                        boxShadow: '0 2px 8px rgba(30,136,229,0.07)',\n                        cursor: 'pointer',\n                        transition: 'background 0.2s',\n                      }}\n                      title=\"Add New Product\"\n                      aria-label=\"Add New Product\"\n                    >\n                      <span style={{fontWeight: 700, fontSize: '28px', lineHeight: 1}}>+</span>\n                  </button>\n                  {/* Show remove buttons for custom products */}\n                  {customProducts.length > 0 && (\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n                      {customProducts.map(p => (\n                        <button\n                          key={p.name}\n                          type=\"button\"\n                          title={`Remove ${p.name}`}\n                          onClick={() => handleRemoveCustomProduct(p.name)}\n                          style={{ background: 'none', border: 'none', color: '#d32f2f', fontSize: 18, cursor: 'pointer', padding: '0 4px' }}\n                        >\n                          🗑️\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div style={{ display: 'flex', alignItems: 'flex-end', gap: 10, flex: '0 0 auto' }}>\n                <label style={{ display: \"block\", marginBottom: \"8px\", fontWeight: \"500\", color: styles.textColor, whiteSpace: 'nowrap' }}>\n                  Quantity\n                  <span style={{ marginLeft: \"5px\", color: \"#666\", fontSize: \"14px\", cursor: \"pointer\" }} title=\"Enter the number of units for this product\">\n                    ⓘ\n                  </span>\n                </label>\n                <input\n                  type=\"number\"\n                  min={1}\n                  value={qty}\n                  onChange={(e) => setQty(Number(e.target.value))}\n                  onWheel={handleQtyWheel}\n                  style={{\n                    padding: \"10px\",\n                    width: \"80px\",\n                    borderRadius: \"6px\",\n                    border: `1px solid ${styles.inputBorder}`,\n                    backgroundColor: \"#fff\",\n                    color: styles.textColor,\n                    fontSize: \"16px\",\n                    boxSizing: \"border-box\"\n                  }}\n                />\n                <button\n                  onClick={addProduct}\n                  style={{\n                    padding: \"10px 18px\",\n                    backgroundColor: styles.buttonBackground,\n                    color: styles.buttonText,\n                    border: \"none\",\n                    borderRadius: \"6px\",\n                    cursor: \"pointer\",\n                    fontSize: \"16px\",\n                    fontWeight: 600,\n                    marginLeft: 4\n                  }}\n                  onMouseOver={(e) => e.currentTarget.style.backgroundColor = \"#1565c0\"}\n                  onMouseOut={(e) => e.currentTarget.style.backgroundColor = styles.buttonBackground}\n                >\n                  + Add\n                </button>\n              </div>\n            </div>\n            {showAddProductForm && (\n              <form onSubmit={handleAddProductSubmit} style={{\n                background: 'rgba(255,255,255,0.98)',\n                borderRadius: 20,\n                boxShadow: '0 8px 32px rgba(30,136,229,0.10)',\n                padding: 36,\n                maxWidth: 640,\n                margin: '0 auto',\n                marginTop: 32,\n                marginBottom: 32,\n                border: '1.5px solid #e3e8ee',\n                transition: 'box-shadow 0.2s'\n              }}>\n                <div style={{ display: 'flex', alignItems: 'center', marginBottom: 28 }}>\n                  <span style={{ fontSize: 32, color: '#1976d2', marginRight: 14 }}>🛒</span>\n                  <h2 style={{ margin: 0, fontWeight: 800, fontSize: 26, color: '#1976d2', letterSpacing: 1 }}>Add New Product</h2>\n                </div>\n                <div style={{\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: 24,\n                  marginBottom: 28\n                }}>\n                  <div>\n                    <label style={{ fontWeight: 700, marginBottom: 8, display: 'block', color: '#333' }}>Product Name</label>\n                    <input type=\"text\" placeholder=\"Name\" value={newProduct.name} onChange={e => handleNewProductChange('name', e.target.value)}\n                      style={{ width: '100%', padding: 14, borderRadius: 10, border: '1.5px solid #bdbdbd', marginBottom: 4, fontSize: 16, transition: 'border 0.2s' }} />\n                    <small style={{ color: '#888' }}>Enter a unique product name.</small>\n                  </div>\n                  <div>\n                    <label style={{ fontWeight: 700, marginBottom: 8, display: 'block', color: '#333' }}>Description</label>\n                    <input type=\"text\" placeholder=\"Description\" value={newProduct.description} onChange={e => handleNewProductChange('description', e.target.value)}\n                      style={{ width: '100%', padding: 14, borderRadius: 10, border: '1.5px solid #bdbdbd', marginBottom: 4, fontSize: 16, transition: 'border 0.2s' }} />\n                    <small style={{ color: '#888' }}>Briefly describe the product.</small>\n                  </div>\n                  <div>\n                    <label style={{ fontWeight: 700, marginBottom: 8, display: 'block', color: '#333' }}>License</label>\n                    <input type=\"text\" placeholder=\"License\" value={newProduct.license} onChange={e => handleNewProductChange('license', e.target.value)}\n                      style={{ width: '100%', padding: 14, borderRadius: 10, border: '1.5px solid #bdbdbd', marginBottom: 4, fontSize: 16, transition: 'border 0.2s' }} />\n                    <small style={{ color: '#888' }}>E.g., Annual, Perpetual, etc.</small>\n                  </div>\n                  <div>\n                    <label style={{ fontWeight: 700, marginBottom: 8, display: 'block', color: '#333' }}>Unit Cost</label>\n                    <input type=\"number\" placeholder=\"Unit Cost\" value={newProduct.unitCost} min={0} onChange={e => handleNewProductChange('unitCost', e.target.value)}\n                      style={{ width: '100%', padding: 14, borderRadius: 10, border: '1.5px solid #bdbdbd', marginBottom: 4, fontSize: 16, transition: 'border 0.2s' }} />\n                    <small style={{ color: '#888' }}>Enter the cost per unit.</small>\n                  </div>\n                  {newProduct.name !== 'Disaster Recovery' && newProduct.name !== 'DR' && (\n                    <div>\n                      <label style={{ fontWeight: 700, marginBottom: 8, display: 'block', color: '#333' }}>Margin (%)</label>\n                      <input type=\"number\" placeholder=\"Margin (%)\" value={newProduct.margin} min={0} max={100} onChange={e => handleNewProductChange('margin', e.target.value)}\n                        style={{ width: '100%', padding: 14, borderRadius: 10, border: '1.5px solid #bdbdbd', marginBottom: 4, fontSize: 16, transition: 'border 0.2s' }} />\n                      <small style={{ color: '#888' }}>Recommended: 35% or higher.</small>\n                    </div>\n                  )}\n                </div>\n                <div style={{ display: 'flex', gap: 18, justifyContent: 'flex-end', marginTop: 12 }}>\n                  <button type=\"submit\" style={{\n                    background: 'linear-gradient(90deg, #1976d2 60%, #64b5f6 100%)',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 10,\n                    padding: '12px 36px',\n                    fontWeight: 800,\n                    fontSize: 18,\n                    cursor: 'pointer',\n                    boxShadow: '0 2px 8px rgba(25,118,210,0.10)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 8,\n                    transition: 'background 0.2s'\n                  }}>\n                    <span style={{ fontSize: 20 }}>➕</span> Add\n                  </button>\n                  <button type=\"button\" onClick={() => setShowAddProductForm(false)} style={{\n                    background: '#fff',\n                    color: '#1976d2',\n                    border: '1.5px solid #90caf9',\n                    borderRadius: 10,\n                    padding: '12px 36px',\n                    fontWeight: 800,\n                    fontSize: 18,\n                    cursor: 'pointer'\n                  }}>\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            )}\n          </div>\n\n          {products.length > 0 && (\n              <ProductTable\n                products={products}\n                billingCycle={billingCycle}\n                styles={styles}\n                updateQty={updateQty}\n                updateUnitCost={updateUnitCost}\n                updateMargin={updateMargin}\n                removeProduct={removeProduct}\n              />\n          )}\n\n          <div style={{ \n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gap: \"30px\",\n            marginBottom: 0,\n            alignItems: \"stretch\"\n          }}>\n            <div style={{ \n              backgroundColor: styles.cardBackground,\n              padding: \"32px\",\n              borderRadius: \"8px\",\n              boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"22px\",\n              minHeight: '480px'\n            }}>\n              <h2 style={{ margin: \"0 0 10px\", fontSize: \"20px\", color: styles.primaryColor }}>\n                Price Configuration\n              </h2>\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}>\n                <label style={{ \n                  fontWeight: \"500\",\n                  color: styles.textColor,\n                  marginBottom: \"4px\"\n                }}>\n                  Professional Services & Support\n                  <span style={{ marginLeft: \"5px\", color: \"#666\", fontSize: \"14px\", cursor: \"pointer\" }} title=\"Enter the one-time fee for implementation and support\">\n                    ⓘ\n                  </span>\n                </label>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', maxWidth: '100%', flexWrap: 'wrap' }}>\n                  <input\n                    type=\"number\"\n                    min={0}\n                    value={serviceCharge}\n                    onChange={(e) => setServiceCharge(Number(e.target.value))}\n                    style={{ \n                      padding: \"12px 14px\", \n                      width: \"120px\",\n                      borderRadius: \"8px\",\n                      border: `1.5px solid ${styles.inputBorder}`,\n                      backgroundColor: darkMode ? \"#232a36\" : \"#f8fafc\",\n                      color: styles.textColor,\n                      fontSize: \"16px\",\n                      boxSizing: \"border-box\",\n                      marginBottom: \"2px\",\n                      boxShadow: \"0 1px 3px rgba(0,0,0,0.04)\"\n                    }}\n                  />\n                  <span style={{ color: '#555', fontWeight: 500, fontSize: '15px' }}>CAD</span>\n                  <span style={{\n                    background: '#e3f2fd',\n                    color: '#1976d2',\n                    borderRadius: '6px',\n                    padding: '10px 14px',\n                    fontSize: '13px',\n                    fontWeight: 500,\n                    marginLeft: '10px',\n                    border: '1px solid #bbdefb',\n                    maxWidth: '320px',\n                    wordBreak: 'break-word',\n                    whiteSpace: 'normal',\n                    flex: '1 1 220px',\n                    minWidth: '120px',\n                    boxSizing: 'border-box',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                    marginTop: '6px'\n                  }}>\n                    Enter the total amount for implementation and support for the entire year.\n                  </span>\n                </div>\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"10px\" }}>\n                <label style={{ \n                  fontWeight: \"500\",\n                  color: styles.textColor,\n                  marginBottom: \"4px\"\n                }}>\n                  Billing Cycle\n                  <span style={{ marginLeft: \"5px\", color: \"#666\", fontSize: \"14px\", cursor: \"pointer\" }} title=\"Choose between monthly or annual billing\">\n                    ⓘ\n                  </span>\n                </label>\n                <select\n                  value={billingCycle}\n                  onChange={(e) => setBillingCycle(e.target.value)}\n                  style={{ \n                    padding: \"12px 14px\", \n                    width: \"100%\",\n                    borderRadius: \"8px\",\n                    border: `1.5px solid ${styles.inputBorder}`,\n                    backgroundColor: darkMode ? \"#232a36\" : \"#f8fafc\",\n                    color: styles.textColor,\n                    fontSize: \"16px\",\n                    boxSizing: \"border-box\",\n                    marginBottom: \"2px\",\n                    boxShadow: \"0 1px 3px rgba(0,0,0,0.04)\"\n                  }}\n                >\n                  <option value=\"monthly\">Monthly</option>\n                  <option value=\"annual\">Annual</option>\n                </select>\n              </div>\n              <h3 style={{ margin: \"18px 0 0 0\", fontSize: \"18px\", color: styles.primaryColor }}>\n                Business Growth Suggestions\n              </h3>\n                <ul style={{ paddingLeft: \"20px\", margin: 0, color: styles.textColor, listStyleType: \"none\" }}>\n                {recommendations.map((rec, index) => (\n                  <li key={index} style={{ \n                    marginBottom: \"12px\", \n                    fontSize: \"15px\", \n                    position: \"relative\",\n                      paddingLeft: \"25px\",\n                      color: styles.textColor\n                  }}>\n                    <span style={{\n                      position: \"absolute\",\n                      left: 0,\n                      top: \"3px\",\n                        color: styles.textColor,\n                      fontSize: \"18px\"\n                    }}>\n                      •\n                    </span>\n                    {rec}\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div style={{ \n              backgroundColor: hasLowMargin ? '#d32f2f' : styles.cardBackground,\n              color: hasLowMargin ? '#fff' : styles.textColor,\n              border: hasLowMargin ? '2px solid #b71c1c' : `1.5px solid ${styles.borderColor}`,\n              padding: \"20px\",\n              borderRadius: \"8px\",\n              boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n              minHeight: '480px',\n              transition: 'background 0.3s, color 0.3s, border 0.3s',\n            }}>\n              <h2 style={{ margin: \"0 0 20px\", fontSize: \"20px\", color: styles.primaryColor }}>\n                Financial Summary\n              </h2>\n              {/* --- Begin new breakdown table --- */}\n              {(() => {\n                // Helper calculations for all products\n                let unitCostTotal = 0, tax1Total = 0, unitPriceTotal = 0, marginAmountTotal = 0;\n                let marginPercentDisplay = [];\n                products.forEach(p => {\n                  const slab = (p.pricingSlabs || [])[0];\n                  const qty = p.qty || 1;\n                  const unitCost = typeof p.unitCost === 'number' ? p.unitCost : slab.unitCost;\n                  const margin = typeof p.margin === 'number' ? p.margin : (slab.margin || 0);\n                  const tax1 = unitCost * 0.13;\n                  const unitPrice = unitCost + tax1;\n                  const marginAmount = unitPrice * margin * qty;\n                  unitCostTotal += unitCost * qty;\n                  tax1Total += tax1 * qty;\n                  unitPriceTotal += unitPrice * qty;\n                  marginAmountTotal += marginAmount;\n                  marginPercentDisplay.push(`${(margin * 100).toFixed(2)}%`);\n                });\n                unitCostTotal *= billingCycle === 'annual' ? 12 : 1;\n                tax1Total *= billingCycle === 'annual' ? 12 : 1;\n                unitPriceTotal *= billingCycle === 'annual' ? 12 : 1;\n                marginAmountTotal *= billingCycle === 'annual' ? 12 : 1;\n                const totalWithMargin = unitPriceTotal + marginAmountTotal;\n                const tax2 = totalWithMargin * (tax2Percent / 100);\n                const totalWithTax = totalWithMargin + tax2;\n                const stripeFees = totalWithTax * 0.029;\n                const totalStripeFees = stripeFees + 0.30;\n                const netTotal = totalWithTax + totalStripeFees;\n                return (\n                  <table style={{ width: \"100%\", borderCollapse: \"separate\", borderSpacing: 0, marginBottom: 0 }}>\n                <tbody>\n                      <tr><td colSpan={2} style={{ fontWeight: 700, fontSize: 16, padding: '16px 0 6px', color: styles.primaryColor }}>COST</td></tr>\n                      <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>UNIT COST</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>{unitCostTotal.toFixed(2)} CAD</td>\n                  </tr>\n                  <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>TAX 1 (13% on Unit Cost)</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>{tax1Total.toFixed(2)} CAD</td>\n                  </tr>\n                  <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>UNIT PRICE (Cost to Pax8)</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>{unitPriceTotal.toFixed(2)} CAD</td>\n                  </tr>\n                  <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>MARGIN AMOUNT</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\" }}>\n                          <span style={{\n                            display: 'inline-block',\n                            background: darkMode ? '#232a36' : '#e3f2fd',\n                            color: styles.primaryColor,\n                            border: `2px solid ${styles.primaryColor}`,\n                            borderRadius: '8px',\n                            padding: '6px 18px',\n                            fontWeight: 700,\n                            fontSize: '1.08em',\n                            boxShadow: '0 2px 8px rgba(30,136,229,0.07)'\n                          }}>\n                            {marginAmountTotal.toFixed(2)} CAD\n                          </span>\n                    </td>\n                  </tr>\n                  <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor, fontWeight: 600 }}>TOTAL WITH MARGIN</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor, fontWeight: 600 }}>{totalWithMargin.toFixed(2)} CAD</td>\n                  </tr>\n                      <tr><td colSpan={2} style={{ fontWeight: 700, fontSize: 16, padding: '16px 0 6px', color: styles.primaryColor }}>TAXATION</td></tr>\n                      <tr>\n                        </tr>\n                      <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>TAX 2 (%)</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>\n                          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', gap: 6 }}>\n                            <input\n                              type=\"text\"\n                              inputMode=\"decimal\"\n                              pattern=\"^\\\\d*(\\\\.\\\\d{0,2})?$\"\n                              value={tax2Percent}\n                              onChange={e => {\n                                const val = e.target.value.replace(/[^\\d.]/g, '');\n                                setTax2Percent(val === '' ? '' : Number(val));\n                              }}\n                              style={{\n                                width: 80,\n                                padding: '14px 12px',\n                                borderRadius: '8px',\n                                border: `1.5px solid ${styles.inputBorder}`,\n                                background: darkMode ? '#232a36' : '#fff',\n                                color: styles.textColor,\n                                fontSize: '1.13rem',\n                                textAlign: 'right',\n                                fontFamily: 'inherit',\n                                marginRight: 2\n                              }}\n                            />\n                            <span style={{ fontWeight: 500, color: styles.textColor, fontSize: 15 }}>%</span>\n                            <span title=\"Edit the secondary tax percentage (e.g., HST/GST for your province)\" style={{ marginLeft: 4, color: '#888', cursor: 'help', fontSize: 16 }}>ⓘ</span>\n                          </div>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>TAX 2</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>{tax2.toFixed(2)} CAD</td>\n                  </tr>\n                      <tr><td colSpan={2} style={{ fontWeight: 700, fontSize: 16, padding: '16px 0 6px', color: styles.primaryColor }}>PROCESSING FEES</td></tr>\n                      <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>STRIPE FEES (2.9% + $0.30)</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>{stripeFees.toFixed(2)} CAD</td>\n                  </tr>\n                  <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor }}>TOTAL STRIPE FEES</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor }}>{totalStripeFees.toFixed(2)} CAD</td>\n                      </tr>\n                      <tr><td colSpan={2} style={{ fontWeight: 700, fontSize: 16, padding: '16px 0 6px', color: styles.primaryColor }}>NET TOTAL</td></tr>\n                      <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor, fontWeight: 700 }}>NET TOTAL</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor, fontWeight: 700 }}>{netTotal.toFixed(2)} CAD</td>\n                  </tr>\n                      <tr><td colSpan={2} style={{ fontWeight: 700, fontSize: 16, padding: '16px 0 6px', color: styles.primaryColor }}>TAXATION</td></tr>\n                      <tr>\n                        <td style={{ padding: \"8px 0\", color: styles.textColor, fontWeight: 600 }}>TOTAL WITH TAX</td>\n                        <td style={{ padding: \"8px 0\", textAlign: \"right\", color: styles.textColor, fontWeight: 600 }}>{totalWithTax.toFixed(2)} CAD</td>\n                  </tr>\n                </tbody>\n              </table>\n                );\n              })()}\n              {/* --- End new breakdown table --- */}\n            </div>\n          </div>\n        </div>\n        <style>\n          {`\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n            .customer-info-grid {\n              display: grid;\n              grid-template-columns: repeat(3, 1fr);\n              gap: 28px 24px;\n              margin-bottom: 10px;\n            }\n            .customer-info-field {\n              background: #f7f9fc;\n              border-radius: 10px;\n              box-shadow: 0 2px 8px rgba(30,136,229,0.07);\n              padding: 18px 16px 12px 16px;\n              display: flex;\n              flex-direction: column;\n              min-width: 0;\n            }\n            .customer-info-label {\n              font-weight: 700;\n              color: #1e88e5;\n              margin-bottom: 8px;\n                font-size: 0.78rem;\n              display: flex;\n              align-items: center;\n              gap: 6px;\n            }\n            .customer-info-tooltip {\n              color: #666;\n                font-size: 11px;\n              cursor: pointer;\n              margin-left: 4px;\n            }\n            .customer-info-input {\n              padding: 12px 10px;\n              border-radius: 6px;\n              border: 1.5px solid #bdbdbd;\n              background: #fff;\n              color: #222;\n                font-size: 0.83rem;\n              font-family: inherit;\n              margin-top: 2px;\n              transition: border 0.2s;\n            }\n            .customer-info-input:focus {\n              border: 1.5px solid #1e88e5;\n              outline: none;\n            }\n            @media (max-width: 1200px) {\n              .customer-info-grid {\n                grid-template-columns: repeat(2, 1fr);\n              }\n            }\n            @media (max-width: 700px) {\n              .customer-info-grid {\n                grid-template-columns: 1fr;\n              }\n            }\n          `}\n        </style>\n        </div>\n      </div>\n    </ErrorBoundary>\n  );\n}\n\n// Add a global style block for font enhancement\n<style>{`\n  body, input, select, textarea, button, label, h1, h2, h3, h4, h5, h6, p, span, th, td, div {\n    font-family: 'Inter', 'Roboto', 'Segoe UI', Arial, sans-serif !important;\n    font-smooth: always;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n`}</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}