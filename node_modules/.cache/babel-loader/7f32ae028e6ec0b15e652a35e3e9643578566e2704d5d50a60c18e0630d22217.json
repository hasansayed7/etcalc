{"ast":null,"code":"import emailjs from '@emailjs/browser';\nimport { getLoyaltyTier, getUpsellOpportunities, getProfitOptimizationRecommendations, generateFeeReport, calculateFeeSavings, getRecommendations, calculateTotalCost, formatCurrency, FINANCIAL_CONSTANTS } from './pricing';\n\n// Initialize EmailJS with your public key\nemailjs.init(process.env.REACT_APP_EMAILJS_PUBLIC_KEY);\n\n// Base64 encoded ExcelyTech logo\nconst EXCELYTECH_LOGO = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAyLTE1VDE1OjQ3OjQ3LTA1OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgc3RFdnQ6d2hlbj0iMjAyNC0wMi0xNVQxNTo0Nzo0Ny0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+';\n\n/**\r\n * Email template styles\r\n */\nconst EMAIL_STYLES = `\n<style>\n    body {\n        font-family: Arial, sans-serif;\n        line-height: 1.6;\n        color: #333;\n        max-width: 800px;\n        margin: 0 auto;\n        padding: 20px;\n    }\n    .header {\n        text-align: center;\n        margin-bottom: 30px;\n        padding: 20px;\n        background-color: #f8f9fa;\n        border-radius: 8px;\n    }\n    .logo {\n        max-width: 200px;\n        height: auto;\n        margin-bottom: 15px;\n    }\n    .section {\n        margin: 20px 0;\n        padding: 15px;\n        border: 1px solid #ddd;\n        border-radius: 5px;\n        background-color: #fff;\n    }\n    .section-title {\n        background-color: #f5f5f5;\n        padding: 10px;\n        margin: -15px -15px 15px -15px;\n        border-radius: 5px 5px 0 0;\n        font-weight: bold;\n        color: #2c3e50;\n    }\n    .cost-breakdown {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 15px 0;\n    }\n    .cost-breakdown td {\n        padding: 8px;\n        border-bottom: 1px solid #ddd;\n    }\n    .cost-breakdown .total {\n        font-weight: bold;\n        border-top: 2px solid #333;\n    }\n    .footer {\n        margin-top: 30px;\n        padding-top: 20px;\n        border-top: 1px solid #ddd;\n        font-size: 0.9em;\n        color: #666;\n    }\n    .company-name {\n        font-size: 24px;\n        font-weight: bold;\n        color: #2c3e50;\n        margin: 10px 0;\n    }\n    .highlight {\n        background-color: #fff3cd;\n        padding: 10px;\n        border-radius: 4px;\n        margin: 10px 0;\n    }\n    .button {\n        display: inline-block;\n        padding: 10px 20px;\n        background-color: #007bff;\n        color: white;\n        text-decoration: none;\n        border-radius: 5px;\n        margin: 10px 0;\n    }\n    .recommendation {\n        background-color: #e8f4f8;\n        padding: 15px;\n        border-radius: 5px;\n        margin: 10px 0;\n    }\n</style>\n`;\n\n/**\r\n * Generate HTML email template\r\n * @param {Object} data - Email data\r\n * @returns {string} HTML email template\r\n */\nconst generateEmailTemplate = data => {\n  return `\n<!DOCTYPE html>\n<html>\n<head>\n    ${EMAIL_STYLES}\n</head>\n<body>\n    <div class=\"header\">\n        <img src=\"${EXCELYTECH_LOGO}\" alt=\"ExcelyTech Logo\" class=\"logo\">\n        <div class=\"company-name\">ExcelyTech</div>\n        <h1>${data.title}</h1>\n    </div>\n\n    ${data.content}\n\n    <div class=\"footer\">\n        <p>Best regards,<br>ExcelyTech Team</p>\n        <p>Email: support@excelytech.com<br>Phone: +1 (555) 123-4567</p>\n    </div>\n</body>\n</html>\n  `;\n};\n\n/**\r\n * Send an email using EmailJS\r\n * @param {Object} data - The email data\r\n * @param {string} data.to_email - Recipient's email address\r\n * @param {string} data.subject - Email subject\r\n * @param {string} data.title - Email title\r\n * @param {string} data.content - Email content\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendEmail = async data => {\n  try {\n    const templateParams = {\n      to_email: data.to_email,\n      subject: data.subject,\n      message: generateEmailTemplate(data),\n      is_html: true\n    };\n    const response = await emailjs.send(process.env.REACT_APP_EMAILJS_SERVICE_ID, process.env.REACT_APP_EMAILJS_TEMPLATE_ID, templateParams);\n    return response;\n  } catch (error) {\n    console.error('Error sending email:', error);\n    throw error;\n  }\n};\n\n/**\r\n * Send quotation email\r\n * @param {Object} data - Quotation data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendQuotation = async data => {\n  const quotationDate = new Date().toLocaleDateString();\n  const validUntil = new Date();\n  validUntil.setDate(validUntil.getDate() + 30);\n  const quotationRef = `ETQ-${Date.now().toString().slice(-6)}`;\n  const totalCost = calculateTotalCost(data.products, data.products.reduce((sum, p) => sum + p.quantity, 0), data.isAnnual, false, data.monthlyVolume, data.totalSpend);\n  const loyaltyTier = getLoyaltyTier(data.totalSpend);\n  const feeReport = generateFeeReport({\n    amount: totalCost.total\n  }, data.monthlyVolume, data.totalSpend);\n  const upsellOpportunities = getUpsellOpportunities(data.products, data.commitmentLevel, data.totalSpend);\n  const content = `\n    <p>Dear ${data.customerName},</p>\n    <p>Thank you for choosing ExcelyTech. We are pleased to present our comprehensive solution for ${data.companyName}.</p>\n\n    <div class=\"section\">\n        <div class=\"section-title\">QUOTATION DETAILS</div>\n        <p>Quotation Date: ${quotationDate}<br>\n        Valid Until: ${validUntil.toLocaleDateString()}<br>\n        Quotation Reference: ${quotationRef}<br>\n        Commitment Level: ${data.commitmentLevel}<br>\n        Billing Cycle: ${data.isAnnual ? 'Annual' : 'Monthly'}</p>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">CUSTOMER INFORMATION</div>\n        <p>Company: ${data.companyName}<br>\n        Loyalty Tier: ${loyaltyTier.name}<br>\n        Monthly Volume: ${formatCurrency(data.monthlyVolume)}<br>\n        Total Spend: ${formatCurrency(data.totalSpend)}</p>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">PRODUCTS & SERVICES</div>\n        ${data.products.map(p => `\n        <div style=\"margin-bottom: 15px;\">\n            <strong>${p.name}</strong><br>\n            - Quantity: ${p.quantity}<br>\n            - Unit Price: ${formatCurrency(p.unitPrice)}<br>\n            - Subtotal: ${formatCurrency(p.unitPrice * p.quantity)}<br>\n            - Features: ${p.features ? p.features.join(', ') : 'Standard features included'}\n        </div>\n        `).join('')}\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">COST BREAKDOWN</div>\n        <table class=\"cost-breakdown\">\n            <tr>\n                <td>Subtotal:</td>\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.subtotal)}</td>\n            </tr>\n            <tr>\n                <td>Processing Fees:</td>\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.processingFees)}</td>\n            </tr>\n            <tr>\n                <td>Service Fees:</td>\n                <td style=\"text-align: right;\">${formatCurrency(feeReport.serviceFee)}</td>\n            </tr>\n            <tr>\n                <td>Volume Discount:</td>\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.volumeDiscount)}</td>\n            </tr>\n            <tr>\n                <td>Commitment Discount:</td>\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.commitmentDiscount)}</td>\n            </tr>\n            <tr>\n                <td>Tax (${(FINANCIAL_CONSTANTS.TAX_RATE * 100).toFixed(1)}%):</td>\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.tax)}</td>\n            </tr>\n            <tr class=\"total\">\n                <td>Total Amount:</td>\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.total)}</td>\n            </tr>\n        </table>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">RECOMMENDED ADD-ONS</div>\n        ${upsellOpportunities.map(opp => `\n        <div class=\"recommendation\">\n            <strong>${opp.name}</strong><br>\n            - Price: ${formatCurrency(opp.price)}<br>\n            - Description: ${opp.description}<br>\n            - Benefits: ${opp.benefits.join(', ')}\n        </div>\n        `).join('')}\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">NEXT STEPS</div>\n        <p>1. Review the quotation<br>\n        2. Sign and return the acceptance form<br>\n        3. Our team will contact you to schedule implementation<br>\n        4. Begin your ExcelyTech journey!</p>\n        <a href=\"#\" class=\"button\">Accept Quotation</a>\n    </div>\n  `;\n  return await sendEmail({\n    to_email: data.to_email,\n    subject: `ExcelyTech Quotation - ${data.companyName} - ${quotationRef}`,\n    title: 'OFFICIAL QUOTATION',\n    content\n  });\n};\n\n/**\r\n * Send pricing recommendations email\r\n * @param {Object} data - Customer and pricing data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendPricingRecommendations = async data => {\n  const loyaltyTier = getLoyaltyTier(data.totalSpend);\n  const upsellOpportunities = getUpsellOpportunities(data.products, data.commitmentLevel, data.totalSpend);\n  const profitRecommendations = getProfitOptimizationRecommendations(data.products, data.commitmentLevel, data.totalSpend);\n  const feeReport = generateFeeReport({\n    amount: data.totalSpend\n  }, data.monthlyVolume, data.totalSpend);\n  const feeSavings = calculateFeeSavings({\n    amount: data.totalSpend\n  }, data.monthlyVolume, data.totalSpend);\n  const recommendations = getRecommendations(data.products, feeReport.serviceFee, data.commitmentLevel, feeReport.profitBeforeTax, data.totalSpend, data.monthlyVolume);\n  const content = `\n    <p>Dear ${data.customerName},</p>\n    <p>We've analyzed your account and have some personalized recommendations to help you optimize your costs and maximize benefits:</p>\n\n    <div class=\"section\">\n        <div class=\"section-title\">CURRENT STATUS</div>\n        <p>Loyalty Tier: ${loyaltyTier.name}<br>\n        Total Spend: ${formatCurrency(data.totalSpend)}<br>\n        Monthly Volume: ${formatCurrency(data.monthlyVolume)}</p>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">FEE ANALYSIS</div>\n        <div class=\"highlight\">${feeReport.summary}</div>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">POTENTIAL SAVINGS</div>\n        <div class=\"highlight\">${feeSavings.summary}</div>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">RECOMMENDED ACTIONS</div>\n        ${recommendations.map(rec => `<p>- ${rec}</p>`).join('')}\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">UPSELL OPPORTUNITIES</div>\n        ${upsellOpportunities.map(opp => `\n        <div class=\"recommendation\">\n            <strong>${opp.name}</strong><br>\n            ${opp.description}\n        </div>\n        `).join('')}\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">PROFIT OPTIMIZATION</div>\n        ${profitRecommendations.map(rec => `<p>- ${rec}</p>`).join('')}\n    </div>\n\n    <div class=\"section\">\n        <p>Would you like to discuss any of these recommendations in detail? Our team is ready to help you implement these optimizations.</p>\n        <a href=\"#\" class=\"button\">Schedule a Call</a>\n    </div>\n  `;\n  return await sendEmail({\n    to_email: data.to_email,\n    subject: `Personalized Pricing Recommendations for ${data.customerName}`,\n    title: 'PRICING OPTIMIZATION RECOMMENDATIONS',\n    content\n  });\n};\n\n/**\r\n * Send commitment optimization email\r\n * @param {Object} data - Customer and commitment data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendCommitmentOptimization = async data => {\n  const content = `\n    <p>Dear ${data.customerName},</p>\n    <p>We've identified an opportunity to optimize your commitment level and increase your savings:</p>\n\n    <div class=\"section\">\n        <div class=\"section-title\">COMMITMENT COMPARISON</div>\n        <p>Current Commitment: ${data.currentCommitment}<br>\n        Recommended Commitment: ${data.recommendedCommitment}</p>\n    </div>\n\n    <div class=\"section\">\n        <div class=\"section-title\">POTENTIAL BENEFITS</div>\n        <div class=\"highlight\">\n            <p>- Annual Savings: ${formatCurrency(data.savings.annual)}<br>\n            - Processing Fee Savings: ${formatCurrency(data.savings.processingFees)}<br>\n            - Service Fee Savings: ${formatCurrency(data.savings.serviceFees)}<br>\n            - Additional Benefits: ${data.savings.additionalBenefits.join(', ')}</p>\n        </div>\n    </div>\n\n    <div class=\"section\">\n        <p>Would you like to discuss upgrading your commitment level? Our team is available to help you make this transition smoothly.</p>\n        <a href=\"#\" class=\"button\">Upgrade Now</a>\n    </div>\n  `;\n  return await sendEmail({\n    to_email: data.to_email,\n    subject: `Commitment Optimization Opportunity for ${data.customerName}`,\n    title: 'COMMITMENT OPTIMIZATION',\n    content\n  });\n};","map":{"version":3,"names":["emailjs","getLoyaltyTier","getUpsellOpportunities","getProfitOptimizationRecommendations","generateFeeReport","calculateFeeSavings","getRecommendations","calculateTotalCost","formatCurrency","FINANCIAL_CONSTANTS","init","process","env","REACT_APP_EMAILJS_PUBLIC_KEY","EXCELYTECH_LOGO","EMAIL_STYLES","generateEmailTemplate","data","title","content","sendEmail","templateParams","to_email","subject","message","is_html","response","send","REACT_APP_EMAILJS_SERVICE_ID","REACT_APP_EMAILJS_TEMPLATE_ID","error","console","sendQuotation","quotationDate","Date","toLocaleDateString","validUntil","setDate","getDate","quotationRef","now","toString","slice","totalCost","products","reduce","sum","p","quantity","isAnnual","monthlyVolume","totalSpend","loyaltyTier","feeReport","amount","total","upsellOpportunities","commitmentLevel","customerName","companyName","name","map","unitPrice","features","join","subtotal","processingFees","serviceFee","volumeDiscount","commitmentDiscount","TAX_RATE","toFixed","tax","opp","price","description","benefits","sendPricingRecommendations","profitRecommendations","feeSavings","recommendations","profitBeforeTax","summary","rec","sendCommitmentOptimization","currentCommitment","recommendedCommitment","savings","annual","serviceFees","additionalBenefits"],"sources":["C:/Users/Hasan/Desktop/vscode/etcalc/src/utils/emailService.js"],"sourcesContent":["import emailjs from '@emailjs/browser';\r\nimport { \r\n  getLoyaltyTier, \r\n  getUpsellOpportunities, \r\n  getProfitOptimizationRecommendations,\r\n  generateFeeReport,\r\n  calculateFeeSavings,\r\n  getRecommendations,\r\n  calculateTotalCost,\r\n  formatCurrency,\r\n  FINANCIAL_CONSTANTS\r\n} from './pricing';\r\n\r\n// Initialize EmailJS with your public key\r\nemailjs.init(process.env.REACT_APP_EMAILJS_PUBLIC_KEY);\r\n\r\n// Base64 encoded ExcelyTech logo\r\nconst EXCELYTECH_LOGO = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAyLTE1VDE1OjQ3OjQ3LTA1OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgc3RFdnQ6d2hlbj0iMjAyNC0wMi0xNVQxNTo0Nzo0Ny0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+';\r\n\r\n/**\r\n * Email template styles\r\n */\r\nconst EMAIL_STYLES = `\r\n<style>\r\n    body {\r\n        font-family: Arial, sans-serif;\r\n        line-height: 1.6;\r\n        color: #333;\r\n        max-width: 800px;\r\n        margin: 0 auto;\r\n        padding: 20px;\r\n    }\r\n    .header {\r\n        text-align: center;\r\n        margin-bottom: 30px;\r\n        padding: 20px;\r\n        background-color: #f8f9fa;\r\n        border-radius: 8px;\r\n    }\r\n    .logo {\r\n        max-width: 200px;\r\n        height: auto;\r\n        margin-bottom: 15px;\r\n    }\r\n    .section {\r\n        margin: 20px 0;\r\n        padding: 15px;\r\n        border: 1px solid #ddd;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n    }\r\n    .section-title {\r\n        background-color: #f5f5f5;\r\n        padding: 10px;\r\n        margin: -15px -15px 15px -15px;\r\n        border-radius: 5px 5px 0 0;\r\n        font-weight: bold;\r\n        color: #2c3e50;\r\n    }\r\n    .cost-breakdown {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        margin: 15px 0;\r\n    }\r\n    .cost-breakdown td {\r\n        padding: 8px;\r\n        border-bottom: 1px solid #ddd;\r\n    }\r\n    .cost-breakdown .total {\r\n        font-weight: bold;\r\n        border-top: 2px solid #333;\r\n    }\r\n    .footer {\r\n        margin-top: 30px;\r\n        padding-top: 20px;\r\n        border-top: 1px solid #ddd;\r\n        font-size: 0.9em;\r\n        color: #666;\r\n    }\r\n    .company-name {\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n        color: #2c3e50;\r\n        margin: 10px 0;\r\n    }\r\n    .highlight {\r\n        background-color: #fff3cd;\r\n        padding: 10px;\r\n        border-radius: 4px;\r\n        margin: 10px 0;\r\n    }\r\n    .button {\r\n        display: inline-block;\r\n        padding: 10px 20px;\r\n        background-color: #007bff;\r\n        color: white;\r\n        text-decoration: none;\r\n        border-radius: 5px;\r\n        margin: 10px 0;\r\n    }\r\n    .recommendation {\r\n        background-color: #e8f4f8;\r\n        padding: 15px;\r\n        border-radius: 5px;\r\n        margin: 10px 0;\r\n    }\r\n</style>\r\n`;\r\n\r\n/**\r\n * Generate HTML email template\r\n * @param {Object} data - Email data\r\n * @returns {string} HTML email template\r\n */\r\nconst generateEmailTemplate = (data) => {\r\n  return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    ${EMAIL_STYLES}\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        <img src=\"${EXCELYTECH_LOGO}\" alt=\"ExcelyTech Logo\" class=\"logo\">\r\n        <div class=\"company-name\">ExcelyTech</div>\r\n        <h1>${data.title}</h1>\r\n    </div>\r\n\r\n    ${data.content}\r\n\r\n    <div class=\"footer\">\r\n        <p>Best regards,<br>ExcelyTech Team</p>\r\n        <p>Email: support@excelytech.com<br>Phone: +1 (555) 123-4567</p>\r\n    </div>\r\n</body>\r\n</html>\r\n  `;\r\n};\r\n\r\n/**\r\n * Send an email using EmailJS\r\n * @param {Object} data - The email data\r\n * @param {string} data.to_email - Recipient's email address\r\n * @param {string} data.subject - Email subject\r\n * @param {string} data.title - Email title\r\n * @param {string} data.content - Email content\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendEmail = async (data) => {\r\n  try {\r\n    const templateParams = {\r\n      to_email: data.to_email,\r\n      subject: data.subject,\r\n      message: generateEmailTemplate(data),\r\n      is_html: true\r\n    };\r\n\r\n    const response = await emailjs.send(\r\n      process.env.REACT_APP_EMAILJS_SERVICE_ID,\r\n      process.env.REACT_APP_EMAILJS_TEMPLATE_ID,\r\n      templateParams\r\n    );\r\n\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error sending email:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Send quotation email\r\n * @param {Object} data - Quotation data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendQuotation = async (data) => {\r\n  const quotationDate = new Date().toLocaleDateString();\r\n  const validUntil = new Date();\r\n  validUntil.setDate(validUntil.getDate() + 30);\r\n  const quotationRef = `ETQ-${Date.now().toString().slice(-6)}`;\r\n\r\n  const totalCost = calculateTotalCost(\r\n    data.products,\r\n    data.products.reduce((sum, p) => sum + p.quantity, 0),\r\n    data.isAnnual,\r\n    false,\r\n    data.monthlyVolume,\r\n    data.totalSpend\r\n  );\r\n\r\n  const loyaltyTier = getLoyaltyTier(data.totalSpend);\r\n  const feeReport = generateFeeReport(\r\n    { amount: totalCost.total },\r\n    data.monthlyVolume,\r\n    data.totalSpend\r\n  );\r\n\r\n  const upsellOpportunities = getUpsellOpportunities(\r\n    data.products,\r\n    data.commitmentLevel,\r\n    data.totalSpend\r\n  );\r\n\r\n  const content = `\r\n    <p>Dear ${data.customerName},</p>\r\n    <p>Thank you for choosing ExcelyTech. We are pleased to present our comprehensive solution for ${data.companyName}.</p>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">QUOTATION DETAILS</div>\r\n        <p>Quotation Date: ${quotationDate}<br>\r\n        Valid Until: ${validUntil.toLocaleDateString()}<br>\r\n        Quotation Reference: ${quotationRef}<br>\r\n        Commitment Level: ${data.commitmentLevel}<br>\r\n        Billing Cycle: ${data.isAnnual ? 'Annual' : 'Monthly'}</p>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">CUSTOMER INFORMATION</div>\r\n        <p>Company: ${data.companyName}<br>\r\n        Loyalty Tier: ${loyaltyTier.name}<br>\r\n        Monthly Volume: ${formatCurrency(data.monthlyVolume)}<br>\r\n        Total Spend: ${formatCurrency(data.totalSpend)}</p>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">PRODUCTS & SERVICES</div>\r\n        ${data.products.map(p => `\r\n        <div style=\"margin-bottom: 15px;\">\r\n            <strong>${p.name}</strong><br>\r\n            - Quantity: ${p.quantity}<br>\r\n            - Unit Price: ${formatCurrency(p.unitPrice)}<br>\r\n            - Subtotal: ${formatCurrency(p.unitPrice * p.quantity)}<br>\r\n            - Features: ${p.features ? p.features.join(', ') : 'Standard features included'}\r\n        </div>\r\n        `).join('')}\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">COST BREAKDOWN</div>\r\n        <table class=\"cost-breakdown\">\r\n            <tr>\r\n                <td>Subtotal:</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.subtotal)}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Processing Fees:</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.processingFees)}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Service Fees:</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(feeReport.serviceFee)}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Volume Discount:</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.volumeDiscount)}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Commitment Discount:</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.commitmentDiscount)}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Tax (${(FINANCIAL_CONSTANTS.TAX_RATE * 100).toFixed(1)}%):</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.tax)}</td>\r\n            </tr>\r\n            <tr class=\"total\">\r\n                <td>Total Amount:</td>\r\n                <td style=\"text-align: right;\">${formatCurrency(totalCost.total)}</td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">RECOMMENDED ADD-ONS</div>\r\n        ${upsellOpportunities.map(opp => `\r\n        <div class=\"recommendation\">\r\n            <strong>${opp.name}</strong><br>\r\n            - Price: ${formatCurrency(opp.price)}<br>\r\n            - Description: ${opp.description}<br>\r\n            - Benefits: ${opp.benefits.join(', ')}\r\n        </div>\r\n        `).join('')}\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">NEXT STEPS</div>\r\n        <p>1. Review the quotation<br>\r\n        2. Sign and return the acceptance form<br>\r\n        3. Our team will contact you to schedule implementation<br>\r\n        4. Begin your ExcelyTech journey!</p>\r\n        <a href=\"#\" class=\"button\">Accept Quotation</a>\r\n    </div>\r\n  `;\r\n\r\n  return await sendEmail({\r\n    to_email: data.to_email,\r\n    subject: `ExcelyTech Quotation - ${data.companyName} - ${quotationRef}`,\r\n    title: 'OFFICIAL QUOTATION',\r\n    content\r\n  });\r\n};\r\n\r\n/**\r\n * Send pricing recommendations email\r\n * @param {Object} data - Customer and pricing data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendPricingRecommendations = async (data) => {\r\n  const loyaltyTier = getLoyaltyTier(data.totalSpend);\r\n  const upsellOpportunities = getUpsellOpportunities(\r\n    data.products,\r\n    data.commitmentLevel,\r\n    data.totalSpend\r\n  );\r\n  const profitRecommendations = getProfitOptimizationRecommendations(\r\n    data.products,\r\n    data.commitmentLevel,\r\n    data.totalSpend\r\n  );\r\n  const feeReport = generateFeeReport(\r\n    { amount: data.totalSpend },\r\n    data.monthlyVolume,\r\n    data.totalSpend\r\n  );\r\n  const feeSavings = calculateFeeSavings(\r\n    { amount: data.totalSpend },\r\n    data.monthlyVolume,\r\n    data.totalSpend\r\n  );\r\n  const recommendations = getRecommendations(\r\n    data.products,\r\n    feeReport.serviceFee,\r\n    data.commitmentLevel,\r\n    feeReport.profitBeforeTax,\r\n    data.totalSpend,\r\n    data.monthlyVolume\r\n  );\r\n\r\n  const content = `\r\n    <p>Dear ${data.customerName},</p>\r\n    <p>We've analyzed your account and have some personalized recommendations to help you optimize your costs and maximize benefits:</p>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">CURRENT STATUS</div>\r\n        <p>Loyalty Tier: ${loyaltyTier.name}<br>\r\n        Total Spend: ${formatCurrency(data.totalSpend)}<br>\r\n        Monthly Volume: ${formatCurrency(data.monthlyVolume)}</p>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">FEE ANALYSIS</div>\r\n        <div class=\"highlight\">${feeReport.summary}</div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">POTENTIAL SAVINGS</div>\r\n        <div class=\"highlight\">${feeSavings.summary}</div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">RECOMMENDED ACTIONS</div>\r\n        ${recommendations.map(rec => `<p>- ${rec}</p>`).join('')}\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">UPSELL OPPORTUNITIES</div>\r\n        ${upsellOpportunities.map(opp => `\r\n        <div class=\"recommendation\">\r\n            <strong>${opp.name}</strong><br>\r\n            ${opp.description}\r\n        </div>\r\n        `).join('')}\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">PROFIT OPTIMIZATION</div>\r\n        ${profitRecommendations.map(rec => `<p>- ${rec}</p>`).join('')}\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <p>Would you like to discuss any of these recommendations in detail? Our team is ready to help you implement these optimizations.</p>\r\n        <a href=\"#\" class=\"button\">Schedule a Call</a>\r\n    </div>\r\n  `;\r\n\r\n  return await sendEmail({\r\n    to_email: data.to_email,\r\n    subject: `Personalized Pricing Recommendations for ${data.customerName}`,\r\n    title: 'PRICING OPTIMIZATION RECOMMENDATIONS',\r\n    content\r\n  });\r\n};\r\n\r\n/**\r\n * Send commitment optimization email\r\n * @param {Object} data - Customer and commitment data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendCommitmentOptimization = async (data) => {\r\n  const content = `\r\n    <p>Dear ${data.customerName},</p>\r\n    <p>We've identified an opportunity to optimize your commitment level and increase your savings:</p>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">COMMITMENT COMPARISON</div>\r\n        <p>Current Commitment: ${data.currentCommitment}<br>\r\n        Recommended Commitment: ${data.recommendedCommitment}</p>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">POTENTIAL BENEFITS</div>\r\n        <div class=\"highlight\">\r\n            <p>- Annual Savings: ${formatCurrency(data.savings.annual)}<br>\r\n            - Processing Fee Savings: ${formatCurrency(data.savings.processingFees)}<br>\r\n            - Service Fee Savings: ${formatCurrency(data.savings.serviceFees)}<br>\r\n            - Additional Benefits: ${data.savings.additionalBenefits.join(', ')}</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <p>Would you like to discuss upgrading your commitment level? Our team is available to help you make this transition smoothly.</p>\r\n        <a href=\"#\" class=\"button\">Upgrade Now</a>\r\n    </div>\r\n  `;\r\n\r\n  return await sendEmail({\r\n    to_email: data.to_email,\r\n    subject: `Commitment Optimization Opportunity for ${data.customerName}`,\r\n    title: 'COMMITMENT OPTIMIZATION',\r\n    content\r\n  });\r\n}; "],"mappings":"AAAA,OAAOA,OAAO,MAAM,kBAAkB;AACtC,SACEC,cAAc,EACdC,sBAAsB,EACtBC,oCAAoC,EACpCC,iBAAiB,EACjBC,mBAAmB,EACnBC,kBAAkB,EAClBC,kBAAkB,EAClBC,cAAc,EACdC,mBAAmB,QACd,WAAW;;AAElB;AACAT,OAAO,CAACU,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,4BAA4B,CAAC;;AAEtD;AACA,MAAMC,eAAe,GAAG,wxDAAwxD;;AAEhzD;AACA;AACA;AACA,MAAMC,YAAY,GAAG;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,qBAAqB,GAAIC,IAAI,IAAK;EACtC,OAAO;AACT;AACA;AACA;AACA,MAAMF,YAAY;AAClB;AACA;AACA;AACA,oBAAoBD,eAAe;AACnC;AACA,cAAcG,IAAI,CAACC,KAAK;AACxB;AACA;AACA,MAAMD,IAAI,CAACE,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,SAAS,GAAG,MAAOH,IAAI,IAAK;EACvC,IAAI;IACF,MAAMI,cAAc,GAAG;MACrBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;MACvBC,OAAO,EAAEN,IAAI,CAACM,OAAO;MACrBC,OAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}