{"ast":null,"code":"import emailjs from '@emailjs/browser';\nimport { getLoyaltyTier, getUpsellOpportunities, getProfitOptimizationRecommendations, generateFeeReport, calculateFeeSavings, getRecommendations, calculateTotalCost, formatCurrency, FINANCIAL_CONSTANTS } from './pricing';\n\n// Initialize EmailJS with your public key\nconst initEmailJS = () => {\n  try {\n    const publicKey = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\n    if (!publicKey) {\n      throw new Error('EmailJS public key is not configured');\n    }\n    emailjs.init(publicKey);\n    console.log('EmailJS initialized successfully');\n  } catch (error) {\n    console.error('Failed to initialize EmailJS:', error);\n    throw error;\n  }\n};\n\n// Initialize EmailJS\ninitEmailJS();\n\n// Base64 encoded ExcelyTech logo\nconst EXCELYTECH_LOGO = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAyLTE1VDE1OjQ3OjQ3LTA1OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgc3RFdnQ6d2hlbj0iMjAyNC0wMi0xNVQxNTo0Nzo0Ny0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+';\n\n/**\r\n * Email template styles\r\n */\nconst EMAIL_STYLES = `\n<style>\n    body {\n        font-family: Arial, sans-serif;\n        line-height: 1.6;\n        color: #333;\n        max-width: 800px;\n        margin: 0 auto;\n        padding: 20px;\n    }\n    .header {\n        text-align: center;\n        margin-bottom: 30px;\n        padding: 20px;\n        background-color: #f8f9fa;\n        border-radius: 8px;\n    }\n    .logo {\n        max-width: 200px;\n        height: auto;\n        margin-bottom: 15px;\n    }\n    .section {\n        margin: 20px 0;\n        padding: 15px;\n        border: 1px solid #ddd;\n        border-radius: 5px;\n        background-color: #fff;\n    }\n    .section-title {\n        background-color: #f5f5f5;\n        padding: 10px;\n        margin: -15px -15px 15px -15px;\n        border-radius: 5px 5px 0 0;\n        font-weight: bold;\n        color: #2c3e50;\n    }\n    .cost-breakdown {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 15px 0;\n    }\n    .cost-breakdown td {\n        padding: 8px;\n        border-bottom: 1px solid #ddd;\n    }\n    .cost-breakdown .total {\n        font-weight: bold;\n        border-top: 2px solid #333;\n    }\n    .footer {\n        margin-top: 30px;\n        padding-top: 20px;\n        border-top: 1px solid #ddd;\n        font-size: 0.9em;\n        color: #666;\n    }\n    .company-name {\n        font-size: 24px;\n        font-weight: bold;\n        color: #2c3e50;\n        margin: 10px 0;\n    }\n    .highlight {\n        background-color: #fff3cd;\n        padding: 10px;\n        border-radius: 4px;\n        margin: 10px 0;\n    }\n    .button {\n        display: inline-block;\n        padding: 10px 20px;\n        background-color: #007bff;\n        color: white;\n        text-decoration: none;\n        border-radius: 5px;\n        margin: 10px 0;\n    }\n    .recommendation {\n        background-color: #e8f4f8;\n        padding: 15px;\n        border-radius: 5px;\n        margin: 10px 0;\n    }\n</style>\n`;\n\n/**\r\n * Generate HTML email template\r\n * @param {Object} data - Email data\r\n * @returns {string} HTML email template\r\n */\nconst generateEmailTemplate = data => {\n  try {\n    if (!data || typeof data !== 'object') {\n      throw new Error('Invalid email data');\n    }\n    const title = data.title || 'ExcelyTech Communication';\n    const content = data.content || '';\n    if (!content) {\n      throw new Error('Email content is required');\n    }\n    return `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    ${EMAIL_STYLES}\n</head>\n<body>\n    <div class=\"header\">\n        <img src=\"${EXCELYTECH_LOGO}\" alt=\"ExcelyTech Logo\" class=\"logo\">\n        <div class=\"company-name\">ExcelyTech</div>\n        <h1>${title}</h1>\n    </div>\n\n    ${content}\n\n    <div class=\"footer\">\n        <p>Best regards,<br>ExcelyTech Team</p>\n        <p>Email: support@excelytech.com<br>Phone: +1 (555) 123-4567</p>\n    </div>\n</body>\n</html>\n    `;\n  } catch (error) {\n    console.error('Error generating email template:', error);\n    throw error;\n  }\n};\n\n/**\r\n * Send an email using EmailJS\r\n * @param {Object} data - The email data\r\n * @param {string} data.to_email - Recipient's email address\r\n * @param {string} data.subject - Email subject\r\n * @param {string} data.title - Email title\r\n * @param {string} data.content - Email content\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendEmail = async data => {\n  try {\n    console.log('sendEmail called with data:', JSON.stringify(data, null, 2));\n    if (!data || typeof data !== 'object') {\n      throw new Error('Invalid email data');\n    }\n    if (!data.to_email) {\n      throw new Error('Recipient email is required');\n    }\n    if (!data.subject) {\n      throw new Error('Email subject is required');\n    }\n\n    // Check for either message or content\n    const emailContent = data.content || data.message;\n    if (!emailContent) {\n      console.error('Missing content in data:', data);\n      throw new Error('Email content is required');\n    }\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\n    if (!serviceId || !templateId) {\n      throw new Error('EmailJS service ID or template ID is not configured');\n    }\n\n    // Generate the full HTML template\n    const fullHtmlContent = generateEmailTemplate({\n      ...data,\n      content: emailContent\n    });\n    console.log('Generated HTML content length:', fullHtmlContent.length);\n    console.log('HTML content preview:', fullHtmlContent.substring(0, 200) + '...');\n    const templateParams = {\n      to_email: data.to_email,\n      subject: data.subject,\n      message: fullHtmlContent,\n      // Use the full HTML content directly\n      is_html: true\n    };\n    console.log('Sending email with template params:', JSON.stringify({\n      ...templateParams,\n      message: templateParams.message.substring(0, 200) + '...' // Log preview of message\n    }, null, 2));\n    const response = await emailjs.send(serviceId, templateId, templateParams);\n    console.log('Email sent successfully:', response);\n    return response;\n  } catch (error) {\n    console.error('Error sending email:', error);\n    throw error;\n  }\n};\n\n/**\r\n * Send quotation email\r\n * @param {Object} data - Quotation data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendQuotation = async data => {\n  try {\n    console.log('sendQuotation called with data:', JSON.stringify(data, null, 2));\n    if (!data || typeof data !== 'object') {\n      throw new Error('Invalid quotation data');\n    }\n    const requiredFields = ['to_email', 'customerName', 'companyName', 'products', 'commitmentLevel', 'isAnnual', 'monthlyVolume', 'totalSpend'];\n    for (const field of requiredFields) {\n      if (!data[field]) {\n        throw new Error(`Missing required field: ${field}`);\n      }\n    }\n    const quotationDate = new Date().toLocaleDateString();\n    const validUntil = new Date();\n    validUntil.setDate(validUntil.getDate() + 30);\n    const quotationRef = `ETQ-${Date.now().toString().slice(-6)}`;\n    console.log('Generating total cost...');\n    const totalCost = calculateTotalCost(data.products, data.products.reduce((sum, p) => sum + p.quantity, 0), data.isAnnual, false, data.monthlyVolume, data.totalSpend);\n    console.log('Total cost calculated:', totalCost);\n    console.log('Getting loyalty tier...');\n    const loyaltyTier = getLoyaltyTier(data.totalSpend);\n    console.log('Loyalty tier:', loyaltyTier);\n    console.log('Generating fee report...');\n    const feeReport = generateFeeReport({\n      amount: totalCost.total\n    }, data.monthlyVolume, data.totalSpend);\n    console.log('Fee report:', feeReport);\n    console.log('Getting upsell opportunities...');\n    const upsellOpportunities = getUpsellOpportunities(data.products, data.commitmentLevel, data.totalSpend);\n    console.log('Upsell opportunities:', upsellOpportunities);\n    console.log('Generating email content...');\n    const content = `\n      <p>Dear ${data.customerName},</p>\n      <p>Thank you for choosing ExcelyTech. We are pleased to present our comprehensive solution for ${data.companyName}.</p>\n\n      <div class=\"section\">\n          <div class=\"section-title\">QUOTATION DETAILS</div>\n          <p>Quotation Date: ${quotationDate}<br>\n          Valid Until: ${validUntil.toLocaleDateString()}<br>\n          Quotation Reference: ${quotationRef}<br>\n          Commitment Level: ${data.commitmentLevel}<br>\n          Billing Cycle: ${data.isAnnual ? 'Annual' : 'Monthly'}</p>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">CUSTOMER INFORMATION</div>\n          <p>Company: ${data.companyName}<br>\n          Loyalty Tier: ${loyaltyTier.name}<br>\n          Monthly Volume: ${formatCurrency(data.monthlyVolume)}<br>\n          Total Spend: ${formatCurrency(data.totalSpend)}</p>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">PRODUCTS & SERVICES</div>\n          ${data.products.map(p => `\n          <div style=\"margin-bottom: 15px;\">\n              <strong>${p.name}</strong><br>\n              - Quantity: ${p.quantity}<br>\n              - Unit Price: ${formatCurrency(p.unitPrice)}<br>\n              - Subtotal: ${formatCurrency(p.unitPrice * p.quantity)}<br>\n              - Features: ${p.features ? p.features.join(', ') : 'Standard features included'}\n          </div>\n          `).join('')}\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">COST BREAKDOWN</div>\n          <table class=\"cost-breakdown\">\n              <tr>\n                  <td>Subtotal:</td>\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.subtotal)}</td>\n              </tr>\n              <tr>\n                  <td>Processing Fees:</td>\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.processingFees)}</td>\n              </tr>\n              <tr>\n                  <td>Service Fees:</td>\n                  <td style=\"text-align: right;\">${formatCurrency(feeReport.serviceFee)}</td>\n              </tr>\n              <tr>\n                  <td>Volume Discount:</td>\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.volumeDiscount)}</td>\n              </tr>\n              <tr>\n                  <td>Commitment Discount:</td>\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.commitmentDiscount)}</td>\n              </tr>\n              <tr>\n                  <td>Tax (${(FINANCIAL_CONSTANTS.TAX_RATE * 100).toFixed(1)}%):</td>\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.tax)}</td>\n              </tr>\n              <tr class=\"total\">\n                  <td>Total Amount:</td>\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.total)}</td>\n              </tr>\n          </table>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">RECOMMENDED ADD-ONS</div>\n          ${upsellOpportunities.map(opp => `\n          <div class=\"recommendation\">\n              <strong>${opp.name}</strong><br>\n              - Price: ${formatCurrency(opp.price)}<br>\n              - Description: ${opp.description}<br>\n              - Benefits: ${opp.benefits.join(', ')}\n          </div>\n          `).join('')}\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">NEXT STEPS</div>\n          <p>1. Review the quotation<br>\n          2. Sign and return the acceptance form<br>\n          3. Our team will contact you to schedule implementation<br>\n          4. Begin your ExcelyTech journey!</p>\n          <a href=\"#\" class=\"button\">Accept Quotation</a>\n      </div>\n    `;\n    console.log('Generated content length:', content.length);\n    console.log('Content preview:', content.substring(0, 200) + '...');\n    const emailData = {\n      to_email: data.to_email,\n      subject: `ExcelyTech Quotation - ${data.companyName} - ${quotationRef}`,\n      title: 'OFFICIAL QUOTATION',\n      content\n    };\n    console.log('Sending email with data:', JSON.stringify(emailData, null, 2));\n    return await sendEmail(emailData);\n  } catch (error) {\n    console.error('Error sending quotation:', error);\n    throw error;\n  }\n};\n\n/**\r\n * Send pricing recommendations email\r\n * @param {Object} data - Customer and pricing data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendPricingRecommendations = async data => {\n  try {\n    if (!data || typeof data !== 'object') {\n      throw new Error('Invalid pricing recommendations data');\n    }\n    const requiredFields = ['to_email', 'customerName', 'products', 'totalSpend', 'monthlyVolume', 'commitmentLevel'];\n    for (const field of requiredFields) {\n      if (!data[field]) {\n        throw new Error(`Missing required field: ${field}`);\n      }\n    }\n    const loyaltyTier = getLoyaltyTier(data.totalSpend);\n    const upsellOpportunities = getUpsellOpportunities(data.products, data.commitmentLevel, data.totalSpend);\n    const profitRecommendations = getProfitOptimizationRecommendations(data.products, data.commitmentLevel, data.totalSpend);\n    const feeReport = generateFeeReport({\n      amount: data.totalSpend\n    }, data.monthlyVolume, data.totalSpend);\n    const feeSavings = calculateFeeSavings({\n      amount: data.totalSpend\n    }, data.monthlyVolume, data.totalSpend);\n    const recommendations = getRecommendations(data.products, feeReport.serviceFee, data.commitmentLevel, feeReport.profitBeforeTax, data.totalSpend, data.monthlyVolume);\n    const content = `\n      <p>Dear ${data.customerName},</p>\n      <p>We've analyzed your account and have some personalized recommendations to help you optimize your costs and maximize benefits:</p>\n\n      <div class=\"section\">\n          <div class=\"section-title\">CURRENT STATUS</div>\n          <p>Loyalty Tier: ${loyaltyTier.name}<br>\n          Total Spend: ${formatCurrency(data.totalSpend)}<br>\n          Monthly Volume: ${formatCurrency(data.monthlyVolume)}</p>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">FEE ANALYSIS</div>\n          <div class=\"highlight\">${feeReport.summary}</div>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">POTENTIAL SAVINGS</div>\n          <div class=\"highlight\">${feeSavings.summary}</div>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">RECOMMENDED ACTIONS</div>\n          ${recommendations.map(rec => `<p>- ${rec}</p>`).join('')}\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">UPSELL OPPORTUNITIES</div>\n          ${upsellOpportunities.map(opp => `\n          <div class=\"recommendation\">\n              <strong>${opp.name}</strong><br>\n              ${opp.description}\n          </div>\n          `).join('')}\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">PROFIT OPTIMIZATION</div>\n          ${profitRecommendations.map(rec => `<p>- ${rec}</p>`).join('')}\n      </div>\n\n      <div class=\"section\">\n          <p>Would you like to discuss any of these recommendations in detail? Our team is ready to help you implement these optimizations.</p>\n          <a href=\"#\" class=\"button\">Schedule a Call</a>\n      </div>\n    `;\n    return await sendEmail({\n      to_email: data.to_email,\n      subject: `Personalized Pricing Recommendations for ${data.customerName}`,\n      title: 'PRICING OPTIMIZATION RECOMMENDATIONS',\n      content\n    });\n  } catch (error) {\n    console.error('Error sending pricing recommendations:', error);\n    throw error;\n  }\n};\n\n/**\r\n * Send commitment optimization email\r\n * @param {Object} data - Customer and commitment data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\nexport const sendCommitmentOptimization = async data => {\n  try {\n    if (!data || typeof data !== 'object') {\n      throw new Error('Invalid commitment optimization data');\n    }\n    const requiredFields = ['to_email', 'customerName', 'currentCommitment', 'recommendedCommitment', 'savings'];\n    for (const field of requiredFields) {\n      if (!data[field]) {\n        throw new Error(`Missing required field: ${field}`);\n      }\n    }\n    const content = `\n      <p>Dear ${data.customerName},</p>\n      <p>We've identified an opportunity to optimize your commitment level and increase your savings:</p>\n\n      <div class=\"section\">\n          <div class=\"section-title\">COMMITMENT COMPARISON</div>\n          <p>Current Commitment: ${data.currentCommitment}<br>\n          Recommended Commitment: ${data.recommendedCommitment}</p>\n      </div>\n\n      <div class=\"section\">\n          <div class=\"section-title\">POTENTIAL BENEFITS</div>\n          <div class=\"highlight\">\n              <p>- Annual Savings: ${formatCurrency(data.savings.annual)}<br>\n              - Processing Fee Savings: ${formatCurrency(data.savings.processingFees)}<br>\n              - Service Fee Savings: ${formatCurrency(data.savings.serviceFees)}<br>\n              - Additional Benefits: ${data.savings.additionalBenefits.join(', ')}</p>\n          </div>\n      </div>\n\n      <div class=\"section\">\n          <p>Would you like to discuss upgrading your commitment level? Our team is available to help you make this transition smoothly.</p>\n          <a href=\"#\" class=\"button\">Upgrade Now</a>\n      </div>\n    `;\n    return await sendEmail({\n      to_email: data.to_email,\n      subject: `Commitment Optimization Opportunity for ${data.customerName}`,\n      title: 'COMMITMENT OPTIMIZATION',\n      content\n    });\n  } catch (error) {\n    console.error('Error sending commitment optimization:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["emailjs","getLoyaltyTier","getUpsellOpportunities","getProfitOptimizationRecommendations","generateFeeReport","calculateFeeSavings","getRecommendations","calculateTotalCost","formatCurrency","FINANCIAL_CONSTANTS","initEmailJS","publicKey","process","env","REACT_APP_EMAILJS_PUBLIC_KEY","Error","init","console","log","error","EXCELYTECH_LOGO","EMAIL_STYLES","generateEmailTemplate","data","title","content","sendEmail","JSON","stringify","to_email","subject","emailContent","message","serviceId","REACT_APP_EMAILJS_SERVICE_ID","templateId","REACT_APP_EMAILJS_TEMPLATE_ID","fullHtmlContent","length","substring","templateParams","is_html","response","send","sendQuotation","requiredFields","field","quotationDate","Date","toLocaleDateString","validUntil","setDate","getDate","quotationRef","now","toString","slice","totalCost","products","reduce","sum","p","quantity","isAnnual","monthlyVolume","totalSpend","loyaltyTier","feeReport","amount","total","upsellOpportunities","commitmentLevel","customerName","companyName","name","map","unitPrice","features","join","subtotal","processingFees","serviceFee","volumeDiscount","commitmentDiscount","TAX_RATE","toFixed","tax","opp","price","description","benefits","emailData","sendPricingRecommendations","profitRecommendations","feeSavings","recommendations","profitBeforeTax","summary","rec","sendCommitmentOptimization","currentCommitment","recommendedCommitment","savings","annual","serviceFees","additionalBenefits"],"sources":["C:/Users/Hasan/Desktop/vscode/etcalc/src/utils/emailService.js"],"sourcesContent":["import emailjs from '@emailjs/browser';\r\nimport { \r\n  getLoyaltyTier, \r\n  getUpsellOpportunities, \r\n  getProfitOptimizationRecommendations,\r\n  generateFeeReport,\r\n  calculateFeeSavings,\r\n  getRecommendations,\r\n  calculateTotalCost,\r\n  formatCurrency,\r\n  FINANCIAL_CONSTANTS\r\n} from './pricing';\r\n\r\n// Initialize EmailJS with your public key\r\nconst initEmailJS = () => {\r\n  try {\r\n    const publicKey = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\r\n    if (!publicKey) {\r\n      throw new Error('EmailJS public key is not configured');\r\n    }\r\n    emailjs.init(publicKey);\r\n    console.log('EmailJS initialized successfully');\r\n  } catch (error) {\r\n    console.error('Failed to initialize EmailJS:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Initialize EmailJS\r\ninitEmailJS();\r\n\r\n// Base64 encoded ExcelyTech logo\r\nconst EXCELYTECH_LOGO = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuMWI2NWE3OWI0LCAyMDIyLzA2LzEzLTIyOjAxOjAxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDItMTVUMTU6NDc6NDctMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAyLTE1VDE1OjQ3OjQ3LTA1OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5ZDM4ZjM5LTM4ZTAtNDZiZC1hMzBkLTNlYzM4ZjM5M2Y2ZiIgc3RFdnQ6d2hlbj0iMjAyNC0wMi0xNVQxNTo0Nzo0Ny0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+';\r\n\r\n/**\r\n * Email template styles\r\n */\r\nconst EMAIL_STYLES = `\r\n<style>\r\n    body {\r\n        font-family: Arial, sans-serif;\r\n        line-height: 1.6;\r\n        color: #333;\r\n        max-width: 800px;\r\n        margin: 0 auto;\r\n        padding: 20px;\r\n    }\r\n    .header {\r\n        text-align: center;\r\n        margin-bottom: 30px;\r\n        padding: 20px;\r\n        background-color: #f8f9fa;\r\n        border-radius: 8px;\r\n    }\r\n    .logo {\r\n        max-width: 200px;\r\n        height: auto;\r\n        margin-bottom: 15px;\r\n    }\r\n    .section {\r\n        margin: 20px 0;\r\n        padding: 15px;\r\n        border: 1px solid #ddd;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n    }\r\n    .section-title {\r\n        background-color: #f5f5f5;\r\n        padding: 10px;\r\n        margin: -15px -15px 15px -15px;\r\n        border-radius: 5px 5px 0 0;\r\n        font-weight: bold;\r\n        color: #2c3e50;\r\n    }\r\n    .cost-breakdown {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        margin: 15px 0;\r\n    }\r\n    .cost-breakdown td {\r\n        padding: 8px;\r\n        border-bottom: 1px solid #ddd;\r\n    }\r\n    .cost-breakdown .total {\r\n        font-weight: bold;\r\n        border-top: 2px solid #333;\r\n    }\r\n    .footer {\r\n        margin-top: 30px;\r\n        padding-top: 20px;\r\n        border-top: 1px solid #ddd;\r\n        font-size: 0.9em;\r\n        color: #666;\r\n    }\r\n    .company-name {\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n        color: #2c3e50;\r\n        margin: 10px 0;\r\n    }\r\n    .highlight {\r\n        background-color: #fff3cd;\r\n        padding: 10px;\r\n        border-radius: 4px;\r\n        margin: 10px 0;\r\n    }\r\n    .button {\r\n        display: inline-block;\r\n        padding: 10px 20px;\r\n        background-color: #007bff;\r\n        color: white;\r\n        text-decoration: none;\r\n        border-radius: 5px;\r\n        margin: 10px 0;\r\n    }\r\n    .recommendation {\r\n        background-color: #e8f4f8;\r\n        padding: 15px;\r\n        border-radius: 5px;\r\n        margin: 10px 0;\r\n    }\r\n</style>\r\n`;\r\n\r\n/**\r\n * Generate HTML email template\r\n * @param {Object} data - Email data\r\n * @returns {string} HTML email template\r\n */\r\nconst generateEmailTemplate = (data) => {\r\n  try {\r\n    if (!data || typeof data !== 'object') {\r\n      throw new Error('Invalid email data');\r\n    }\r\n\r\n    const title = data.title || 'ExcelyTech Communication';\r\n    const content = data.content || '';\r\n\r\n    if (!content) {\r\n      throw new Error('Email content is required');\r\n    }\r\n\r\n    return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    ${EMAIL_STYLES}\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        <img src=\"${EXCELYTECH_LOGO}\" alt=\"ExcelyTech Logo\" class=\"logo\">\r\n        <div class=\"company-name\">ExcelyTech</div>\r\n        <h1>${title}</h1>\r\n    </div>\r\n\r\n    ${content}\r\n\r\n    <div class=\"footer\">\r\n        <p>Best regards,<br>ExcelyTech Team</p>\r\n        <p>Email: support@excelytech.com<br>Phone: +1 (555) 123-4567</p>\r\n    </div>\r\n</body>\r\n</html>\r\n    `;\r\n  } catch (error) {\r\n    console.error('Error generating email template:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Send an email using EmailJS\r\n * @param {Object} data - The email data\r\n * @param {string} data.to_email - Recipient's email address\r\n * @param {string} data.subject - Email subject\r\n * @param {string} data.title - Email title\r\n * @param {string} data.content - Email content\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendEmail = async (data) => {\r\n  try {\r\n    console.log('sendEmail called with data:', JSON.stringify(data, null, 2));\r\n\r\n    if (!data || typeof data !== 'object') {\r\n      throw new Error('Invalid email data');\r\n    }\r\n\r\n    if (!data.to_email) {\r\n      throw new Error('Recipient email is required');\r\n    }\r\n\r\n    if (!data.subject) {\r\n      throw new Error('Email subject is required');\r\n    }\r\n\r\n    // Check for either message or content\r\n    const emailContent = data.content || data.message;\r\n    if (!emailContent) {\r\n      console.error('Missing content in data:', data);\r\n      throw new Error('Email content is required');\r\n    }\r\n\r\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\r\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\r\n\r\n    if (!serviceId || !templateId) {\r\n      throw new Error('EmailJS service ID or template ID is not configured');\r\n    }\r\n\r\n    // Generate the full HTML template\r\n    const fullHtmlContent = generateEmailTemplate({\r\n      ...data,\r\n      content: emailContent\r\n    });\r\n\r\n    console.log('Generated HTML content length:', fullHtmlContent.length);\r\n    console.log('HTML content preview:', fullHtmlContent.substring(0, 200) + '...');\r\n\r\n    const templateParams = {\r\n      to_email: data.to_email,\r\n      subject: data.subject,\r\n      message: fullHtmlContent,  // Use the full HTML content directly\r\n      is_html: true\r\n    };\r\n\r\n    console.log('Sending email with template params:', JSON.stringify({\r\n      ...templateParams,\r\n      message: templateParams.message.substring(0, 200) + '...' // Log preview of message\r\n    }, null, 2));\r\n\r\n    const response = await emailjs.send(\r\n      serviceId,\r\n      templateId,\r\n      templateParams\r\n    );\r\n\r\n    console.log('Email sent successfully:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error sending email:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Send quotation email\r\n * @param {Object} data - Quotation data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendQuotation = async (data) => {\r\n  try {\r\n    console.log('sendQuotation called with data:', JSON.stringify(data, null, 2));\r\n\r\n    if (!data || typeof data !== 'object') {\r\n      throw new Error('Invalid quotation data');\r\n    }\r\n\r\n    const requiredFields = ['to_email', 'customerName', 'companyName', 'products', 'commitmentLevel', 'isAnnual', 'monthlyVolume', 'totalSpend'];\r\n    for (const field of requiredFields) {\r\n      if (!data[field]) {\r\n        throw new Error(`Missing required field: ${field}`);\r\n      }\r\n    }\r\n\r\n    const quotationDate = new Date().toLocaleDateString();\r\n    const validUntil = new Date();\r\n    validUntil.setDate(validUntil.getDate() + 30);\r\n    const quotationRef = `ETQ-${Date.now().toString().slice(-6)}`;\r\n\r\n    console.log('Generating total cost...');\r\n    const totalCost = calculateTotalCost(\r\n      data.products,\r\n      data.products.reduce((sum, p) => sum + p.quantity, 0),\r\n      data.isAnnual,\r\n      false,\r\n      data.monthlyVolume,\r\n      data.totalSpend\r\n    );\r\n    console.log('Total cost calculated:', totalCost);\r\n\r\n    console.log('Getting loyalty tier...');\r\n    const loyaltyTier = getLoyaltyTier(data.totalSpend);\r\n    console.log('Loyalty tier:', loyaltyTier);\r\n\r\n    console.log('Generating fee report...');\r\n    const feeReport = generateFeeReport(\r\n      { amount: totalCost.total },\r\n      data.monthlyVolume,\r\n      data.totalSpend\r\n    );\r\n    console.log('Fee report:', feeReport);\r\n\r\n    console.log('Getting upsell opportunities...');\r\n    const upsellOpportunities = getUpsellOpportunities(\r\n      data.products,\r\n      data.commitmentLevel,\r\n      data.totalSpend\r\n    );\r\n    console.log('Upsell opportunities:', upsellOpportunities);\r\n\r\n    console.log('Generating email content...');\r\n    const content = `\r\n      <p>Dear ${data.customerName},</p>\r\n      <p>Thank you for choosing ExcelyTech. We are pleased to present our comprehensive solution for ${data.companyName}.</p>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">QUOTATION DETAILS</div>\r\n          <p>Quotation Date: ${quotationDate}<br>\r\n          Valid Until: ${validUntil.toLocaleDateString()}<br>\r\n          Quotation Reference: ${quotationRef}<br>\r\n          Commitment Level: ${data.commitmentLevel}<br>\r\n          Billing Cycle: ${data.isAnnual ? 'Annual' : 'Monthly'}</p>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">CUSTOMER INFORMATION</div>\r\n          <p>Company: ${data.companyName}<br>\r\n          Loyalty Tier: ${loyaltyTier.name}<br>\r\n          Monthly Volume: ${formatCurrency(data.monthlyVolume)}<br>\r\n          Total Spend: ${formatCurrency(data.totalSpend)}</p>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">PRODUCTS & SERVICES</div>\r\n          ${data.products.map(p => `\r\n          <div style=\"margin-bottom: 15px;\">\r\n              <strong>${p.name}</strong><br>\r\n              - Quantity: ${p.quantity}<br>\r\n              - Unit Price: ${formatCurrency(p.unitPrice)}<br>\r\n              - Subtotal: ${formatCurrency(p.unitPrice * p.quantity)}<br>\r\n              - Features: ${p.features ? p.features.join(', ') : 'Standard features included'}\r\n          </div>\r\n          `).join('')}\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">COST BREAKDOWN</div>\r\n          <table class=\"cost-breakdown\">\r\n              <tr>\r\n                  <td>Subtotal:</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.subtotal)}</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>Processing Fees:</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.processingFees)}</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>Service Fees:</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(feeReport.serviceFee)}</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>Volume Discount:</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.volumeDiscount)}</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>Commitment Discount:</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.commitmentDiscount)}</td>\r\n              </tr>\r\n              <tr>\r\n                  <td>Tax (${(FINANCIAL_CONSTANTS.TAX_RATE * 100).toFixed(1)}%):</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.tax)}</td>\r\n              </tr>\r\n              <tr class=\"total\">\r\n                  <td>Total Amount:</td>\r\n                  <td style=\"text-align: right;\">${formatCurrency(totalCost.total)}</td>\r\n              </tr>\r\n          </table>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">RECOMMENDED ADD-ONS</div>\r\n          ${upsellOpportunities.map(opp => `\r\n          <div class=\"recommendation\">\r\n              <strong>${opp.name}</strong><br>\r\n              - Price: ${formatCurrency(opp.price)}<br>\r\n              - Description: ${opp.description}<br>\r\n              - Benefits: ${opp.benefits.join(', ')}\r\n          </div>\r\n          `).join('')}\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">NEXT STEPS</div>\r\n          <p>1. Review the quotation<br>\r\n          2. Sign and return the acceptance form<br>\r\n          3. Our team will contact you to schedule implementation<br>\r\n          4. Begin your ExcelyTech journey!</p>\r\n          <a href=\"#\" class=\"button\">Accept Quotation</a>\r\n      </div>\r\n    `;\r\n\r\n    console.log('Generated content length:', content.length);\r\n    console.log('Content preview:', content.substring(0, 200) + '...');\r\n\r\n    const emailData = {\r\n      to_email: data.to_email,\r\n      subject: `ExcelyTech Quotation - ${data.companyName} - ${quotationRef}`,\r\n      title: 'OFFICIAL QUOTATION',\r\n      content\r\n    };\r\n\r\n    console.log('Sending email with data:', JSON.stringify(emailData, null, 2));\r\n\r\n    return await sendEmail(emailData);\r\n  } catch (error) {\r\n    console.error('Error sending quotation:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Send pricing recommendations email\r\n * @param {Object} data - Customer and pricing data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendPricingRecommendations = async (data) => {\r\n  try {\r\n    if (!data || typeof data !== 'object') {\r\n      throw new Error('Invalid pricing recommendations data');\r\n    }\r\n\r\n    const requiredFields = ['to_email', 'customerName', 'products', 'totalSpend', 'monthlyVolume', 'commitmentLevel'];\r\n    for (const field of requiredFields) {\r\n      if (!data[field]) {\r\n        throw new Error(`Missing required field: ${field}`);\r\n      }\r\n    }\r\n\r\n    const loyaltyTier = getLoyaltyTier(data.totalSpend);\r\n    const upsellOpportunities = getUpsellOpportunities(\r\n      data.products,\r\n      data.commitmentLevel,\r\n      data.totalSpend\r\n    );\r\n    const profitRecommendations = getProfitOptimizationRecommendations(\r\n      data.products,\r\n      data.commitmentLevel,\r\n      data.totalSpend\r\n    );\r\n    const feeReport = generateFeeReport(\r\n      { amount: data.totalSpend },\r\n      data.monthlyVolume,\r\n      data.totalSpend\r\n    );\r\n    const feeSavings = calculateFeeSavings(\r\n      { amount: data.totalSpend },\r\n      data.monthlyVolume,\r\n      data.totalSpend\r\n    );\r\n    const recommendations = getRecommendations(\r\n      data.products,\r\n      feeReport.serviceFee,\r\n      data.commitmentLevel,\r\n      feeReport.profitBeforeTax,\r\n      data.totalSpend,\r\n      data.monthlyVolume\r\n    );\r\n\r\n    const content = `\r\n      <p>Dear ${data.customerName},</p>\r\n      <p>We've analyzed your account and have some personalized recommendations to help you optimize your costs and maximize benefits:</p>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">CURRENT STATUS</div>\r\n          <p>Loyalty Tier: ${loyaltyTier.name}<br>\r\n          Total Spend: ${formatCurrency(data.totalSpend)}<br>\r\n          Monthly Volume: ${formatCurrency(data.monthlyVolume)}</p>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">FEE ANALYSIS</div>\r\n          <div class=\"highlight\">${feeReport.summary}</div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">POTENTIAL SAVINGS</div>\r\n          <div class=\"highlight\">${feeSavings.summary}</div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">RECOMMENDED ACTIONS</div>\r\n          ${recommendations.map(rec => `<p>- ${rec}</p>`).join('')}\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">UPSELL OPPORTUNITIES</div>\r\n          ${upsellOpportunities.map(opp => `\r\n          <div class=\"recommendation\">\r\n              <strong>${opp.name}</strong><br>\r\n              ${opp.description}\r\n          </div>\r\n          `).join('')}\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">PROFIT OPTIMIZATION</div>\r\n          ${profitRecommendations.map(rec => `<p>- ${rec}</p>`).join('')}\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <p>Would you like to discuss any of these recommendations in detail? Our team is ready to help you implement these optimizations.</p>\r\n          <a href=\"#\" class=\"button\">Schedule a Call</a>\r\n      </div>\r\n    `;\r\n\r\n    return await sendEmail({\r\n      to_email: data.to_email,\r\n      subject: `Personalized Pricing Recommendations for ${data.customerName}`,\r\n      title: 'PRICING OPTIMIZATION RECOMMENDATIONS',\r\n      content\r\n    });\r\n  } catch (error) {\r\n    console.error('Error sending pricing recommendations:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Send commitment optimization email\r\n * @param {Object} data - Customer and commitment data\r\n * @returns {Promise} - Promise that resolves when email is sent\r\n */\r\nexport const sendCommitmentOptimization = async (data) => {\r\n  try {\r\n    if (!data || typeof data !== 'object') {\r\n      throw new Error('Invalid commitment optimization data');\r\n    }\r\n\r\n    const requiredFields = ['to_email', 'customerName', 'currentCommitment', 'recommendedCommitment', 'savings'];\r\n    for (const field of requiredFields) {\r\n      if (!data[field]) {\r\n        throw new Error(`Missing required field: ${field}`);\r\n      }\r\n    }\r\n\r\n    const content = `\r\n      <p>Dear ${data.customerName},</p>\r\n      <p>We've identified an opportunity to optimize your commitment level and increase your savings:</p>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">COMMITMENT COMPARISON</div>\r\n          <p>Current Commitment: ${data.currentCommitment}<br>\r\n          Recommended Commitment: ${data.recommendedCommitment}</p>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <div class=\"section-title\">POTENTIAL BENEFITS</div>\r\n          <div class=\"highlight\">\r\n              <p>- Annual Savings: ${formatCurrency(data.savings.annual)}<br>\r\n              - Processing Fee Savings: ${formatCurrency(data.savings.processingFees)}<br>\r\n              - Service Fee Savings: ${formatCurrency(data.savings.serviceFees)}<br>\r\n              - Additional Benefits: ${data.savings.additionalBenefits.join(', ')}</p>\r\n          </div>\r\n      </div>\r\n\r\n      <div class=\"section\">\r\n          <p>Would you like to discuss upgrading your commitment level? Our team is available to help you make this transition smoothly.</p>\r\n          <a href=\"#\" class=\"button\">Upgrade Now</a>\r\n      </div>\r\n    `;\r\n\r\n    return await sendEmail({\r\n      to_email: data.to_email,\r\n      subject: `Commitment Optimization Opportunity for ${data.customerName}`,\r\n      title: 'COMMITMENT OPTIMIZATION',\r\n      content\r\n    });\r\n  } catch (error) {\r\n    console.error('Error sending commitment optimization:', error);\r\n    throw error;\r\n  }\r\n}; "],"mappings":"AAAA,OAAOA,OAAO,MAAM,kBAAkB;AACtC,SACEC,cAAc,EACdC,sBAAsB,EACtBC,oCAAoC,EACpCC,iBAAiB,EACjBC,mBAAmB,EACnBC,kBAAkB,EAClBC,kBAAkB,EAClBC,cAAc,EACdC,mBAAmB,QACd,WAAW;;AAElB;AACA,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,IAAI;IACF,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,4BAA4B;IAC1D,IAAI,CAACH,SAAS,EAAE;MACd,MAAM,IAAII,KAAK,CAAC,sCAAsC,CAAC;IACzD;IACAf,OAAO,CAACgB,IAAI,CAACL,SAAS,CAAC;IACvBM,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;EACjD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACAT,WAAW,CAAC,CAAC;;AAEb;AACA,MAAMU,eAAe,GAAG,wxDAAwxD;;AAEhzD;AACA;AACA;AACA,MAAMC,YAAY,GAAG;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,qBAAqB,GAAIC,IAAI,IAAK;EACtC,IAAI;IACF,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MACrC,MAAM,IAAIR,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAMS,KAAK,GAAGD,IAAI,CAACC,KAAK,IAAI,0BAA0B;IACtD,MAAMC,OAAO,GAAGF,IAAI,CAACE,OAAO,IAAI,EAAE;IAElC,IAAI,CAACA,OAAO,EAAE;MACZ,MAAM,IAAIV,KAAK,CAAC,2BAA2B,CAAC;IAC9C;IAEA,OAAO;AACX;AACA;AACA;AACA;AACA;AACA,MAAMM,YAAY;AAClB;AACA;AACA;AACA,oBAAoBD,eAAe;AACnC;AACA,cAAcI,KAAK;AACnB;AACA;AACA,MAAMC,OAAO;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EACH,CAAC,CAAC,OAAON,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IACxD,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMO,SAAS,GAAG,MAAOH,IAAI,IAAK;EACvC,IAAI;IACFN,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAES,IAAI,CAACC,SAAS,CAACL,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAEzE,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MACrC,MAAM,IAAIR,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,IAAI,CAACQ,IAAI,CAACM,QAAQ,EAAE;MAClB,MAAM,IAAId,KAAK,CAAC,6BAA6B,CAAC;IAChD;IAEA,IAAI,CAACQ,IAAI,CAACO,OAAO,EAAE;MACjB,MAAM,IAAIf,KAAK,CAAC,2BAA2B,CAAC;IAC9C;;IAEA;IACA,MAAMgB,YAAY,GAAGR,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACS,OAAO;IACjD,IAAI,CAACD,YAAY,EAAE;MACjBd,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEI,IAAI,CAAC;MAC/C,MAAM,IAAIR,KAAK,CAAC,2BAA2B,CAAC;IAC9C;IAEA,MAAMkB,SAAS,GAAGrB,OAAO,CAACC,GAAG,CAACqB,4BAA4B;IAC1D,MAAMC,UAAU,GAAGvB,OAAO,CAACC,GAAG,CAACuB,6BAA6B;IAE5D,IAAI,CAACH,SAAS,IAAI,CAACE,UAAU,EAAE;MAC7B,MAAM,IAAIpB,KAAK,CAAC,qDAAqD,CAAC;IACxE;;IAEA;IACA,MAAMsB,eAAe,GAAGf,qBAAqB,CAAC;MAC5C,GAAGC,IAAI;MACPE,OAAO,EAAEM;IACX,CAAC,CAAC;IAEFd,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEmB,eAAe,CAACC,MAAM,CAAC;IACrErB,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEmB,eAAe,CAACE,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;IAE/E,MAAMC,cAAc,GAAG;MACrBX,QAAQ,EAAEN,IAAI,CAACM,QAAQ;MACvBC,OAAO,EAAEP,IAAI,CAACO,OAAO;MACrBE,OAAO,EAAEK,eAAe;MAAG;MAC3BI,OAAO,EAAE;IACX,CAAC;IAEDxB,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAES,IAAI,CAACC,SAAS,CAAC;MAChE,GAAGY,cAAc;MACjBR,OAAO,EAAEQ,cAAc,CAACR,OAAO,CAACO,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;IAC5D,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAEZ,MAAMG,QAAQ,GAAG,MAAM1C,OAAO,CAAC2C,IAAI,CACjCV,SAAS,EACTE,UAAU,EACVK,cACF,CAAC;IAEDvB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEwB,QAAQ,CAAC;IACjD,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOvB,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMyB,aAAa,GAAG,MAAOrB,IAAI,IAAK;EAC3C,IAAI;IACFN,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAES,IAAI,CAACC,SAAS,CAACL,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAE7E,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MACrC,MAAM,IAAIR,KAAK,CAAC,wBAAwB,CAAC;IAC3C;IAEA,MAAM8B,cAAc,GAAG,CAAC,UAAU,EAAE,cAAc,EAAE,aAAa,EAAE,UAAU,EAAE,iBAAiB,EAAE,UAAU,EAAE,eAAe,EAAE,YAAY,CAAC;IAC5I,KAAK,MAAMC,KAAK,IAAID,cAAc,EAAE;MAClC,IAAI,CAACtB,IAAI,CAACuB,KAAK,CAAC,EAAE;QAChB,MAAM,IAAI/B,KAAK,CAAC,2BAA2B+B,KAAK,EAAE,CAAC;MACrD;IACF;IAEA,MAAMC,aAAa,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC;IACrD,MAAMC,UAAU,GAAG,IAAIF,IAAI,CAAC,CAAC;IAC7BE,UAAU,CAACC,OAAO,CAACD,UAAU,CAACE,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;IAC7C,MAAMC,YAAY,GAAG,OAAOL,IAAI,CAACM,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;IAE7DvC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvC,MAAMuC,SAAS,GAAGlD,kBAAkB,CAClCgB,IAAI,CAACmC,QAAQ,EACbnC,IAAI,CAACmC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,GAAGC,CAAC,CAACC,QAAQ,EAAE,CAAC,CAAC,EACrDvC,IAAI,CAACwC,QAAQ,EACb,KAAK,EACLxC,IAAI,CAACyC,aAAa,EAClBzC,IAAI,CAAC0C,UACP,CAAC;IACDhD,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEuC,SAAS,CAAC;IAEhDxC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtC,MAAMgD,WAAW,GAAGjE,cAAc,CAACsB,IAAI,CAAC0C,UAAU,CAAC;IACnDhD,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEgD,WAAW,CAAC;IAEzCjD,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvC,MAAMiD,SAAS,GAAG/D,iBAAiB,CACjC;MAAEgE,MAAM,EAAEX,SAAS,CAACY;IAAM,CAAC,EAC3B9C,IAAI,CAACyC,aAAa,EAClBzC,IAAI,CAAC0C,UACP,CAAC;IACDhD,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEiD,SAAS,CAAC;IAErClD,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAC9C,MAAMoD,mBAAmB,GAAGpE,sBAAsB,CAChDqB,IAAI,CAACmC,QAAQ,EACbnC,IAAI,CAACgD,eAAe,EACpBhD,IAAI,CAAC0C,UACP,CAAC;IACDhD,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEoD,mBAAmB,CAAC;IAEzDrD,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;IAC1C,MAAMO,OAAO,GAAG;AACpB,gBAAgBF,IAAI,CAACiD,YAAY;AACjC,uGAAuGjD,IAAI,CAACkD,WAAW;AACvH;AACA;AACA;AACA,+BAA+B1B,aAAa;AAC5C,yBAAyBG,UAAU,CAACD,kBAAkB,CAAC,CAAC;AACxD,iCAAiCI,YAAY;AAC7C,8BAA8B9B,IAAI,CAACgD,eAAe;AAClD,2BAA2BhD,IAAI,CAACwC,QAAQ,GAAG,QAAQ,GAAG,SAAS;AAC/D;AACA;AACA;AACA;AACA,wBAAwBxC,IAAI,CAACkD,WAAW;AACxC,0BAA0BP,WAAW,CAACQ,IAAI;AAC1C,4BAA4BlE,cAAc,CAACe,IAAI,CAACyC,aAAa,CAAC;AAC9D,yBAAyBxD,cAAc,CAACe,IAAI,CAAC0C,UAAU,CAAC;AACxD;AACA;AACA;AACA;AACA,YAAY1C,IAAI,CAACmC,QAAQ,CAACiB,GAAG,CAACd,CAAC,IAAI;AACnC;AACA,wBAAwBA,CAAC,CAACa,IAAI;AAC9B,4BAA4Bb,CAAC,CAACC,QAAQ;AACtC,8BAA8BtD,cAAc,CAACqD,CAAC,CAACe,SAAS,CAAC;AACzD,4BAA4BpE,cAAc,CAACqD,CAAC,CAACe,SAAS,GAAGf,CAAC,CAACC,QAAQ,CAAC;AACpE,4BAA4BD,CAAC,CAACgB,QAAQ,GAAGhB,CAAC,CAACgB,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG,4BAA4B;AAC7F;AACA,WAAW,CAAC,CAACA,IAAI,CAAC,EAAE,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmDtE,cAAc,CAACiD,SAAS,CAACsB,QAAQ,CAAC;AACrF;AACA;AACA;AACA,mDAAmDvE,cAAc,CAACiD,SAAS,CAACuB,cAAc,CAAC;AAC3F;AACA;AACA;AACA,mDAAmDxE,cAAc,CAAC2D,SAAS,CAACc,UAAU,CAAC;AACvF;AACA;AACA;AACA,mDAAmDzE,cAAc,CAACiD,SAAS,CAACyB,cAAc,CAAC;AAC3F;AACA;AACA;AACA,mDAAmD1E,cAAc,CAACiD,SAAS,CAAC0B,kBAAkB,CAAC;AAC/F;AACA;AACA,6BAA6B,CAAC1E,mBAAmB,CAAC2E,QAAQ,GAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC;AAC5E,mDAAmD7E,cAAc,CAACiD,SAAS,CAAC6B,GAAG,CAAC;AAChF;AACA;AACA;AACA,mDAAmD9E,cAAc,CAACiD,SAAS,CAACY,KAAK,CAAC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,YAAYC,mBAAmB,CAACK,GAAG,CAACY,GAAG,IAAI;AAC3C;AACA,wBAAwBA,GAAG,CAACb,IAAI;AAChC,yBAAyBlE,cAAc,CAAC+E,GAAG,CAACC,KAAK,CAAC;AAClD,+BAA+BD,GAAG,CAACE,WAAW;AAC9C,4BAA4BF,GAAG,CAACG,QAAQ,CAACZ,IAAI,CAAC,IAAI,CAAC;AACnD;AACA,WAAW,CAAC,CAACA,IAAI,CAAC,EAAE,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;IAED7D,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEO,OAAO,CAACa,MAAM,CAAC;IACxDrB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEO,OAAO,CAACc,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;IAElE,MAAMoD,SAAS,GAAG;MAChB9D,QAAQ,EAAEN,IAAI,CAACM,QAAQ;MACvBC,OAAO,EAAE,0BAA0BP,IAAI,CAACkD,WAAW,MAAMpB,YAAY,EAAE;MACvE7B,KAAK,EAAE,oBAAoB;MAC3BC;IACF,CAAC;IAEDR,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAES,IAAI,CAACC,SAAS,CAAC+D,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAE3E,OAAO,MAAMjE,SAAS,CAACiE,SAAS,CAAC;EACnC,CAAC,CAAC,OAAOxE,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMyE,0BAA0B,GAAG,MAAOrE,IAAI,IAAK;EACxD,IAAI;IACF,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MACrC,MAAM,IAAIR,KAAK,CAAC,sCAAsC,CAAC;IACzD;IAEA,MAAM8B,cAAc,GAAG,CAAC,UAAU,EAAE,cAAc,EAAE,UAAU,EAAE,YAAY,EAAE,eAAe,EAAE,iBAAiB,CAAC;IACjH,KAAK,MAAMC,KAAK,IAAID,cAAc,EAAE;MAClC,IAAI,CAACtB,IAAI,CAACuB,KAAK,CAAC,EAAE;QAChB,MAAM,IAAI/B,KAAK,CAAC,2BAA2B+B,KAAK,EAAE,CAAC;MACrD;IACF;IAEA,MAAMoB,WAAW,GAAGjE,cAAc,CAACsB,IAAI,CAAC0C,UAAU,CAAC;IACnD,MAAMK,mBAAmB,GAAGpE,sBAAsB,CAChDqB,IAAI,CAACmC,QAAQ,EACbnC,IAAI,CAACgD,eAAe,EACpBhD,IAAI,CAAC0C,UACP,CAAC;IACD,MAAM4B,qBAAqB,GAAG1F,oCAAoC,CAChEoB,IAAI,CAACmC,QAAQ,EACbnC,IAAI,CAACgD,eAAe,EACpBhD,IAAI,CAAC0C,UACP,CAAC;IACD,MAAME,SAAS,GAAG/D,iBAAiB,CACjC;MAAEgE,MAAM,EAAE7C,IAAI,CAAC0C;IAAW,CAAC,EAC3B1C,IAAI,CAACyC,aAAa,EAClBzC,IAAI,CAAC0C,UACP,CAAC;IACD,MAAM6B,UAAU,GAAGzF,mBAAmB,CACpC;MAAE+D,MAAM,EAAE7C,IAAI,CAAC0C;IAAW,CAAC,EAC3B1C,IAAI,CAACyC,aAAa,EAClBzC,IAAI,CAAC0C,UACP,CAAC;IACD,MAAM8B,eAAe,GAAGzF,kBAAkB,CACxCiB,IAAI,CAACmC,QAAQ,EACbS,SAAS,CAACc,UAAU,EACpB1D,IAAI,CAACgD,eAAe,EACpBJ,SAAS,CAAC6B,eAAe,EACzBzE,IAAI,CAAC0C,UAAU,EACf1C,IAAI,CAACyC,aACP,CAAC;IAED,MAAMvC,OAAO,GAAG;AACpB,gBAAgBF,IAAI,CAACiD,YAAY;AACjC;AACA;AACA;AACA;AACA,6BAA6BN,WAAW,CAACQ,IAAI;AAC7C,yBAAyBlE,cAAc,CAACe,IAAI,CAAC0C,UAAU,CAAC;AACxD,4BAA4BzD,cAAc,CAACe,IAAI,CAACyC,aAAa,CAAC;AAC9D;AACA;AACA;AACA;AACA,mCAAmCG,SAAS,CAAC8B,OAAO;AACpD;AACA;AACA;AACA;AACA,mCAAmCH,UAAU,CAACG,OAAO;AACrD;AACA;AACA;AACA;AACA,YAAYF,eAAe,CAACpB,GAAG,CAACuB,GAAG,IAAI,QAAQA,GAAG,MAAM,CAAC,CAACpB,IAAI,CAAC,EAAE,CAAC;AAClE;AACA;AACA;AACA;AACA,YAAYR,mBAAmB,CAACK,GAAG,CAACY,GAAG,IAAI;AAC3C;AACA,wBAAwBA,GAAG,CAACb,IAAI;AAChC,gBAAgBa,GAAG,CAACE,WAAW;AAC/B;AACA,WAAW,CAAC,CAACX,IAAI,CAAC,EAAE,CAAC;AACrB;AACA;AACA;AACA;AACA,YAAYe,qBAAqB,CAAClB,GAAG,CAACuB,GAAG,IAAI,QAAQA,GAAG,MAAM,CAAC,CAACpB,IAAI,CAAC,EAAE,CAAC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;IAED,OAAO,MAAMpD,SAAS,CAAC;MACrBG,QAAQ,EAAEN,IAAI,CAACM,QAAQ;MACvBC,OAAO,EAAE,4CAA4CP,IAAI,CAACiD,YAAY,EAAE;MACxEhD,KAAK,EAAE,sCAAsC;MAC7CC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAON,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAC9D,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMgF,0BAA0B,GAAG,MAAO5E,IAAI,IAAK;EACxD,IAAI;IACF,IAAI,CAACA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MACrC,MAAM,IAAIR,KAAK,CAAC,sCAAsC,CAAC;IACzD;IAEA,MAAM8B,cAAc,GAAG,CAAC,UAAU,EAAE,cAAc,EAAE,mBAAmB,EAAE,uBAAuB,EAAE,SAAS,CAAC;IAC5G,KAAK,MAAMC,KAAK,IAAID,cAAc,EAAE;MAClC,IAAI,CAACtB,IAAI,CAACuB,KAAK,CAAC,EAAE;QAChB,MAAM,IAAI/B,KAAK,CAAC,2BAA2B+B,KAAK,EAAE,CAAC;MACrD;IACF;IAEA,MAAMrB,OAAO,GAAG;AACpB,gBAAgBF,IAAI,CAACiD,YAAY;AACjC;AACA;AACA;AACA;AACA,mCAAmCjD,IAAI,CAAC6E,iBAAiB;AACzD,oCAAoC7E,IAAI,CAAC8E,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA,qCAAqC7F,cAAc,CAACe,IAAI,CAAC+E,OAAO,CAACC,MAAM,CAAC;AACxE,0CAA0C/F,cAAc,CAACe,IAAI,CAAC+E,OAAO,CAACtB,cAAc,CAAC;AACrF,uCAAuCxE,cAAc,CAACe,IAAI,CAAC+E,OAAO,CAACE,WAAW,CAAC;AAC/E,uCAAuCjF,IAAI,CAAC+E,OAAO,CAACG,kBAAkB,CAAC3B,IAAI,CAAC,IAAI,CAAC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;IAED,OAAO,MAAMpD,SAAS,CAAC;MACrBG,QAAQ,EAAEN,IAAI,CAACM,QAAQ;MACvBC,OAAO,EAAE,2CAA2CP,IAAI,CAACiD,YAAY,EAAE;MACvEhD,KAAK,EAAE,yBAAyB;MAChCC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAON,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAC9D,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}