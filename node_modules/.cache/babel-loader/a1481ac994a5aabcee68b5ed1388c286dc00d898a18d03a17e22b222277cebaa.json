{"ast":null,"code":"// Constants for financial calculations\nexport const FINANCIAL_CONSTANTS = {\n  ANNUAL_DISCOUNT_RATE: 0.03,\n  INDUSTRY_AVG_SERVICE_FEE: 100,\n  SERVICE_FEE_THRESHOLD_LOW: 0.8,\n  SERVICE_FEE_THRESHOLD_HIGH: 1.2,\n  TAX_RATE: 0.13,\n  DEFAULT_MARGIN: 0.35,\n  MIN_MARGIN: 0.20,\n  TARGET_MARGIN: 0.35,\n  HIGH_MARGIN: 0.40,\n  MIN_PROFIT_THRESHOLD: 200,\n  MIN_SERVICE_FEE: 100\n};\n\n/**\r\n * Get pricing data for a product based on quantity\r\n * @param {Object} product - Product object\r\n * @param {number} qty - Quantity\r\n * @returns {Object} Pricing slab data\r\n * @throws {Error} If product or quantity is invalid\r\n */\nexport const getPricingData = (product, qty) => {\n  if (!product || !product.pricingSlabs) {\n    throw new Error('Invalid product data');\n  }\n  if (!Number.isInteger(qty) || qty < 1) {\n    throw new Error('Quantity must be a positive integer');\n  }\n\n  // Validate pricing slabs\n  product.pricingSlabs.forEach(slab => {\n    if (slab.unitCost < 0) {\n      throw new Error(`Invalid unit cost (${slab.unitCost}) for product ${product.name}`);\n    }\n    if (slab.margin < FINANCIAL_CONSTANTS.MIN_MARGIN) {\n      throw new Error(`Margin (${slab.margin}) below minimum threshold for product ${product.name}`);\n    }\n  });\n  const slab = product.pricingSlabs.find(slab => qty >= slab.minQty && qty <= slab.maxQty);\n  return slab || product.pricingSlabs[product.pricingSlabs.length - 1];\n};\n\n/**\r\n * Get package name based on number of products\r\n * @param {Array} products - Array of products\r\n * @returns {string} Package name\r\n */\nexport const getPackageName = products => {\n  if (!Array.isArray(products)) {\n    throw new Error('Invalid products array');\n  }\n  return products.length >= 2 ? \"Backup Total\" : \"Backup Basic\";\n};\n\n/**\r\n * Calculate total cost with proper decimal handling\r\n * @param {number} amount - Amount to format\r\n * @returns {number} Formatted amount with 2 decimal places\r\n */\nexport const formatCurrency = amount => {\n  if (typeof amount !== 'number' || isNaN(amount)) {\n    throw new Error('Invalid amount for currency formatting');\n  }\n  if (!isFinite(amount)) {\n    throw new Error('Amount must be a finite number');\n  }\n  return Number(Math.round(amount + 'e2') + 'e-2');\n};\n\n/**\r\n * Get business recommendations based on current configuration\r\n * @param {Array} products - Array of selected products\r\n * @param {number} serviceCharge - Service charge amount\r\n * @param {string} billingCycle - Billing cycle (monthly/annual)\r\n * @param {number} profitBeforeTax - Profit before tax\r\n * @returns {Array} Array of recommendations\r\n */\nexport const getRecommendations = (products, serviceCharge, billingCycle, profitBeforeTax) => {\n  if (!Array.isArray(products) || typeof serviceCharge !== 'number' || !['monthly', 'annual'].includes(billingCycle) || typeof profitBeforeTax !== 'number') {\n    throw new Error('Invalid input parameters');\n  }\n  const recommendations = [];\n  const selectedCategories = products.map(p => p.category);\n\n  // 1. Margin improvement\n  const lowMarginProducts = products.filter(p => getPricingData(p, p.qty).margin < FINANCIAL_CONSTANTS.TARGET_MARGIN);\n  if (lowMarginProducts.length > 0) {\n    lowMarginProducts.forEach(p => {\n      const currentMargin = getPricingData(p, p.qty).margin;\n      recommendations.push(`Increase the margin for \"${p.name}\" (currently ${(currentMargin * 100).toFixed(1)}%) to at least ${(FINANCIAL_CONSTANTS.TARGET_MARGIN * 100).toFixed(1)}% to improve profitability.`);\n    });\n  }\n\n  // 2. Upsell higher-margin products\n  const highMarginProducts = products.filter(p => getPricingData(p, p.qty).margin >= FINANCIAL_CONSTANTS.HIGH_MARGIN);\n  if (highMarginProducts.length > 0) {\n    highMarginProducts.forEach(p => {\n      const margin = getPricingData(p, p.qty).margin;\n      recommendations.push(`Focus on upselling \"${p.name}\" (margin ${(margin * 100).toFixed(1)}%) for better profit.`);\n    });\n  }\n\n  // 3. Bundle services\n  if (products.length > 1) {\n    const bundleDiscount = FINANCIAL_CONSTANTS.ANNUAL_DISCOUNT_RATE * 100;\n    recommendations.push(`Bundle multiple products/services for a more attractive offer. Consider offering a ${bundleDiscount}% discount for annual commitments.`);\n  }\n\n  // 4. Service charge review\n  if (serviceCharge < FINANCIAL_CONSTANTS.MIN_SERVICE_FEE) {\n    recommendations.push(`Consider increasing your Professional Services & Support fee to at least $${FINANCIAL_CONSTANTS.MIN_SERVICE_FEE}/year to match industry averages.`);\n  }\n\n  // 5. Profitability check\n  if (profitBeforeTax < 0) {\n    recommendations.push(\"Warning: Your current configuration is not profitable. Review your pricing and costs.\");\n  } else if (profitBeforeTax < FINANCIAL_CONSTANTS.MIN_PROFIT_THRESHOLD) {\n    recommendations.push(`Your profit ($${profitBeforeTax.toFixed(2)}) is below the recommended threshold of $${FINANCIAL_CONSTANTS.MIN_PROFIT_THRESHOLD}. Consider increasing margins or service fees, or reducing costs.`);\n  } else {\n    recommendations.push(`Your configuration is profitable ($${profitBeforeTax.toFixed(2)}). Look for further upsell opportunities or cost optimizations.`);\n  }\n\n  // 6. Complementary product recommendations\n  const complementaryCategories = {\n    Desktop: [\"Server\", \"SaaS\"],\n    Server: [\"SaaS\", \"Virtual Server\"],\n    \"Virtual Server\": [\"SaaS\"],\n    SaaS: [\"Server\", \"Virtual Server\"]\n  };\n  const missingCategories = Object.entries(complementaryCategories).filter(([category]) => selectedCategories.includes(category)).flatMap(([, compCategories]) => compCategories.filter(cat => !selectedCategories.includes(cat))).filter((cat, index, self) => self.indexOf(cat) === index);\n  if (missingCategories.length > 0) {\n    const suggestedProduct = products.find(p => missingCategories.includes(p.category));\n    if (suggestedProduct) {\n      const potentialRevenue = formatCurrency(suggestedProduct.pricingSlabs[0].recommendedPrice * 5);\n      const annualRevenue = billingCycle === 'annual' ? formatCurrency(potentialRevenue * 12) : potentialRevenue;\n      recommendations.push(`Enhance your solution by adding a \"${suggestedProduct.category}\" product like \"${suggestedProduct.name}\". ` + `This can provide a more comprehensive backup strategy and increase your revenue by approximately $${annualRevenue} ${billingCycle === 'annual' ? 'per year' : 'per month'} for 5 units.`);\n    }\n  }\n  return recommendations;\n};","map":{"version":3,"names":["FINANCIAL_CONSTANTS","ANNUAL_DISCOUNT_RATE","INDUSTRY_AVG_SERVICE_FEE","SERVICE_FEE_THRESHOLD_LOW","SERVICE_FEE_THRESHOLD_HIGH","TAX_RATE","DEFAULT_MARGIN","MIN_MARGIN","TARGET_MARGIN","HIGH_MARGIN","MIN_PROFIT_THRESHOLD","MIN_SERVICE_FEE","getPricingData","product","qty","pricingSlabs","Error","Number","isInteger","forEach","slab","unitCost","name","margin","find","minQty","maxQty","length","getPackageName","products","Array","isArray","formatCurrency","amount","isNaN","isFinite","Math","round","getRecommendations","serviceCharge","billingCycle","profitBeforeTax","includes","recommendations","selectedCategories","map","p","category","lowMarginProducts","filter","currentMargin","push","toFixed","highMarginProducts","bundleDiscount","complementaryCategories","Desktop","Server","SaaS","missingCategories","Object","entries","flatMap","compCategories","cat","index","self","indexOf","suggestedProduct","potentialRevenue","recommendedPrice","annualRevenue"],"sources":["C:/Users/Hasan/Desktop/vscode/etcalc/src/utils/pricing.js"],"sourcesContent":["// Constants for financial calculations\r\nexport const FINANCIAL_CONSTANTS = {\r\n  ANNUAL_DISCOUNT_RATE: 0.03,\r\n  INDUSTRY_AVG_SERVICE_FEE: 100,\r\n  SERVICE_FEE_THRESHOLD_LOW: 0.8,\r\n  SERVICE_FEE_THRESHOLD_HIGH: 1.2,\r\n  TAX_RATE: 0.13,\r\n  DEFAULT_MARGIN: 0.35,\r\n  MIN_MARGIN: 0.20,\r\n  TARGET_MARGIN: 0.35,\r\n  HIGH_MARGIN: 0.40,\r\n  MIN_PROFIT_THRESHOLD: 200,\r\n  MIN_SERVICE_FEE: 100\r\n};\r\n\r\n/**\r\n * Get pricing data for a product based on quantity\r\n * @param {Object} product - Product object\r\n * @param {number} qty - Quantity\r\n * @returns {Object} Pricing slab data\r\n * @throws {Error} If product or quantity is invalid\r\n */\r\nexport const getPricingData = (product, qty) => {\r\n  if (!product || !product.pricingSlabs) {\r\n    throw new Error('Invalid product data');\r\n  }\r\n  \r\n  if (!Number.isInteger(qty) || qty < 1) {\r\n    throw new Error('Quantity must be a positive integer');\r\n  }\r\n\r\n  // Validate pricing slabs\r\n  product.pricingSlabs.forEach(slab => {\r\n    if (slab.unitCost < 0) {\r\n      throw new Error(`Invalid unit cost (${slab.unitCost}) for product ${product.name}`);\r\n    }\r\n    if (slab.margin < FINANCIAL_CONSTANTS.MIN_MARGIN) {\r\n      throw new Error(`Margin (${slab.margin}) below minimum threshold for product ${product.name}`);\r\n    }\r\n  });\r\n\r\n  const slab = product.pricingSlabs.find(\r\n    slab => qty >= slab.minQty && qty <= slab.maxQty\r\n  );\r\n\r\n  return slab || product.pricingSlabs[product.pricingSlabs.length - 1];\r\n};\r\n\r\n/**\r\n * Get package name based on number of products\r\n * @param {Array} products - Array of products\r\n * @returns {string} Package name\r\n */\r\nexport const getPackageName = (products) => {\r\n  if (!Array.isArray(products)) {\r\n    throw new Error('Invalid products array');\r\n  }\r\n  return products.length >= 2 ? \"Backup Total\" : \"Backup Basic\";\r\n};\r\n\r\n/**\r\n * Calculate total cost with proper decimal handling\r\n * @param {number} amount - Amount to format\r\n * @returns {number} Formatted amount with 2 decimal places\r\n */\r\nexport const formatCurrency = (amount) => {\r\n  if (typeof amount !== 'number' || isNaN(amount)) {\r\n    throw new Error('Invalid amount for currency formatting');\r\n  }\r\n  if (!isFinite(amount)) {\r\n    throw new Error('Amount must be a finite number');\r\n  }\r\n  return Number(Math.round(amount + 'e2') + 'e-2');\r\n};\r\n\r\n/**\r\n * Get business recommendations based on current configuration\r\n * @param {Array} products - Array of selected products\r\n * @param {number} serviceCharge - Service charge amount\r\n * @param {string} billingCycle - Billing cycle (monthly/annual)\r\n * @param {number} profitBeforeTax - Profit before tax\r\n * @returns {Array} Array of recommendations\r\n */\r\nexport const getRecommendations = (products, serviceCharge, billingCycle, profitBeforeTax) => {\r\n  if (!Array.isArray(products) || typeof serviceCharge !== 'number' || \r\n      !['monthly', 'annual'].includes(billingCycle) || typeof profitBeforeTax !== 'number') {\r\n    throw new Error('Invalid input parameters');\r\n  }\r\n\r\n  const recommendations = [];\r\n  const selectedCategories = products.map(p => p.category);\r\n\r\n  // 1. Margin improvement\r\n  const lowMarginProducts = products.filter(p => getPricingData(p, p.qty).margin < FINANCIAL_CONSTANTS.TARGET_MARGIN);\r\n  if (lowMarginProducts.length > 0) {\r\n    lowMarginProducts.forEach(p => {\r\n      const currentMargin = getPricingData(p, p.qty).margin;\r\n      recommendations.push(\r\n        `Increase the margin for \"${p.name}\" (currently ${(currentMargin * 100).toFixed(1)}%) to at least ${(FINANCIAL_CONSTANTS.TARGET_MARGIN * 100).toFixed(1)}% to improve profitability.`\r\n      );\r\n    });\r\n  }\r\n\r\n  // 2. Upsell higher-margin products\r\n  const highMarginProducts = products.filter(p => getPricingData(p, p.qty).margin >= FINANCIAL_CONSTANTS.HIGH_MARGIN);\r\n  if (highMarginProducts.length > 0) {\r\n    highMarginProducts.forEach(p => {\r\n      const margin = getPricingData(p, p.qty).margin;\r\n      recommendations.push(`Focus on upselling \"${p.name}\" (margin ${(margin * 100).toFixed(1)}%) for better profit.`);\r\n    });\r\n  }\r\n\r\n  // 3. Bundle services\r\n  if (products.length > 1) {\r\n    const bundleDiscount = FINANCIAL_CONSTANTS.ANNUAL_DISCOUNT_RATE * 100;\r\n    recommendations.push(\r\n      `Bundle multiple products/services for a more attractive offer. Consider offering a ${bundleDiscount}% discount for annual commitments.`\r\n    );\r\n  }\r\n\r\n  // 4. Service charge review\r\n  if (serviceCharge < FINANCIAL_CONSTANTS.MIN_SERVICE_FEE) {\r\n    recommendations.push(\r\n      `Consider increasing your Professional Services & Support fee to at least $${FINANCIAL_CONSTANTS.MIN_SERVICE_FEE}/year to match industry averages.`\r\n    );\r\n  }\r\n\r\n  // 5. Profitability check\r\n  if (profitBeforeTax < 0) {\r\n    recommendations.push(\"Warning: Your current configuration is not profitable. Review your pricing and costs.\");\r\n  } else if (profitBeforeTax < FINANCIAL_CONSTANTS.MIN_PROFIT_THRESHOLD) {\r\n    recommendations.push(\r\n      `Your profit ($${profitBeforeTax.toFixed(2)}) is below the recommended threshold of $${FINANCIAL_CONSTANTS.MIN_PROFIT_THRESHOLD}. Consider increasing margins or service fees, or reducing costs.`\r\n    );\r\n  } else {\r\n    recommendations.push(\r\n      `Your configuration is profitable ($${profitBeforeTax.toFixed(2)}). Look for further upsell opportunities or cost optimizations.`\r\n    );\r\n  }\r\n\r\n  // 6. Complementary product recommendations\r\n  const complementaryCategories = {\r\n    Desktop: [\"Server\", \"SaaS\"],\r\n    Server: [\"SaaS\", \"Virtual Server\"],\r\n    \"Virtual Server\": [\"SaaS\"],\r\n    SaaS: [\"Server\", \"Virtual Server\"],\r\n  };\r\n\r\n  const missingCategories = Object.entries(complementaryCategories)\r\n    .filter(([category]) => selectedCategories.includes(category))\r\n    .flatMap(([, compCategories]) => \r\n      compCategories.filter(cat => !selectedCategories.includes(cat))\r\n    )\r\n    .filter((cat, index, self) => self.indexOf(cat) === index);\r\n\r\n  if (missingCategories.length > 0) {\r\n    const suggestedProduct = products.find(p => missingCategories.includes(p.category));\r\n    if (suggestedProduct) {\r\n      const potentialRevenue = formatCurrency(suggestedProduct.pricingSlabs[0].recommendedPrice * 5);\r\n      const annualRevenue = billingCycle === 'annual' ? \r\n        formatCurrency(potentialRevenue * 12) : \r\n        potentialRevenue;\r\n      \r\n      recommendations.push(\r\n        `Enhance your solution by adding a \"${suggestedProduct.category}\" product like \"${suggestedProduct.name}\". ` +\r\n        `This can provide a more comprehensive backup strategy and increase your revenue by approximately $${annualRevenue} ${billingCycle === 'annual' ? 'per year' : 'per month'} for 5 units.`\r\n      );\r\n    }\r\n  }\r\n\r\n  return recommendations;\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}